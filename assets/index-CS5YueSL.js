import{i as e,B as t,a as s,c as a,b as r,m as i,d as n,e as o,r as l,j as c,f as d,T as h,g as u,L as m,u as x,M as p,h as g,D as j,k as f,H as y,l as b,n as v,o as w,p as S,q as k,C,s as R,t as A,F as I,S as N,v as T,I as D,w as P,x as E,y as F,z as W,A as B,E as L,G as z,J as O,K as q,N as U,O as M,P as _,Q as H,R as $,U as J,V,W as G,X as Y,Y as K,Z as X,_ as Q,$ as Z,a0 as ee,a1 as te,a2 as se,a3 as ae,a4 as re,a5 as ie,a6 as ne,a7 as oe,a8 as le,a9 as ce,aa as de,ab as he,ac as ue,ad as me,ae as xe,af as pe,ag as ge,ah as je,ai as fe,aj as ye,ak as be,al as ve,am as we,an as Se,ao as ke,ap as Ce,aq as Re,ar as Ae,as as Ie,at as Ne,au as Te,av as De,aw as Pe,ax as Ee,ay as Fe,az as We,aA as Be,aB as Le,aC as ze,aD as Oe,aE as qe,aF as Ue,aG as Me,aH as _e,aI as He,aJ as $e,aK as Je,aL as Ve,aM as Ge,aN as Ye,aO as Ke,aP as Xe,aQ as Qe,aR as Ze,aS as et,aT as tt,aU as st,aV as at,aW as rt,aX as it,aY as nt,aZ as ot,a_ as lt,a$ as ct,b0 as dt,b1 as ht,b2 as ut,b3 as mt,b4 as xt,b5 as pt,b6 as gt,b7 as jt,b8 as ft,b9 as yt,ba as bt,bb as vt,bc as wt,bd as St,be as kt,bf as Ct,bg as Rt,bh as At,bi as It,bj as Nt,bk as Tt,bl as Dt,bm as Pt,bn as Et,bo as Ft,bp as Wt,bq as Bt,br as Lt,bs as zt,bt as Ot,bu as qt,bv as Ut,bw as Mt,bx as _t,by as Ht,bz as $t,bA as Jt,bB as Vt,bC as Gt,bD as Yt,bE as Kt,bF as Xt,bG as Qt,bH as Zt,bI as es,bJ as ts,bK as ss,bL as as,bM as rs,bN as is,bO as ns,bP as os,bQ as ls,bR as cs,bS as ds,bT as hs,bU as us,bV as ms,bW as xs,bX as ps,bY as gs,bZ as js,b_ as fs,b$ as ys,c0 as bs,c1 as vs,c2 as ws,c3 as Ss,c4 as ks,c5 as Cs,c6 as Rs,c7 as As,c8 as Is,c9 as Ns,ca as Ts,cb as Ds,cc as Ps,cd as Es,ce as Fs,cf as Ws,cg as Bs,ch as Ls,ci as zs,cj as Os,ck as qs,cl as Us,cm as Ms,cn as _s,co as Hs,cp as $s,cq as Js,cr as Vs,cs as Gs,ct as Ys,cu as Ks,cv as Xs,cw as Qs,cx as Zs,cy as ea,cz as ta,cA as sa,cB as aa,cC as ra,cD as ia,cE as na,cF as oa,cG as la,cH as ca,cI as da,cJ as ha,cK as ua,cL as ma,cM as xa,cN as pa,cO as ga,cP as ja,cQ as fa,cR as ya}from"./vendor-BwR38w10.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}(),e.use(t).use(s).init({lng:localStorage.getItem("language")||"en",fallbackLng:"en",debug:!1,backend:{loadPath:"locales/{{lng}}/translation.json"},interpolation:{escapeValue:!1}});const ba=a({palette:{primary:{main:"#2563eb"},secondary:{main:"#6e7781"}},typography:{fontFamily:'"Poppins", sans-serif'}}),va=i(),wa=["/api/admin/login","/api/admin/logout","/api/admin/refresh-token","/api/admin/me"],Sa=r.create({baseURL:"http://localhost:3000",withCredentials:!0,headers:{"Content-Type":"application/json"}});let ka=!1,Ca=[];function Ra(e){Ca.forEach((t=>t(e))),Ca=[]}const Aa=r.create({baseURL:"http://localhost:3000",withCredentials:!0,headers:{"Content-Type":"application/json"}});"undefined"!=typeof window&&(window.addEventListener("online",(()=>{})),window.addEventListener("offline",(()=>{}))),Sa.interceptors.request.use((e=>(e.metadata={startTime:Date.now()},e))),Sa.interceptors.response.use((e=>{const t=Date.now()-(e.config.metadata?.startTime||Date.now());return t>3e3&&console.warn(`Slow API response: ${e.config.url} took ${t}ms`),e}),(async e=>{const t=e.config||{},s=e.response,a=s?.status,r=s?.data?.code,i=t?.url||"";if(!s){const s=t._networkRetries||0;if(s<3&&!t.skipRetry){t._networkRetries=s+1;const e=Math.min(1e3*Math.pow(2,s),5e3);return await(n=e,new Promise((e=>setTimeout(e,n)))),Sa(t)}return Promise.reject({...e,_classified:!0,__type:"NETWORK_ERROR"})}var n;if(((e="")=>wa.some((t=>e.endsWith(t)&&!e.endsWith("/me"))))(i))return Promise.reject({...e,_classified:!0,__type:401===a?"AUTH_ERROR":"SERVER_ERROR"});if(((e,t)=>401===e&&(!t||"ACCESS_TOKEN_EXPIRED"===t||"ACCESS_TOKEN_INVALID"===t||"UNAUTHENTICATED"===t))(a,r)&&!t._retry){if(t._retry=!0,ka)return new Promise(((s,a)=>{var r;r=r=>{r?s(Sa(t)):a({...e,refreshFailed:!0,_classified:!0,__type:"AUTH_ERROR"})},Ca.push(r)}));ka=!0;try{return await Aa.post("/api/admin/refresh-token",{},{withCredentials:!0}),ka=!1,Ra(!0),va.emit("tokenRefreshed"),Sa(t)}catch(o){return ka=!1,Ra(!1),Promise.reject({...e,refreshFailed:!0,_classified:!0,__type:"AUTH_ERROR"})}}return(e=>"INVALID_SESSION"===e||"JWT_INVALID"===e||"REFRESH_INVALID"===e)(r)?Promise.reject({...e,refreshFailed:!0,_classified:!0,__type:"AUTH_ERROR"}):Promise.reject({...e,_classified:!0,__type:"SERVER_ERROR"})}));const Ia="unknown",Na="authenticated",Ta="unauthenticated",Da={isAuthenticated:!!localStorage.getItem("adminId"),authChecked:!1,authStatus:localStorage.getItem("adminId")?Na:Ia,recaptchaPassed:!1,userRoles:[],userId:localStorage.getItem("adminId")||null,adminInfo:null,error:null,needsReauth:!1,lastFetchTime:null},Pa=n("admin/fetchAdminInfo",(async(e,t)=>{try{const{data:e}=await Sa.get("/api/admin/me",{withCredentials:!0});return e}catch(s){const e=(s?._classified?s:{}).__type||"SERVER_ERROR";return t.rejectWithValue({message:s?.response?.data?.message||s?.message||"Failed to fetch admin info",type:e,refreshFailed:!0===s?.refreshFailed})}})),Ea=n("admin/logout",(async(e,t)=>{try{await Sa.post("/api/admin/logout",{},{withCredentials:!0}),["token","role","adminEmail","adminId"].forEach((e=>localStorage.removeItem(e)))}catch(s){["token","role","adminEmail","adminId"].forEach((e=>localStorage.removeItem(e)))}return!0})),Fa=o({name:"admin",initialState:Da,reducers:{setRecaptchaPassed(e,t){e.recaptchaPassed=t.payload},softAuthError(e,t){e.needsReauth=!0,e.error=t.payload||"Authentication error",e.authStatus=Na},clearAdmin(e){e.isAuthenticated=!1,e.authChecked=!0,e.authStatus=Ta,e.userRoles=[],e.userId=null,e.adminInfo=null,e.error=null,e.needsReauth=!1},restoreAdminFromStorage(e){const t=localStorage.getItem("adminId");t&&(e.isAuthenticated=!0,e.authChecked=!1,e.authStatus=Na,e.userId=t)},clearError(e){e.error=null}},extraReducers:e=>{e.addCase(Pa.pending,(e=>{e.authChecked=!1,e.error=null})).addCase(Pa.fulfilled,((e,{payload:t})=>{const s=t.admin??t;e.adminInfo=s,e.userId=s.id||s._id||null,e.userRoles=Array.isArray(s.roles)?s.roles:[s.roles].filter(Boolean),e.isAuthenticated=Boolean(e.userId),e.authStatus=e.isAuthenticated?Na:Ia,e.authChecked=!0,e.needsReauth=!1,e.error=null,e.lastFetchTime=Date.now(),e.userId&&localStorage.setItem("adminId",e.userId)})).addCase(Pa.rejected,((e,{payload:t})=>{const{type:s,refreshFailed:a}=t||{};e.authChecked=!0,e.error=t?.message||"Failed to fetch admin info",e.lastFetchTime=Date.now(),"AUTH_ERROR"===s&&a?(e.adminInfo=null,e.userId=null,e.userRoles=[],e.isAuthenticated=!1,e.authStatus=Ta,e.needsReauth=!0,["adminId"].forEach((e=>localStorage.removeItem(e)))):(e.isAuthenticated=!!e.userId,e.authStatus=e.isAuthenticated?Na:e.authStatus,e.needsReauth=!1)})).addCase(Ea.fulfilled,(e=>{e.adminInfo=null,e.userId=null,e.userRoles=[],e.isAuthenticated=!1,e.authChecked=!0,e.authStatus=Ta,e.needsReauth=!1,e.error=null,e.lastFetchTime=null}))}}),{setRecaptchaPassed:Wa,softAuthError:Ba,clearAdmin:La,restoreAdminFromStorage:za,clearError:Oa}=Fa.actions,qa=e=>e.admin.userRoles,Ua=e=>e.admin.isAuthenticated,Ma=e=>e.admin.authChecked,_a=Fa.reducer,Ha=({onSuccess:e,disabled:t})=>{const[s,a]=l.useState(0),[r,i]=l.useState(!1),n=l.useRef(null),o=l.useRef(null),x=()=>{clearInterval(o.current),s<100&&(i(!1),a(0))};return c.jsxs(d,{sx:{textAlign:"center",mt:2},children:[c.jsx(h,{variant:"caption",sx:{mb:1,display:"block"},children:"Click and hold the button to verify you're human"}),c.jsx(u,{onMouseDown:()=>{t||(i(!0),n.current=Date.now(),o.current=setInterval((()=>{const t=Date.now()-n.current,s=Math.min(t/2500*100,100);a(s),s>=100&&(clearInterval(o.current),i(!1),a(100),Sa.post("/api/admin/verify-captcha-hold",{holdDuration:t,startedAt:n.current}).then((t=>{if(!t.data?.success)throw new Error("CAPTCHA failed");e()})).catch((()=>{alert("CAPTCHA verification failed. Try again."),a(0)})))}),20))},onMouseUp:x,onMouseLeave:x,disabled:t,variant:"outlined",fullWidth:!0,sx:{minHeight:50},children:r?"Verifying...":"Click & Hold to Verify"}),c.jsx(m,{variant:"determinate",value:s,sx:{maxHeight:"100%",borderRadius:1}})]})},$a=({open:e,onVerify:t})=>{const s=x();return c.jsx(p,{open:e,onClose:()=>{},"aria-labelledby":"captcha-modal",disableEscapeKeyDown:!0,children:c.jsxs(d,{sx:{width:400,bgcolor:"background.paper",borderRadius:2,boxShadow:24,p:4,mx:"auto",mt:"15vh",textAlign:"center"},children:[c.jsx(g,{size:48,color:s.palette.primary.main}),c.jsx(h,{variant:"h6",sx:{mt:2},children:"Let’s verify you’re a human"}),c.jsx(h,{variant:"body2",sx:{color:"text.secondary",mt:1},children:"Please click and hold the button below to securely complete login."}),c.jsx(j,{sx:{my:2}}),c.jsx(Ha,{onSuccess:t})]})})},Ja=new f.Howl({src:["sounds/apple-sms.mp3"],volume:1,autoplay:!1}),Va=()=>{const e=b(),t=v(),s=w(Ua),a=w(Ma),[r,i]=l.useState(!1),[n,o]=l.useState(!1),[m,x]=l.useState(!1),[p,g]=l.useState(null),f="/Oauth2/v1/admin",y="/auth0/admin";l.useEffect((()=>{a&&s&&t(`${y}/dashboard`,{replace:!0})}),[t,s,a]);const O=()=>o((e=>!e)),q=S().shape({email:k().email("Invalid email").required("Email is required"),password:k().min(8,"Must be at least 8 characters").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@#$!%*?&]).{8,}$/,"Must include uppercase, lowercase, number, special char").required("Password is required")}),U=async()=>{x(!1),p?await M(p):z.error("Unexpected error. Try again.")},M=async(s,a)=>{try{const a=await Sa.post("/api/admin/login",s,{withCredentials:!0});a.data.pre2FAToken?(localStorage.setItem("temp2FAToken",a.data.pre2FAToken),sessionStorage.setItem("pending2FA",s.email),z.info("Two-Factor Authentication required. Redirecting…"),t(`${f}/setup-2fa`,{replace:!0})):a.data.success?(await e(Pa()).unwrap(),Ja.play(),z.success(a.data.message||"Login successful.",{theme:"dark",color:"white",progressStyle:{backgroundColor:"#2e54a7ff"}}),localStorage.removeItem("temp2FAToken"),t(`${y}/dashboard`)):z.error(a.data.message||"Login failed.")}catch(r){const e=r.response?.data;403===r.response?.status&&e?.pre2FAToken?(localStorage.setItem("temp2FAToken",e.pre2FAToken),sessionStorage.setItem("pending2FA",s.email),z.info("Two-Factor Authentication required. Redirecting…"),t(`${f}/setup-2fa`,{replace:!0})):r.response&&423===r.response.status?z.warn(r.response.data.message||"Your account is temporarily suspended. Please try again later.",{autoClose:5e3}):r.response&&401===r.response.status?z.warn(r.response.data.message||"Not authorized to login here."):r.response&&404===r.response.status?z.error(r.response.data.message||"Invalid credentials. Password mismatch."):r.response&&503===r.response.status?z.error(r.response.data.message||"Server down. Please try again later."):"ERR_NETWORK"===r.code?z.error("Network error. Please check your connection."):z.error("An unexpected error occurred.")}finally{i(!1)}};return a?c.jsxs(d,{className:"adminLogin",sx:{display:"flex",position:"fixed",flexDirection:{xs:"column",sm:"row"},height:"100vh",columnGap:{xs:0,sm:15},transition:"all 0.3s ease",alignItems:"center",background:{xs:"url('/icons/TT-logo-1024x1024.png')",sm:"white"},backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:{xs:"bottom",sm:"right"}},children:[c.jsx(d,{className:"banner",sx:{height:{xs:"20vh",sm:"100vh"}},children:c.jsx("img",{src:"/admin_banner1.jpg",alt:"Admin Banner",className:"adminBannerImage",style:{height:{xs:"20vh",sm:"100vh"},width:"100%",objectFit:"cover"}})}),c.jsxs(d,{className:"adminForm",sx:{position:{xs:"absolute",sm:"relative"},mt:{xs:-10,sm:0},bottom:{xs:0,sm:"auto"},borderRadius:{xs:"40px 40px 0 0",sm:"20px"},mr:{xs:0,sm:10},p:3.5,placeSelf:{xs:"center",sm:"none"},transition:"all 0.3s ease",backgroundColor:"rgba(255, 255, 255, 0.91)",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)"},children:[c.jsxs(R,{sx:{display:{xs:"none",sm:"block"}},children:[c.jsx(A,{title:"Jeremiah K. Deku",subheader:"ADMINISTRATOR LOGIN",sx:{textAlign:"center",color:"rgb(9,51, 65)"},subheaderTypographyProps:{variant:"subtitle1",letterSpacing:2},titleTypographyProps:{variant:"h5",fontWeight:"800"}}),c.jsx(j,{sx:{mb:2,display:{xs:"none",sm:"block"}}})]}),c.jsx(h,{variant:"h5",sx:{mb:2,textAlign:"start",fontWeight:"800",color:"rgb(9,51, 65)",display:{xs:"block",sm:"none"}},children:"Jeremiah K. Deku"}),c.jsx(j,{sx:{mb:5}}),c.jsx(h,{variant:"h5",sx:{mb:3,textAlign:"center",color:"gray",display:{xs:"block",sm:"none"}},children:"ADMINISTRATOR LOGIN"}),c.jsx(I,{initialValues:{email:"",password:""},validationSchema:q,onSubmit:(e,{setSubmitting:t})=>{i(!0),t(!1),g(e),x(!0)},children:({values:e,errors:t,touched:s,handleChange:a,handleBlur:i,handleSubmit:o})=>c.jsxs(c.Fragment,{children:[c.jsx($a,{open:m,onVerify:U}),c.jsx("form",{onSubmit:o,noValidate:!0,children:c.jsxs(N,{spacing:3.5,sx:{mb:2},children:[c.jsx(d,{sx:{mb:3},children:c.jsx(T,{name:"email",label:"Email",type:"email",placeholder:"Enter admin email",fullWidth:!0,value:e.email,onChange:a,onBlur:i,error:s.email&&Boolean(t.email),helperText:s.email&&t.email,InputProps:{sx:{borderRadius:50},startAdornment:c.jsx(D,{position:"start",children:c.jsx(P,{style:{marginRight:8}})})}})}),c.jsx(d,{sx:{mb:3},children:c.jsx(T,{name:"password",label:"Password",type:n?"text":"password",placeholder:"Enter your password",fullWidth:!0,value:e.password,onChange:a,onBlur:i,error:s.password&&Boolean(t.password),helperText:s.password&&t.password,InputProps:{sx:{borderRadius:50},startAdornment:c.jsx(D,{position:"start",children:c.jsx(B,{style:{marginRight:8}})}),endAdornment:c.jsx(D,{position:"end",children:c.jsx(E,{onClick:O,edge:"end",children:n?c.jsx(F,{}):c.jsx(W,{})})})}})}),c.jsx(h,{variant:"body2",sx:{mb:2,textAlign:"right"},children:c.jsx("a",{href:"/admin/forgot-password",style:{color:"#1A73E8",fontWeight:"bold",textDecoration:"underline"},children:"Forgot password?"})}),c.jsx(d,{sx:{textAlign:"center",mb:2},children:c.jsx(u,{type:"submit",variant:"contained",fullWidth:!0,disabled:r,children:r?c.jsx(C,{size:24}):"Login"})})]})})]})}),c.jsxs(h,{variant:"text",sx:{color:"tomato",fontFamily:"calibri",fontSize:18,textAlign:"center"},children:[c.jsx(L,{})," Restricted access: For authorized administrator only."]})]})]}):c.jsx(d,{sx:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#fff"},children:c.jsx(C,{size:60})})},Ga=()=>c.jsxs(c.Fragment,{children:[c.jsxs(y,{children:[c.jsx("title",{children:"Admin Portal - TOLI-TOLI"}),c.jsx("meta",{name:"description",content:"Admin login page for TOLI-TOLI. Access restricted to authorized administrators only."}),c.jsx("meta",{name:"keywords",content:"admin login, TOLI-TOLI, administrator access, secure login"}),c.jsx("meta",{name:"robots",content:"noindex, nofollow"}),c.jsx("link",{rel:"canonical",href:"/Oauth2/v1/admin/login"}),c.jsx("meta",{property:"og:title",content:"Admin Login - TOLI-TOLI "}),c.jsx("meta",{property:"og:description",content:"Admin login page for TOLI-TOLI. Access restricted to authorized administrators only."}),c.jsx("meta",{property:"og:image",content:"/icons/TT-logo-1024x1024.png"}),c.jsx("meta",{property:"og:url",content:"/Oauth2/v1/admin/login"}),c.jsx("meta",{name:"twitter:card",content:"summary_large_image"})]}),c.jsx("div",{className:"admin-login-container",children:c.jsx(Va,{})})]}),Ya=()=>{const e=v(),[t,s]=l.useState(""),[a,i]=l.useState(!1),n=S().shape({email:k().email("Invalid email address").required("Email is required")});return c.jsxs("div",{className:"overlay",children:[c.jsx(O,{style:{width:40,height:40,float:"left",margin:40,cursor:"pointer"},onClick:()=>e(-1)}),c.jsxs(d,{className:"container",sx:{maxWidth:400,mx:"auto",mt:18,p:3,boxShadow:3,borderRadius:2,backgroundColor:"#fff"},children:[c.jsx(h,{variant:"h4",sx:{textAlign:"center",mb:2},children:c.jsx("b",{children:"Forgot Password"})}),c.jsx(h,{sx:{textAlign:"center",mb:4},children:"Enter your email to receive a password reset link."}),c.jsx(I,{initialValues:{email:""},validationSchema:n,onSubmit:async(e,{resetForm:t,setSubmitting:a})=>{i(!0);try{const a=await r.post("/api/admin/forgot-password",{email:e.email});s(a.data.message),t()}catch(n){s("Error: "+(n.response?.data.message||"Something went wrong"))}i(!1),a(!1)},children:({values:e,errors:s,touched:r,handleChange:i,handleBlur:n,handleSubmit:o,isSubmitting:l})=>c.jsxs("form",{onSubmit:o,children:[c.jsx(d,{sx:{mb:3},children:c.jsx(T,{name:"email",label:"Email",type:"email",placeholder:"Enter your admin email",fullWidth:!0,value:e.email,onChange:i,onBlur:n,error:r.email&&Boolean(s.email),helperText:r.email&&s.email,InputProps:{startAdornment:c.jsx(D,{position:"start",children:c.jsx(P,{style:{marginRight:"8px"}})})}})}),t&&c.jsx(h,{variant:"body2",sx:{mb:2,textAlign:"center",color:t.startsWith("Error")?"red":"green",fontWeight:"bold"},children:t}),c.jsx(d,{sx:{textAlign:"center",mb:2},children:c.jsx(u,{type:"submit",variant:"contained",fullWidth:!0,disabled:l||a,children:l||a?c.jsx(C,{size:24}):"Send Reset Link"})})]})})]})]})},Ka=()=>{const{token:e}=q(),t=v(),[s,a]=l.useState(!1),[i,n]=l.useState(""),[o,m]=l.useState(!1),x=()=>a((e=>!e)),p=S().shape({password:k().min(8,"Password must be at least 8 characters long").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,"Password must contain uppercase, lowercase, number, and special character.").required("Password is required")});return c.jsxs("div",{className:"overlay",children:[c.jsx(O,{style:{width:40,height:40,float:"left",margin:40,cursor:"pointer"},onClick:()=>t(-1)}),c.jsxs(d,{className:"container",sx:{maxWidth:400,mx:"auto",mt:18,p:3,boxShadow:3,borderRadius:2,backgroundColor:"#fff"},children:[c.jsx(h,{variant:"h4",sx:{textAlign:"center",mb:2},children:c.jsx("b",{children:"Reset Password"})}),c.jsx(h,{sx:{textAlign:"center",mb:4},children:"Enter a new password for your admin account."}),c.jsx(I,{initialValues:{password:""},validationSchema:p,onSubmit:async(s,{resetForm:a,setSubmitting:i})=>{m(!0);try{const i=await r.post(`/api/admin/reset-password/${e}`,{newPassword:s.password});n(i.data.message),a(),setTimeout((()=>t("/")),3e3)}catch(o){n("Error: "+(o.response?.data.message||"Something went wrong"))}m(!1),i(!1)},children:({values:e,errors:t,touched:a,handleChange:r,handleBlur:n,handleSubmit:l,isSubmitting:m})=>c.jsxs("form",{onSubmit:l,children:[c.jsx(d,{sx:{mb:3},children:c.jsx(T,{name:"password",label:"New Password",type:s?"text":"password",placeholder:"Enter new password",fullWidth:!0,value:e.password,onChange:r,onBlur:n,error:a.password&&Boolean(t.password),helperText:a.password&&t.password,InputProps:{endAdornment:c.jsx(D,{position:"end",children:c.jsx(E,{onClick:x,children:s?c.jsx(F,{}):c.jsx(W,{})})})}})}),i&&c.jsx(h,{variant:"body2",sx:{mb:2,textAlign:"center",color:i.startsWith("Error")?"red":"green",fontWeight:"bold"},children:i}),c.jsx(d,{sx:{textAlign:"center",mb:2},children:c.jsx(u,{type:"submit",variant:"contained",fullWidth:!0,disabled:m||o,children:m||o?c.jsx(C,{size:24}):"Reset Password"})})]})})]})]})},Xa=()=>{const[e,t]=l.useState(""),[s,a]=l.useState([]),[r,i]=l.useState(""),[n,o]=l.useState(!1),[m,x]=l.useState(""),[p,g]=l.useState(""),[f,y]=l.useState(!0);l.useEffect((()=>{(async()=>{try{const e=localStorage.getItem("temp2FAToken"),s=await Sa.get("/api/admin/setup-2fa",{headers:{Authorization:`Bearer ${e}`}});t(s.data.qrDataURL),s.data.backupCodes&&a(s.data.backupCodes)}catch(e){g(e.response?.data?.message||"Failed to load 2FA setup. Try again.")}finally{y(!1)}})()}),[]);return c.jsx(U,{maxWidth:"sm",sx:{minHeight:"100vh",display:"flex",alignItems:"center"},children:c.jsxs(d,{sx:{mt:6,mb:6,p:{xs:2,sm:4},boxShadow:6,borderRadius:3,bgcolor:"#fafbfc",width:"100%"},children:[c.jsxs(N,{alignItems:"center",spacing:1,sx:{mb:2},children:[c.jsx(d,{sx:{bgcolor:"#e3f2fd",borderRadius:"50%",width:66,height:66,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:2,mb:1},children:c.jsx(M,{size:36,color:"#1e88e5"})}),c.jsx(h,{variant:"h5",fontWeight:700,children:"Secure Your Account"}),c.jsx(h,{sx:{color:"text.secondary",fontSize:16,textAlign:"center"},children:"Set up two-factor authentication (2FA) to protect your admin account."})]}),c.jsx(j,{sx:{mb:3}}),f?c.jsx(d,{sx:{textAlign:"center",mt:2},children:c.jsx(C,{size:40})}):c.jsxs(c.Fragment,{children:[m&&c.jsx(_,{severity:"success",sx:{mb:2,fontWeight:500},children:m}),p&&c.jsx(_,{severity:"error",sx:{mb:2,fontWeight:500},children:p}),c.jsxs(N,{spacing:2,children:[c.jsx(h,{variant:"subtitle1",fontWeight:600,children:"1. Scan QR Code"}),c.jsx(h,{sx:{color:"text.secondary"},children:"Scan this QR code using Google Authenticator, Authy, or any TOTP app:"}),c.jsx(d,{sx:{display:"flex",justifyContent:"center"},children:e&&c.jsx("img",{src:e,alt:"2FA QR",style:{maxWidth:180,maxHeight:180,border:"6px solid #f5f5f5",borderRadius:8,background:"#fff"}})})]}),s.length>0&&c.jsxs(H,{elevation:0,sx:{p:2,my:3,bgcolor:"#f1f8e9",border:"1px solid #c5e1a5"},children:[c.jsxs(d,{sx:{display:"flex",alignItems:"center",mb:1},children:[c.jsx(h,{fontWeight:700,flex:1,children:"Backup Codes"}),c.jsx($,{title:"Download backup codes",children:c.jsx(E,{onClick:()=>{const e="TOLI-TOLI Backup Codes\n\n"+s.join("\n")+"\n\nEach code can be used once. Keep this file safe!",t=document.createElement("a"),a=new Blob([e],{type:"text/plain"});t.href=URL.createObjectURL(a),t.download="toli-toli-backup-codes.txt",document.body.appendChild(t),t.click(),document.body.removeChild(t)},color:"primary",size:"large",children:c.jsx(J,{})})})]}),c.jsx(V,{container:!0,spacing:1,children:s.map(((e,t)=>c.jsx(V,{item:!0,xs:6,md:4,children:c.jsx(d,{sx:{p:1,bgcolor:"#fffde7",borderRadius:1,textAlign:"center",fontFamily:"monospace",fontWeight:"bold",fontSize:16,letterSpacing:1,border:"1px dashed #c5e1a5"},children:e})},t)))}),c.jsx(h,{sx:{mt:2,fontSize:13,color:"#33691e"},children:"Save these codes in a secure place. Each code can be used once if you lose access to your authenticator app."})]}),c.jsx(j,{sx:{mb:2,mt:3}}),c.jsx("form",{onSubmit:async e=>{e.preventDefault(),g(""),o(!0);try{const e=await Sa.post("/api/admin/verify-2fa",{totpCode:r},{headers:{Authorization:`Bearer ${localStorage.getItem("temp2FAToken")}`}});e.data.success?(x("2FA setup complete! Redirecting…"),localStorage.removeItem("temp2FAToken"),sessionStorage.removeItem("pending2FA"),setTimeout((()=>{window.location.href="/auth0/admin/dashboard"}),1200)):g(e.data.message||"Verification failed.")}catch(t){g(t.response?.data?.message||"Verification failed. Try again.")}finally{o(!1)}},children:c.jsxs(N,{spacing:2,children:[c.jsxs(d,{children:[c.jsx(h,{variant:"subtitle1",fontWeight:600,children:"2. Enter 6-digit Code"}),c.jsx(h,{sx:{color:"text.secondary",fontSize:15,mb:1},children:"Enter the 6-digit code from your authenticator app."}),c.jsx(T,{label:"Authenticator Code",value:r,onChange:e=>i(e.target.value.trim()),required:!0,fullWidth:!0,autoFocus:!0,inputProps:{maxLength:6,inputMode:"numeric",pattern:"\\d{6}",style:{letterSpacing:4,fontSize:22,textAlign:"center"}},sx:{mb:.5}})]}),c.jsx(u,{type:"submit",variant:"contained",color:"primary",size:"large",disabled:n||6!==r.length,sx:{fontWeight:700,py:1.3,letterSpacing:1,fontSize:17},children:n?c.jsx(C,{size:22}):"Verify & Enable 2FA"})]})}),c.jsx(j,{sx:{my:3}}),c.jsxs(d,{sx:{textAlign:"center"},children:[c.jsx(h,{sx:{mb:1,color:"text.secondary"},children:"Can't access your authenticator app?"}),c.jsx(u,{color:"secondary",variant:"outlined",onClick:()=>window.location.href="/admin/verify-backup-code",sx:{fontWeight:600,letterSpacing:.5,px:3,borderRadius:2},children:"Use a Backup Code"})]})]})]})})},Qa=()=>{const[e]=G(),t=e.get("token"),s=v(),[a,r]=l.useState(""),[i,n]=l.useState(""),[o,m]=l.useState(!1),[x,p]=l.useState(""),[g,j]=l.useState(!1);return c.jsx(U,{maxWidth:"sm",children:c.jsxs(d,{sx:{mt:8,p:4,boxShadow:3,borderRadius:2,bgcolor:"#fff"},children:[c.jsx(h,{variant:"h4",align:"center",sx:{mb:3,fontWeight:600},children:"Accept Admin Invitation"}),g?c.jsx(_,{severity:"success",sx:{mb:2},children:"Account created! Redirecting you to login…"}):c.jsxs(c.Fragment,{children:[c.jsx(h,{sx:{mb:3,color:"text.secondary"},children:"Set up your admin account by choosing a name and password. You’ll configure 2FA after logging in."}),c.jsxs("form",{onSubmit:async e=>{e.preventDefault(),p(""),m(!0);try{const e=await Sa.post("/api/admin/accept-invite",{token:t,name:a,password:i});e.data.success?(j(!0),setTimeout((()=>{s("/admin/login")}),2e3)):p(e.data.message||"Unknown error")}catch(r){p(r.response?.data?.message||"Server/network error. Please try again.")}finally{m(!1)}},children:[c.jsx(T,{label:"Full Name",value:a,onChange:e=>r(e.target.value),required:!0,fullWidth:!0,sx:{mb:2},InputProps:{startAdornment:c.jsx(Y,{style:{marginRight:8}})}}),c.jsx(T,{label:"Password",value:i,onChange:e=>n(e.target.value),type:"password",required:!0,fullWidth:!0,sx:{mb:2},InputProps:{startAdornment:c.jsx(B,{style:{marginRight:8}})},helperText:"Minimum 8 characters, strong password recommended."}),x&&c.jsx(_,{severity:"error",sx:{mb:2},children:x}),c.jsx(u,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,disabled:o,sx:{py:1.2,fontWeight:"bold"},children:o?c.jsx(C,{size:24}):"Set Up Account"})]})]})]})})},Za=()=>{const[e,t]=l.useState(""),[s,a]=l.useState(!1),[r,i]=l.useState(""),[n,o]=l.useState("");return c.jsx(U,{maxWidth:"sm",children:c.jsxs(d,{sx:{mt:8,p:4,boxShadow:3,borderRadius:2,bgcolor:"#fff"},children:[c.jsxs(d,{sx:{textAlign:"center",mb:2},children:[c.jsx(K,{size:40,color:"#1e88e5"}),c.jsx(h,{variant:"h5",fontWeight:600,sx:{mt:1},children:"Use Backup Code"})]}),c.jsx(h,{sx:{mb:2},children:"If you cannot access your authenticator app, enter one of your backup codes below."}),n&&c.jsx(_,{severity:"success",sx:{mb:2},children:n}),r&&c.jsx(_,{severity:"error",sx:{mb:2},children:r}),c.jsxs("form",{onSubmit:async t=>{t.preventDefault(),i(""),a(!0);try{const t=localStorage.getItem("temp2FAToken"),s=await Sa.post("/api/admin/verify-backup-code",{backupCode:e},{headers:{Authorization:`Bearer ${t}`}});s.data.success?(o("Backup code accepted! Redirecting…"),localStorage.removeItem("temp2FAToken"),sessionStorage.removeItem("pending2FA"),setTimeout((()=>{window.location.href="/auth0/admin/dashboard"}),1200)):i(s.data.message||"Invalid backup code.")}catch(s){i(s.response?.data?.message||"Verification failed. Try again.")}finally{a(!1)}},children:[c.jsx(T,{label:"Backup Code",value:e,onChange:e=>t(e.target.value.trim()),required:!0,fullWidth:!0,inputProps:{maxLength:8,style:{fontFamily:"monospace",letterSpacing:2}},sx:{mb:2}}),c.jsx(u,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,disabled:s,sx:{py:1.2,fontWeight:"bold"},children:s?c.jsx(C,{size:22}):"Verify Backup Code"})]})]})})},er=()=>c.jsxs("div",{children:[c.jsx("h2",{children:"Access Denied"}),c.jsx("p",{children:"You do not have permission to view this page."})]});function tr({children:e}){const t=b(),s=w(Ma),a=w(Ua),r=Q();return l.useEffect((()=>{s||t(Pa())}),[t,s]),s?a?c.jsx(c.Fragment,{children:e}):r.pathname.startsWith("/Oauth2/v1/admin/login")?null:c.jsx(Z,{to:`/Oauth2/v1/admin/login?redirect=${encodeURIComponent(r.pathname)}`,replace:!0}):c.jsx(d,{sx:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx(C,{size:60})})}function sr({children:e}){const t=w(Ua),s=w(Ma),a=b();return l.useEffect((()=>{s||a(Pa())}),[s,a]),s?t?c.jsx(Z,{to:"/auth0/admin/dashboard",replace:!0}):c.jsx(c.Fragment,{children:e}):c.jsx(d,{sx:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#fff"},children:c.jsx(C,{size:60})})}const ar=()=>{const[e,t]=l.useState(0),[s,a]=l.useState({}),[r,i]=l.useState(!0),n=l.useMemo((()=>[{url:"admin_banner1.jpg",title:"Turning Ideas into Reality",description:"I design and build intuitive web applications that solve real-world problems.",gradient:"radial-gradient(circle at bottom left, var(--gradient-color-1) 40%, var(--gradient-color-2) 90%, transparent 100%)"},{url:"admin_banner1.jpg",title:"Scalable Solutions for Modern Business",description:"From simple prototypes to complex platforms, I create applications that grow with your needs.",gradient:"radial-gradient(circle at bottom left, var(--gradient-color-1) 40%, var(--gradient-color-2) 90%,  transparent 100%)"},{url:"admin_banner1.jpg",title:"Clean Code, Seamless Experiences",description:"I focus on back-end logic and front-end design to deliver applications that are as beautiful as they are functional.",gradient:"radial-gradient(circle at bottom left, var(--gradient-color-1) 40%, var(--gradient-color-2) 90%, transparent 100%)"},{url:"admin_banner1.jpg",title:"Building with React and Node.js",description:"Crafting full-stack applications with modern JavaScript libraries and frameworks",gradient:"radial-gradient(circle at bottom left, var(--gradient-color-1) 40%, var(--gradient-color-2) 90%, transparent 100%)"},{url:"admin_banner1.jpg",title:"Front-End to Back-End",description:"Proficient in the entire development cycle, from UI/UX design to database management.",gradient:"radial-gradient(circle at bottom left, var(--gradient-color-1) 40%, var(--gradient-color-2) 90%, transparent 100%)"}]),[]);l.useEffect((()=>{n.forEach((({url:e})=>{const t=new Image;t.src=e,t.onload=()=>{a((t=>({...t,[e]:!0})))},t.onerror=t=>{console.error(`Error loading image: ${e}`,t)}}))}),[n]),l.useEffect((()=>{const e=setInterval((()=>{i(!1),setTimeout((()=>{t((e=>(e+1)%n.length)),i(!0)}),300)}),5e3);return()=>clearInterval(e)}),[n.length]);const o=n[e];return c.jsxs("div",{className:"header "+(r?"fade-in":"fade-out"),style:{backgroundImage:s[o.url]?`${o.gradient}, url(${o.url})`:"none",backgroundSize:"cover",backgroundPosition:"center",transition:"opacity 0.8s ease-in-out"},children:[c.jsx(ee.div,{initial:{opacity:0,scale:3},animate:{opacity:1,scale:1},transition:{duration:1},children:c.jsxs("div",{className:"header-content",children:[c.jsx("h2",{children:o.title}),c.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:20},children:[c.jsx(te,{to:"/jerryDek/blog",children:c.jsxs("button",{children:[c.jsx("div",{className:"arrow"})," View Projects"]})}),c.jsx(te,{to:"/jerryDek/contactUs",children:c.jsx(ee.button,{whileHover:{boxShadow:"0px 8px 20px rgba(25, 118, 210, 0.5)"},style:{display:{xs:"none",sm:"flex"},borderRadius:10,background:"linear-gradient(90deg, #1976d2, #42a5f5)",verticalAlign:"middle",marginLeft:"10px",transition:"all 0.5s",color:"white",border:"none"},children:"contact Me"})})]}),c.jsx("p",{children:o.description})]})}),c.jsx("div",{className:"profile",children:c.jsx("div",{className:"profile-pic",children:c.jsx("img",{src:"icons/profile-pic2.png",alt:"profile"})})}),c.jsx("div",{className:"dots",children:n.map(((s,a)=>c.jsx("span",{className:"dot "+(e===a?"active":""),onClick:()=>(e=>{i(!1),setTimeout((()=>{t(e),i(!0)}),300)})(a)},a)))})]})},rr=()=>c.jsxs("div",{className:"design-display",id:"design-display",children:[c.jsx("h1",{children:"Projects worked on"}),c.jsxs("div",{className:"design-display-list",children:[c.jsxs("div",{className:"card1",children:[c.jsx(se,{style:{width:"30px",color:"#2C3E50",height:"30px",marginBottom:"10px"}}),c.jsx("h2",{children:"Ride booking platform"}),c.jsx("p",{children:"We believe in providing value for your money. Enjoy competitive pricing without compromising on quality or comfort, ensuring you travel affordably every time."})]}),c.jsxs("div",{className:"card1",children:[c.jsx(ae,{style:{width:"30px",color:"#2C3E50",height:"30px",marginBottom:"10px"}}),c.jsx("h2",{children:"E-Commerce Platform"}),c.jsx("p",{children:"Created a crafted balloon and floral web app for florist. "})]}),c.jsxs("div",{className:"card1",children:[c.jsx(re,{style:{width:"30px",color:"#2C3E50",height:"30px",marginBottom:"10px"}}),c.jsx("h2",{children:"Gadgets Servicing"}),c.jsx("p",{children:"Platform for servicing your gadgets by booking your gadgets to the servicers of the platform to reach out to you quickly. Its really free, easy and afordable."})]}),c.jsxs("div",{className:"card1",children:[c.jsx(ie,{style:{width:"30px",color:"#2C3E50",height:"30px",marginBottom:"10px"}}),c.jsx("h2",{children:"transports Booking"}),c.jsx("p",{children:"We believe in providing value for your money. Enjoy competitive pricing without compromising on quality or comfort, ensuring you travel affordably every time."})]})]}),c.jsx("div",{children:c.jsx("p",{})})]}),ir=()=>{const[e,t]=l.useState(!1),[s,a]=l.useState([]),[i,n]=l.useState(""),[o,d]=l.useState(!1),[h,u]=l.useState(!1),m=l.useRef(null),x=l.useRef(null),p=()=>t(!e),g=e=>{const t=window.speechSynthesis;if(t){const s=new SpeechSynthesisUtterance(e);s.lang="en-US",t.speak(s)}},j=(e,t)=>({sender:e,text:t}),f={"how do i book a ride":"To book a ride, visit the rides page, choose your route, date, and confirm your selection.","how to cancel a booking":"Go to 'My Bookings' and click 'Cancel' next to the ride you want to cancel.","how does tqli-toli work":"TOLI-TOLI helps you book reliable transport. Browse rides, select your route, and confirm in a few steps."},y=async(e=i)=>{if(e.trim()){const i=j("user",e),o=[...s,i];a(o),n(""),d(!0),a((e=>[...e,j("bot","[typing]")]));const l=b(e)||(e=>{const t=Object.keys(f).find((t=>e.toLowerCase().includes(t)));return t?f[t]:null})(e);if(l)return void setTimeout((()=>{const e=j("bot",l);a((t=>[...t.slice(0,-1),e])),g(l),d(!1),localStorage.setItem("toli-chat",JSON.stringify([...o,e]))}),800);try{const t=await r.post("/api/chat/bot",{history:o,message:e});setTimeout((()=>{const e=j("bot",t.data.reply);a((t=>[...t.slice(0,-1),e])),g(t.data.reply),localStorage.setItem("toli-chat",JSON.stringify([...o,e])),d(!1)}),1e3)}catch(t){const e=j("bot","Oops! Something went wrong. Please try again later.");a((t=>[...t.slice(0,-1),e])),d(!1)}}},b=e=>{const t=e.toLowerCase();return t.includes("How to code in react")?"Are you really familiar in javascript?":t.includes("cancel ride")?"To cancel a ride, go to your bookings page and click 'Cancel' next to your ride.":t.includes("platform status")?"JeremiahDek is currently online and fully functional. You can contact the owner at +233246062758":null};l.useEffect((()=>{m.current?.scrollIntoView({behavior:"smooth"})}),[s]),l.useEffect((()=>{const e=localStorage.getItem("toli-chat");e&&a(JSON.parse(e))}),[]);return c.jsxs("div",{className:"chatbot-container",children:[c.jsx("button",{className:"chatbot-button",onClick:p,children:c.jsx(ne,{style:{color:"#fff",fontSize:"32px"}})}),e&&c.jsxs("div",{className:"chatbot-dialog",children:[c.jsxs("div",{className:"chatbot-header",children:[c.jsxs("div",{className:"header-left",children:[c.jsx("img",{src:"/chatbot.png",alt:"Bot",className:"bot-avatar"}),c.jsx("span",{className:"bot-title",children:"Jeremiah's Assistant"})]}),c.jsx("button",{className:"close-button",onClick:p,children:"×"})]}),c.jsxs("div",{className:"chatbot-messages",children:[s.map(((e,t)=>c.jsx("div",{className:`chat-message ${e.sender} ${"[typing]"===e.text?"typing":""}`,children:c.jsx("div",{className:"bubble",children:"[typing]"===e.text?c.jsx("span",{className:"dot-typing",children:o}):e.text})},t))),c.jsx("div",{ref:m})]}),c.jsx("div",{className:"chatbot-quick-replies",children:["How to code in react","Build a website","Platform status","Help"].map(((e,t)=>c.jsx("button",{className:"quick-reply-btn",onClick:()=>y(e),children:e},t)))}),c.jsxs("div",{className:"chatbot-input",children:[c.jsx("input",{type:"text",placeholder:"Type your message...",value:i,onChange:e=>n(e.target.value),onKeyDown:e=>"Enter"===e.key&&y()}),c.jsx("button",{onClick:()=>y(),title:"Send",children:c.jsx(oe,{})}),c.jsx("button",{onClick:()=>{if(!("webkitSpeechRecognition"in window))return void alert("Speech recognition not supported in this browser.");const e=new(0,window.webkitSpeechRecognition);e.continuous=!1,e.lang="en-US",e.onstart=()=>u(!0),e.onend=()=>u(!1),e.onerror=()=>u(!1),e.onresult=e=>{const t=e.results[0][0].transcript;n(t)},e.start(),x.current=e},title:"Speak",children:c.jsx(le,{color:h?"red":"#333"})})]})]})]})};function nr(){const e=x(),t=v();return c.jsxs(d,{className:"landing-description",sx:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",placeSelf:"center",mt:{xs:-6,sm:"120px"},height:"100%",width:"100%",maxWidth:"800px",textAlign:"center",bgcolor:{xs:"whitesmoke",sm:"transparent"},padding:4},children:[c.jsxs(h,{variant:"h1",component:"h1",sx:{mb:2,fontSize:{xs:"1.5rem",sm:"3rem"},fontWeight:800,color:"#333",fontFamily:"'Poppins', sans-serif"},children:["Welcome to JeremiahDek ",c.jsx("br",{})," Coding Platform"]}),c.jsx(h,{variant:"h6",component:"p",sx:{mb:{xs:2,sm:4},color:"text.secondary",maxWidth:"600px",lineHeight:{xs:1.4,sm:1.6},textAlign:{xs:"start",sm:"center"},placeSelf:{xs:"center",sm:"center"},p:{xs:0,sm:1}},children:"Crafting full-stack applications with modern JavaScript libraries and frameworks"}),c.jsx(u,{variant:"contained",size:"large",onClick:()=>{t("/jerryDek/contactUs")},sx:{width:{xs:"100%",sm:"300px"},py:1.5,fontSize:"1.2rem",fontWeight:600,borderRadius:e.shape.borderRadius,boxShadow:e.shadows[3],transition:"all 0.3s","&:hover":{transform:"translateY(-2px)",boxShadow:"0 0 16px #4280b9ff",bgcolor:"#444"},background:"linear-gradient(90deg, #1976d2, #42a5f5)"},children:"Contact Jeremiah"}),c.jsx(j,{className:"description-divider",sx:{bgcolor:{xs:"#ddd",sm:"none"},width:"100%",mt:8}})]})}const or=()=>{const[e,t]=l.useState(!1);return l.useEffect((()=>{const e=()=>{const e=window.scrollY>150,s=window.innerHeight+window.scrollY>=document.body.scrollHeight-500;t(e&&!s)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}),[]),c.jsx("div",{className:"scroll-bottom-button",style:{opacity:e?1:0,pointerEvents:e?"auto":"none",position:"fixed",bottom:"150px",right:"20px",zIndex:1e3,backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:"20px",boxShadow:"0 0 10px rgba(0, 0, 0, 0.1)",padding:"15px",cursor:"pointer",transition:"opacity 0.4s ease"},children:c.jsx("a",{href:"#footer",className:"scroll-bottom-link",children:c.jsx(ce,{className:"scroll-bottom-icon",size:30,style:{color:"#333"}})})})},lr=[{label:"Projects Completed",value:15,suffix:"+"},{label:"Happy Clients",value:10,suffix:"+"},{label:"Years of Experience",value:3,suffix:"+"},{label:"Technologies Used",value:12,suffix:"+"}],cr={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.5}}},dr={hidden:{opacity:0,y:30},show:{opacity:1,y:0,transition:{duration:3,type:"spring"}}},hr=()=>c.jsxs(ee.div,{initial:"hidden",whileInView:"show",variants:cr,viewport:{once:!1},className:"stats-section-bg",style:{padding:"60px 20px"},children:[c.jsx(h,{variant:"h4",align:"center",gutterBottom:!0,sx:{fontWeight:"bold",mb:4},children:"My Achievements"}),c.jsx(V,{container:!0,spacing:3,justifyContent:"center",children:lr.map(((e,t)=>c.jsx(V,{item:!0,xs:12,sm:6,md:3,children:c.jsx(ee.div,{variants:dr,children:c.jsx(R,{className:"stats-card",sx:{textAlign:"center",padding:"20px",borderRadius:"16px",boxShadow:"0 8px 16px rgba(0,0,0,0.05)","&:hover":{transform:"scale(1.05)",transition:"1s"}},children:c.jsxs(de,{children:[c.jsx(h,{variant:"h3",sx:{fontWeight:"bold",color:"#2563eb"},children:c.jsx(he,{end:e.value,duration:20,suffix:e.suffix})}),c.jsx(h,{variant:"subtitle1",sx:{color:"#6b7280",mt:1,fontWeight:500},children:e.label})]})})})},t)))})]}),ur=[{name:"React",icon:c.jsx(ue,{size:40,color:"#61DBFB"})},{name:"Node.js",icon:c.jsx(me,{size:40,color:"#3C873A"})},{name:"JavaScript",icon:c.jsx(xe,{size:40,color:"#F7DF1E"})},{name:"MongoDB",icon:c.jsx(pe,{size:40,color:"#4DB33D"})},{name:"CSS3",icon:c.jsx(ge,{size:40,color:"#264de4"})},{name:"Databases",icon:c.jsx(je,{size:40,color:"#ff9900"})}],mr={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.2}}},xr={hidden:{opacity:0,y:50},show:{opacity:1,y:0,transition:{duration:2,type:"spring"}}},pr=()=>c.jsxs(ee.div,{initial:"hidden",whileInView:"show",variants:mr,viewport:{once:!1},style:{padding:"60px 20px"},className:"skill-section-bg",children:[c.jsx(h,{variant:"h4",align:"center",gutterBottom:!0,sx:{fontWeight:"bold",mb:4},children:"My Expertise"}),c.jsx(V,{container:!0,spacing:3,justifyContent:"center",children:ur.map(((e,t)=>c.jsx(V,{item:!0,xs:12,sm:6,md:4,children:c.jsx(ee.div,{variants:xr,whileHover:{scale:1.1,rotate:2},children:c.jsx(R,{className:"skill-card",sx:{textAlign:"center",padding:"20px",borderRadius:"16px",boxShadow:"0 8px 16px rgba(0,0,0,0.05)","&:hover":{transform:"scale(1.05)",transition:"2s"}},children:c.jsxs(de,{children:[c.jsx("div",{style:{marginBottom:"10px"},children:e.icon}),c.jsx(h,{variant:"h6",sx:{fontWeight:"bold"},children:e.name})]})})})},t)))})]}),gr=()=>{const e={hidden:{opacity:0,y:30},show:{opacity:1,y:0,transition:{duration:3,type:"spring"}}};return c.jsxs("section",{className:"testimonials-section-bg",children:[c.jsx("h2",{children:"What Clients Say"}),c.jsx(ee.div,{className:"testimonials-container",initial:"hidden",whileInView:"show",transition:{duration:1,type:"spring"},viewport:{once:!0},variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.5}}},children:[{image:"Jules-admin.jpg",name:"Jules Trovor",role:"Product Manager",message:"Jeremiah is an exceptional developer! He delivered our project on time with top-notch quality."},{image:"traveler9.jpeg",name:"Samuel Aidoo",role:"UI/UX Designer",message:"Working with Jeremiah was an amazing experience. He understands design and functionality perfectly."},{image:"Bob2.jpg",name:"Roberta Kokroko",role:"Startup Founder",message:"Very professional and highly skilled. I recommend him for any modern web application project."}].map(((t,s)=>c.jsxs(ee.div,{className:"testimonial-card",variants:e,children:[c.jsxs("p",{className:"testimonial-message",children:['"',t.message,'"']}),c.jsx("img",{src:t.image,alt:t.name,className:"testimonial-image"}),c.jsx("h4",{children:t.name}),c.jsx("span",{children:t.role})]},s)))})]})},jr=()=>{const[e,t]=l.useState({name:"",email:"",message:""}),s=s=>{t({...e,[s.target.name]:s.target.value})};return c.jsxs("section",{className:"contact",children:[c.jsx("h2",{children:"Contact Me"}),c.jsxs("form",{onSubmit:e=>{e.preventDefault(),z.success("Message sent successfully!",{bodyStyle:{backgroundColor:"#144d8a",color:"#fff",padding:"10px 20px",borderRadius:"8px"},progressStyle:{backgroundColor:"gray"}}),t({name:"",email:"",message:""})},className:"contact-form",children:[c.jsx("input",{type:"text",name:"name",placeholder:"Your Name",value:e.name,onChange:s,required:!0}),c.jsx("input",{type:"email",name:"email",placeholder:"Your Email",value:e.email,onChange:s,required:!0}),c.jsx("textarea",{name:"message",placeholder:"Your Message",value:e.message,onChange:s,required:!0}),c.jsx(u,{type:"submit",style:{background:"linear-gradient(90deg, #1976d2, #42a5f5)"},children:"Send Message"})]})]})},fr=()=>c.jsxs(d,{sx:{position:"relative",textAlign:"center",py:10,overflow:"hidden"},children:[c.jsx(ee.div,{animate:{y:[0,30,0],rotate:[0,15,0]},transition:{repeat:1/0,duration:8,ease:"easeInOut"},initial:{y:-20,rotate:0},whileInView:{y:[0,30,0],rotate:[0,15,0]},style:{position:"absolute",top:"10%",left:"5%",width:"120px",height:"120px",borderRadius:"50%",background:"linear-gradient(135deg, #1976d2, #42a5f5)",opacity:.2,zIndex:-1}}),c.jsx(ee.div,{animate:{y:[0,30,0],rotate:[0,15,0]},transition:{repeat:1/0,duration:8,ease:"easeInOut"},style:{position:"absolute",top:"10%",right:"5%",width:"120px",height:"120px",borderRadius:"50%",background:"linear-gradient(135deg, #1976d2, #42a5f5)",opacity:.2,zIndex:-1}}),c.jsx(ee.div,{initial:"hidden",animate:"visible",variants:{hidden:{opacity:1},visible:{opacity:1,transition:{staggerChildren:.3,delayChildren:.4}}},children:c.jsx(ee.div,{variants:{hidden:{opacity:0,y:60},visible:{opacity:1,y:0,transition:{duration:1.2,ease:[.25,.8,.25,1]}}},children:c.jsx(h,{align:"center",gutterBottom:!0,sx:{fontSize:{xs:36,sm:62},fontWeight:"bold",color:"#7b1fa2",mb:4},children:"Let’s Connect!"})})}),c.jsx(d,{sx:{display:"flex",justifyContent:"center",gap:4},children:[...Array(5)].map(((e,t)=>c.jsx(ee.div,{animate:{y:[0,-20,0]},transition:{repeat:1/0,duration:2.5+.2*t,ease:"easeInOut"},style:{width:"6px",height:"180px",borderRadius:"12px",background:t%2==0?"#1976d2":"#42a5f5"}},t)))}),c.jsx(ee.button,{whileHover:{scale:1.1,boxShadow:"0px 8px 20px rgba(25, 118, 210, 0.5)"},transition:{type:"spring",stiffness:300},style:{marginTop:"40px",padding:"16px 40px",fontSize:"18px",fontWeight:"600",color:"#fff",background:"linear-gradient(90deg, #1976d2, #42a5f5)",border:"none",borderRadius:"50px",cursor:"pointer"},children:"Get in Touch"})]}),yr=()=>{const e={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.8}}};return c.jsxs(ee.div,{initial:"hidden",animate:"visible",variants:{hidden:{opacity:1},visible:{opacity:1,transition:{staggerChildren:.3}}},children:[c.jsx(y,{children:c.jsx("title",{children:"Jeremiah Deku - Me"})}),c.jsx(ar,{}),c.jsx(ee.div,{variants:e,children:c.jsx(nr,{})}),c.jsx(ee.div,{variants:e,children:c.jsx(pr,{})}),c.jsx(ee.div,{variants:e,children:c.jsx(hr,{})}),c.jsx(ee.div,{variants:e,children:c.jsx(rr,{})}),c.jsx(ee.div,{variants:e,children:c.jsx(gr,{})}),c.jsx(ee.div,{variants:e,children:c.jsx(fr,{})}),c.jsx(ee.div,{variants:e,children:c.jsx(jr,{})}),c.jsx(ee.div,{variants:e,children:c.jsx(ir,{})}),c.jsx(ee.div,{variants:e,children:c.jsx(or,{})})]})};async function br(e){const t=e.map((e=>new Promise((t=>{if(/\.(mp3|mp4|wav|ogg|json|web|webp|png|jpeg|gif|ico||svg)$/i.test(e)){const s=new Audio;s.oncanplaythrough=t,s.onerror=t,s.src=e}else{const s=new Image;s.onload=t,s.onerror=t,s.src=e}}))));await Promise.all(t)}async function vr(){await async function(){let e=[];try{const t=await fetch("/manifest.json").then((e=>e.json()));e=Object.values(t).flatMap((e=>[e.file,...e.css||[],...e.assets||[]])).filter((e=>/\.(png|jpe?g|svg|webp|gif|ico|mp3|mp4|json|web|webp|wav)$/i.test(e))).map((e=>e.startsWith("/")?e:`/${e}`))}catch(t){console.warn("Failed to load manifest.json, falling back to glob eager",t)}if(!e.length){const t=Object.assign({});e=Object.values(t).map((e=>e.default))}await br(e),console.log("Assets asstes loaded")}(),await async function(){const e=Object.assign({}),t=Object.values(e).map((e=>e.default));sessionStorage.getItem("publicAssetsLoaded")||(console.log("Public asstes loaded"),await br(t),sessionStorage.setItem("publicAssetsLoaded","true"))}(),console.log("✅ All assets preloaded")}const wr=()=>{const[e,t]=l.useState(localStorage.getItem("theme")||"light");l.useEffect((()=>{document.body.className=e,localStorage.setItem("theme",e)}),[e]);return c.jsx("div",{className:"toggleTheme",children:c.jsx("button",{className:"themeButton",onClick:()=>{t("light"===e?"dark":"light")},children:"light"===e?c.jsx(fe,{}):c.jsx(ye,{})})})},Sr=[{to:"/jerryDek/blog/projects",text:"Projects",icon:c.jsx(Ce,{})}],kr=[{to:"/jerryDek/blog/code",text:"Code Snippets",icon:c.jsx(Re,{})},{to:"/jerryDek/blog/technologies",text:"Technologies",icon:c.jsx(Ae,{})},{to:"/jerryDek/blog/tools",text:"Tools",icon:c.jsx(re,{})},{to:"/jerryDek/blog/certificates",text:"Certificates",icon:c.jsx(Ie,{})},{to:"/jerryDek/blog/reviews",text:"Reviews",icon:c.jsx(Ne,{})}],Cr=[{to:"/jerryDek/blog/getJob",text:"GetJob Faster",icon:c.jsx(Te,{})},{to:"/jerryDek/blog/courses",text:"Courses",icon:c.jsx(De,{})},{to:"/jerryDek/blog/project-assets",text:"Projects Assets",icon:c.jsx(Pe,{})}],Rr=[{to:"",text:"Change Theme",icon:c.jsx(wr,{className:"themeButton"})}];function Ar({onLinkClick:e}){const[t,s]=l.useState(!0);return l.useEffect((()=>{t&&(async()=>{localStorage.getItem("adminAssetsLoaded")||(await vr(),localStorage.setItem("adminAssetsLoaded","true")),sessionStorage.setItem("adminAssetsLoaded","true"),s(!1)})()}),[t]),t?c.jsxs(d,{children:[c.jsx(d,{sx:{p:2},children:Array.from({length:Sr.length}).map(((e,t)=>c.jsx("div",{sx:{display:"flex"},children:c.jsx(X,{variant:"rectangular",height:48,sx:{mb:1}},t)})))}),c.jsx(d,{sx:{p:2,mt:2},children:Array.from({length:kr.length}).map(((e,t)=>c.jsx("div",{sx:{display:"flex"},children:c.jsx(X,{variant:"rectangular",height:48,sx:{mb:1}},t)})))}),c.jsx(d,{sx:{p:2,mt:5},children:Array.from({length:Cr.length}).map(((e,t)=>c.jsx("div",{sx:{display:"flex"},children:c.jsx(X,{variant:"rectangular",height:48,sx:{mb:1}},t)})))}),c.jsx(d,{sx:{p:2,mt:5},children:Array.from({length:Rr.length}).map(((e,t)=>c.jsx("div",{sx:{display:"flex"},children:c.jsx(X,{variant:"rectangular",height:48,sx:{mb:1}},t)})))})]}):c.jsxs(d,{sx:{width:320,pt:2},className:"sidebar-bg",children:[c.jsx(be,{children:Sr.map((({to:t,text:s,icon:a})=>c.jsx(c.Fragment,{children:c.jsx(R,{elevation:2,children:c.jsxs(ve,{component:we,onClick:e,to:t,sx:{px:3,py:1.5},style:({isActive:e})=>({borderRadius:8,padding:"12px 24px",color:e?"#fff":"inherit",background:e?"linear-gradient(90deg, #1976d2, #094785ff)":"transparent"}),children:[c.jsx(Se,{sx:{color:"inherit",minWidth:36},children:a}),c.jsx(ke,{primary:s})]},t)})})))}),c.jsx(j,{sx:{fontSize:12}}),c.jsx(be,{children:kr.map((({to:e,text:t,icon:s})=>c.jsx(c.Fragment,{children:c.jsxs(ve,{component:we,to:e,sx:{px:3,py:1.5},style:({isActive:e})=>({borderRadius:8,padding:"12px 24px",color:e?"#fff":"inherit",background:e?"linear-gradient(90deg, #1976d2, #094785ff)":"transparent"}),children:[c.jsx(Se,{sx:{color:"inherit",minWidth:36},children:s}),c.jsx(ke,{primary:t})]},e)})))}),c.jsx(j,{}),c.jsxs(be,{children:[c.jsx(R,{children:c.jsx(R,{elevation:10,className:"sidebar-card-bg",children:c.jsx(A,{sx:{ml:5},title:"Learning",className:"sidebar-card-header"})})}),Cr.map((({to:e,text:t,icon:s})=>c.jsx(c.Fragment,{children:c.jsxs(ve,{component:we,to:e,sx:{px:3,py:1.5},style:({isActive:e})=>({borderRadius:8,padding:"12px 24px",color:e?"#fff":"inherit",background:e?"linear-gradient(90deg, ActiveCaption, #094785ff)":"transparent"}),children:[c.jsx(Se,{sx:{color:"inherit",minWidth:36},children:s}),c.jsx(ke,{primary:t})]},e)})))]}),c.jsx(j,{}),c.jsxs(be,{children:[c.jsx(R,{children:c.jsx(R,{elevation:10,className:"sidebar-card-bg",children:c.jsx(A,{sx:{ml:5},title:"Settings",className:"sidebar-card-header"})})}),Rr.map((({to:e,text:t,icon:s})=>c.jsxs(c.Fragment,{children:[c.jsxs(ve,{component:we,to:e,sx:{px:3,py:1.5},style:({isActive:e})=>({borderRadius:8,padding:"12px 24px",color:e?"#fff":"inherit",background:e?"linear-gradient(90deg, #1976d2, #094785ff)":"transparent"}),children:[c.jsx(Se,{sx:{color:"inherit",minWidth:36},children:s}),c.jsx(ke,{primary:t})]},e),c.jsx(j,{})]})))]})]})}function Ir(){const e=x(),t=Ee(e.breakpoints.up("lg")),[s,a]=Fe.useState(!1),r=()=>{a(!s)},i=Q();return l.useEffect((()=>{t||a(!1)}),[i,t]),c.jsxs(c.Fragment,{children:[c.jsx(y,{children:c.jsx("title",{children:"Jeremiah Dek - Blog"})}),c.jsxs(d,{sx:{display:"flex"},children:[c.jsx(We,{}),!t&&c.jsxs(E,{color:"inherit","aria-label":"toggle drawer",className:"user-sidebar",edge:"start",onClick:r,sx:{position:"fixed",top:200,left:10,zIndex:2001,boxShadow:2,"&:hover":{bgcolor:"grey.100"}},children:[s?c.jsx(Be,{className:"user-sidebar-close"}):c.jsx(Le,{className:"user-sidebar-open"})," "]}),c.jsx(ze,{variant:"temporary",open:s,onClose:r,ModalProps:{keepMounted:!0},className:"mobile-sidebar",sx:{display:{xs:"block",lg:"none"},"& .MuiDrawer-paper":{width:"80%",maxWidth:320,borderRight:"1px solid",borderColor:"divider",top:"44px",height:"90%",display:"flex",flexDirection:"column"},"& .MuiBackdrop-root":{backgroundColor:"rgba(0,0,0,0.5)"}},children:c.jsx(Ar,{onLinkClick:r})}),t&&c.jsx(ze,{variant:"permanent",sx:{display:{xs:"none",lg:"block"},"& .MuiDrawer-paper":{width:260,top:"64px",height:"100vh",position:"sticky",overflowY:"auto",overflowX:"hidden"}},open:!0,children:c.jsx(Ar,{})}),c.jsx(d,{component:"main",sx:{flexGrow:1,p:0,ml:{lg:"260px"}},children:c.jsxs(d,{sx:{ml:{xs:0,md:-33},mt:{xs:0,md:-5}},children:[c.jsx(Oe,{}),c.jsx(qe,{})]})})]})]})}const Nr=[{id:1,title:"Transport Booking Platform",description:"A full-stack web app for booking transport with receipts and driver matching.",image:"admin-page.png",date:"Aug 2025",tech:["React","Node.js","Express","MongoDB","Redis"],github:"https://github.com/j-deku/transBook",demo:"https://transport-booking-demo.vercel.app",caseStudy:{overview:"This platform allows users to book transport and drivers to manage ride requests until max capacity. It includes OTP verification, IP allowlisting, session handling, Redis-based rate limiting, and a role-based admin dashboard.",features:["Secure authentication with OTP & 2FA","Redis-powered rate limiting and CAPTCHA","Driver ride capacity handling with live updates","Admin panel with push notifications (FCM)"],challenges:["Building secure login flow with custom CAPTCHA","Synchronizing driver capacity across users in real-time","Offline-first authentication with Redux bootstrapping"],screenshots:["dashboard.png","assets/blog/app1-2.png"]}},{id:2,title:"Building Scalable React Apps",description:"Learn best practices for scaling your React projects for production readiness.",image:"firstProject.png",author:"Jeremiah Deku",date:"Sept 2, 2025",tech:["React","Node.js","Express","MongoDB","Redis"],github:"https://github.com/j-deku/TOLI-TOLI",demo:"https://j-deku.github.io/Khandid_website/",caseStudy:{overview:"This platform allows users to book transport and drivers to manage ride requests until max capacity. It includes OTP verification, IP allowlisting, session handling, Redis-based rate limiting, and a role-based admin dashboard.",features:["Secure authentication with OTP & 2FA","Redis-powered rate limiting and CAPTCHA","Driver ride capacity handling with live updates","Admin panel with push notifications (FCM)"],challenges:["Building secure login flow with custom CAPTCHA","Synchronizing driver capacity across users in real-time","Offline-first authentication with Redux bootstrapping"],screenshots:["dashboard.png","assets/blog/app1-2.png"]}},{id:2,title:"Node.js Security for Modern Web Apps",description:"Discover advanced security practices with JWT, rate limiting, and Redis integration.",image:"admin-page.png",author:"Jeremiah Deku",date:"Aug 28, 2025",tech:["React","Node.js","Express","MongoDB","Redis"],github:"https://github.com/j-deku/transBook",demo:"https://transport-booking-demo.vercel.app",caseStudy:{overview:"This platform allows users to book transport and drivers to manage ride requests until max capacity. It includes OTP verification, IP allowlisting, session handling, Redis-based rate limiting, and a role-based admin dashboard.",features:["Secure authentication with OTP & 2FA","Redis-powered rate limiting and CAPTCHA","Driver ride capacity handling with live updates","Admin panel with push notifications (FCM)"],challenges:["Building secure login flow with custom CAPTCHA","Synchronizing driver capacity across users in real-time","Offline-first authentication with Redux bootstrapping"],screenshots:["dashboard.png","assets/blog/app1-2.png"]}},{id:3,title:"Framer Motion for Stunning Animations",description:"Step-by-step guide to add smooth, professional animations in React apps.",image:"dashboard.png",author:"Jeremiah Deku",date:"Aug 20, 2025",tech:["React","Node.js","Express","MongoDB","Redis"],github:"https://github.com/j-deku/transBook",demo:"https://transport-booking-demo.vercel.app",caseStudy:{overview:"This platform allows users to book transport and drivers to manage ride requests until max capacity. It includes OTP verification, IP allowlisting, session handling, Redis-based rate limiting, and a role-based admin dashboard.",features:["Secure authentication with OTP & 2FA","Redis-powered rate limiting and CAPTCHA","Driver ride capacity handling with live updates","Admin panel with push notifications (FCM)"],challenges:["Building secure login flow with custom CAPTCHA","Synchronizing driver capacity across users in real-time","Offline-first authentication with Redux bootstrapping"],screenshots:["dashboard.png","assets/blog/app1-2.png"]}},{id:3,title:"The modern and yet simple web app",description:"MERN stack development for E-Commerce platform optimized with add to cart features",image:"cart.png",author:"Jeremiah Deku",date:"Aug 20, 2025",tech:["React","Node.js","Express","MongoDB","Redis"],github:"https://github.com/j-deku/transBook",demo:"https://transport-booking-demo.vercel.app",caseStudy:{overview:"This platform allows users to book transport and drivers to manage ride requests until max capacity. It includes OTP verification, IP allowlisting, session handling, Redis-based rate limiting, and a role-based admin dashboard.",features:["Secure authentication with OTP & 2FA","Redis-powered rate limiting and CAPTCHA","Driver ride capacity handling with live updates","Admin panel with push notifications (FCM)"],challenges:["Building secure login flow with custom CAPTCHA","Synchronizing driver capacity across users in real-time","Offline-first authentication with Redux bootstrapping"],screenshots:["dashboard.png","assets/blog/app1-2.png"]}},{id:3,title:"Creating a modern PWA for mobile view",description:"Step-by-step guide to add smooth, professional animations in mobile apps with responsiveness",image:"Mobile.png",author:"Jeremiah Deku",date:"Aug 20, 2025",tech:["React","NodeJS","Mongodb","MUIs","CSS3"],github:"https://github.com/j-deku/transBook",demo:"https://transport-booking-demo.vercel.app",caseStudy:{overview:"This platform allows users to book transport and drivers to manage ride requests until max capacity. It includes OTP verification, IP allowlisting, session handling, Redis-based rate limiting, and a role-based admin dashboard.",features:["Secure authentication with OTP & 2FA","Redis-powered rate limiting and CAPTCHA","Driver ride capacity handling with live updates","Admin panel with push notifications (FCM)"],challenges:["Building secure login flow with custom CAPTCHA","Synchronizing driver capacity across users in real-time","Offline-first authentication with Redux bootstrapping"],screenshots:["dashboard.png","assets/blog/app1-2.png"]}},{id:3,title:"Modern and intuitive designs",description:"Creating design look with responsiveness using media queries and advance react MUIs",image:"balloon.png",author:"Jeremiah Deku",date:"Aug 20, 2025",tech:["React","Node.js","Express","MongoDB","Redis"],github:"https://github.com/j-deku/transBook",demo:"https://transport-booking-demo.vercel.app",caseStudy:{overview:"This platform allows users to book transport and drivers to manage ride requests until max capacity. It includes OTP verification, IP allowlisting, session handling, Redis-based rate limiting, and a role-based admin dashboard.",features:["Secure authentication with OTP & 2FA","Redis-powered rate limiting and CAPTCHA","Driver ride capacity handling with live updates","Admin panel with push notifications (FCM)"],challenges:["Building secure login flow with custom CAPTCHA","Synchronizing driver capacity across users in real-time","Offline-first authentication with Redux bootstrapping"],screenshots:["dashboard.png","assets/blog/app1-2.png"]}}],Tr=({open:e,handleClose:t,project:s})=>s?c.jsxs(Ue,{open:e,onClose:t,maxWidth:"md",fullWidth:!0,children:[c.jsxs(Me,{children:[s.title," – Case Study"]}),c.jsxs(_e,{dividers:!0,children:[c.jsx(h,{variant:"h6",gutterBottom:!0,children:"Overview"}),c.jsx(h,{variant:"body1",gutterBottom:!0,children:s.caseStudy.overview}),c.jsx(h,{variant:"h6",sx:{mt:2},children:"Features"}),c.jsx("ul",{children:s.caseStudy.features.map(((e,t)=>c.jsx("li",{children:e},t)))}),c.jsx(h,{variant:"h6",sx:{mt:2},children:"Challenges"}),c.jsx("ul",{children:s.caseStudy.challenges.map(((e,t)=>c.jsx("li",{children:e},t)))}),c.jsx(h,{variant:"h6",sx:{mt:2},children:"Tech Stack"}),c.jsx(N,{direction:"row",spacing:1,sx:{flexWrap:"wrap",mt:1},children:s.tech.map((e=>c.jsx(He,{label:e,color:"primary",size:"small"},e)))}),c.jsx(h,{variant:"h6",sx:{mt:2},children:"Screenshots"}),c.jsx(d,{sx:{display:"flex",gap:2,flexWrap:"wrap",mt:1},children:s.caseStudy.screenshots.map(((e,t)=>c.jsx("img",{src:e,alt:`${s.title} screenshot ${t+1}`,style:{width:"48%",borderRadius:8}},t)))})]})]}):null,Dr=()=>{const[e,t]=l.useState(!1),[s,a]=l.useState(null);return c.jsx("div",{style:{textAlign:"center",padding:"40px 0px",marginTop:-100},children:c.jsxs(d,{sx:{py:10,px:{xs:0,md:6}},className:"menuBlog-bg",children:[c.jsx(h,{variant:"h4",align:"center",fontWeight:"bold",gutterBottom:!0,component:ee.h4,initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:"Projects Showcase"}),c.jsx(V,{container:!0,spacing:4,justifyContent:"center",sx:{mt:4},children:Nr.map(((e,s)=>c.jsx(V,{item:!0,xs:12,sm:6,md:4,children:c.jsx(ee.div,{initial:{opacity:0,y:60,rotate:s%2==0?-2:2},whileInView:{opacity:1,y:0,rotate:0},viewport:{once:!1},transition:{duration:.6,delay:.2*s},whileHover:{scale:1.05},children:c.jsxs(R,{className:"stats-card",sx:{borderRadius:"20px",overflow:"hidden",boxShadow:"0 8px 20px rgba(0,0,0,0.08)",height:"100%",m:1,display:"flex",flexDirection:"column"},children:[c.jsx($e,{component:"img",height:"200",image:e.image,alt:e.title}),c.jsxs(de,{sx:{flexGrow:1},children:[c.jsx(h,{variant:"h6",fontWeight:"bold",gutterBottom:!0,children:e.title}),c.jsx(h,{variant:"body2",color:"text.secondary",sx:{mb:2},children:e.description}),c.jsxs(h,{variant:"caption",color:"text.secondary",children:["By ",e.author," • ",e.date]}),c.jsx(N,{direction:"row",spacing:1,sx:{flexWrap:"wrap",mb:2},children:e.tech.map((e=>c.jsx(He,{label:e,size:"small",color:"primary"},e)))}),c.jsxs(N,{direction:"row",spacing:2,children:[c.jsx(u,{size:"small",startIcon:c.jsx(Je,{}),href:e.github,target:"_blank",sx:{fontSize:8,fontWeight:700},children:"GitHub"}),c.jsx(u,{size:"small",startIcon:c.jsx(Ve,{}),href:e.demo,target:"_blank",sx:{fontSize:8,fontWeight:700},children:"Live Demo"}),c.jsx(u,{size:"small",onClick:()=>(a(e),void t(!0)),variant:"outlined",sx:{fontSize:8,fontWeight:700},children:"View Case Study"})]})]}),c.jsx(d,{sx:{p:1},children:c.jsx(u,{variant:"outlined",fullWidth:!0,sx:{borderRadius:"12px",textTransform:"none",fontWeight:"bold"},children:"Read More"})})]})})},e.id)))}),c.jsx(Tr,{open:e,handleClose:()=>{t(!1),a(null)},project:s})]})})},Pr=[{id:1,title:"Game Development with JavaScript",issuer:"Sololearn",date:"May 2024",credentialUrl:"https://coursera.org/verify/react-cert",badge:"GameDev-with-JS_certificate.jpg"},{id:2,title:"Web Development Certification",issuer:"Sololearn",date:"Jan 2023",credentialUrl:"https://freecodecamp.org/certification/xyz",badge:"Web_Development_certificate.jpg"},{id:3,title:"Backend Development with Node.js",issuer:"Sololearn",date:"Mar 2023",credentialUrl:"https://udemy.com/certificate/abc",badge:"JavaScript_Intermediate_certificate.jpg"}],Er=()=>c.jsxs(d,{sx:{p:{xs:0,md:4}},className:"certificate-bg",children:[c.jsx(h,{variant:"h4",gutterBottom:!0,align:"center",fontWeight:"bold",sx:{mb:4},children:"🎓 Certifications"}),c.jsx(N,{direction:"row",spacing:3,flexWrap:"wrap",justifyContent:"center",children:Pr.map(((e,t)=>c.jsx(ee.div,{initial:{opacity:0,y:50,scale:.9},whileInView:{opacity:1,y:0,scale:1},viewport:{once:!0},transition:{duration:.6,delay:.2*t},children:c.jsxs(R,{sx:{width:300,borderRadius:3,boxShadow:5,mb:3,textAlign:"center"},children:[c.jsx($e,{component:"img",alt:e.title,height:"140",image:e.badge,sx:{objectFit:"contain",p:2}}),c.jsxs(de,{children:[c.jsx(h,{variant:"h6",fontWeight:"bold",children:e.title}),c.jsx(h,{variant:"body2",color:"text.secondary",sx:{mb:1},children:e.issuer}),c.jsx(h,{variant:"caption",display:"block",gutterBottom:!0,children:e.date}),c.jsx(u,{size:"small",href:e.credentialUrl,target:"_blank",startIcon:c.jsx(Ve,{}),children:"Verify Credential"})]})]})},e.id)))})]}),Fr=()=>c.jsxs("div",{style:{textAlign:"center",padding:"40px 10px"},children:[c.jsxs(y,{children:[c.jsx("title",{children:"Blog - Jeremiah Deku"}),c.jsx("meta",{name:"description",content:"Explore Jeremiah Deku's blog featuring projects, technologies, reviews, courses, and career insights."}),c.jsx("link",{rel:"canonical",href:"https://jerrydek.com/blog"})]}),c.jsxs(d,{sx:{py:10,px:{xs:0,md:6}},className:"menuBlog-bg",children:[c.jsx(h,{variant:"h4",align:"center",fontWeight:"bold",gutterBottom:!0,component:ee.h4,initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:"Latest Blog Posts"}),c.jsx(V,{container:!0,spacing:4,justifyContent:"center",sx:{mt:4},children:[{id:3,title:"Modern and intuitive designs",excerpt:"Creating design look with responsiveness using media queries and advance react MUIs",image:"balloon.png",author:"Jeremiah Deku",date:"Aug 20, 2025"},{id:2,title:"Node.js Security for Modern Web Apps",excerpt:"Discover advanced security practices with JWT, rate limiting, and Redis integration.",image:"admin-page.png",author:"Jeremiah Deku",date:"Aug 28, 2025"},{id:3,title:"Framer Motion for Stunning Animations",excerpt:"Step-by-step guide to add smooth, professional animations in React apps.",image:"dashboard.png",author:"Jeremiah Deku",date:"Aug 20, 2025"}].map(((e,t)=>c.jsx(V,{item:!0,xs:12,sm:6,md:4,children:c.jsx(ee.div,{initial:{opacity:0,y:60,rotate:t%2==0?-2:2},whileInView:{opacity:1,y:0,rotate:0},viewport:{once:!0},transition:{duration:.6,delay:.2*t},whileHover:{scale:1.05},children:c.jsxs(R,{className:"stats-card",sx:{borderRadius:"20px",overflow:"hidden",boxShadow:"0 8px 20px rgba(0,0,0,0.08)",height:"100%",display:"flex",flexDirection:"column"},children:[c.jsx($e,{component:"img",height:"200",image:e.image,alt:e.title}),c.jsxs(de,{sx:{flexGrow:1},children:[c.jsx(h,{variant:"h6",fontWeight:"bold",gutterBottom:!0,children:e.title}),c.jsx(h,{variant:"body2",color:"lightgray !important",sx:{mb:2},children:e.excerpt}),c.jsxs(h,{variant:"caption",color:"text.secondary",children:["By ",e.author," • ",e.date]})]}),c.jsx(d,{sx:{p:2},children:c.jsx(u,{variant:"outlined",fullWidth:!0,sx:{borderRadius:"12px",textTransform:"none",fontWeight:"bold"},children:"Read More"})})]})})},e.id)))})]}),c.jsx(nr,{})]}),Wr=[{name:"React",icon:c.jsx(ue,{size:40,color:"#61DBFB"})},{name:"Node.js",icon:c.jsx(me,{size:40,color:"#3C873A"})},{name:"JavaScript",icon:c.jsx(xe,{size:40,color:"#F7DF1E"})},{name:"MongoDB",icon:c.jsx(pe,{size:40,color:"#4DB33D"})},{name:"CSS3",icon:c.jsx(ge,{size:40,color:"#264de4"})},{name:"Databases",icon:c.jsx(je,{size:40,color:"#ff9900"})},{name:"Express.js",icon:c.jsx(me,{size:40,color:"#000000"})},{name:"HTML5",icon:c.jsx(ge,{size:40,color:"#e34c26"})},{name:"RESTful APIs",icon:c.jsx(je,{size:40,color:"#ff6600"})},{name:"Git & GitHub",icon:c.jsx(Ge,{size:40,color:"#f34f29"})},{name:"GitHub",icon:c.jsx(Je,{size:40,color:"#141414ff"})},{name:"TypeScript",icon:c.jsx(xe,{size:40,color:"#3178c6"})},{name:"Redux",icon:c.jsx(xe,{size:40,color:"#764abc"})},{name:"Tailwind CSS",icon:c.jsx(ge,{size:40,color:"#38bdf8"})},{name:"Docker",icon:c.jsx(je,{size:40,color:"#2496ed"})},{name:"AWS",icon:c.jsx(je,{size:40,color:"#ff9900"})},{name:"Webpack",icon:c.jsx(xe,{size:40,color:"#8ed6fb"})},{name:"Babel",icon:c.jsx(xe,{size:40,color:"#f9dc3e"})},{name:"firebase",icon:c.jsx(Ye,{size:40,color:"#ff310dff"})},{name:"Redis",icon:c.jsx(Ke,{size:40,color:"#17c507d0"})}],Br=[{name:"Render",icon:c.jsx(h,{variant:"h3",sx:{fontWeight:800},children:"R"})},{name:"Google Cloud",icon:c.jsx(Xe,{size:40,color:"#868685d0"})},{name:"Cloudinary",icon:c.jsx(Qe,{size:40,color:"#2496ed"})},{name:"Cloudflare",icon:c.jsx(Ze,{size:40,color:"#b85402ff"})},{name:"firebase hosting",icon:c.jsx(Ye,{size:40,color:"#ff310dff"})},{name:"GitHub",icon:c.jsx(Je,{size:40,color:"#141414ff"})}],Lr={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.2}}},zr={hidden:{opacity:0,y:50},show:{opacity:1,y:0,transition:{duration:2,type:"spring"}}},Or=()=>c.jsxs(ee.div,{initial:"hidden",whileInView:"show",variants:Lr,viewport:{once:!1},className:"menuBlog-bg",style:{padding:"60px 10px"},children:[c.jsx(h,{variant:"h4",align:"center",gutterBottom:!0,sx:{fontWeight:"bold",mb:4},children:"Technologies I Used"}),c.jsx(V,{container:!0,spacing:3,justifyContent:"center",children:Wr.map(((e,t)=>c.jsx(V,{item:!0,xs:12,sm:6,md:4,children:c.jsx(ee.div,{variants:zr,whileHover:{scale:1.05,rotate:2},children:c.jsx(R,{className:"stats-card",sx:{textAlign:"center",padding:"20px",borderRadius:"16px",boxShadow:"0 8px 16px rgba(0,0,0,0.05)","&:hover":{transform:"scale(1.05)",transition:"2s"}},children:c.jsxs(de,{children:[c.jsx("div",{style:{marginBottom:"10px"},children:e.icon}),c.jsx(h,{variant:"h6",sx:{fontWeight:"bold"},children:e.name})]})})})},t)))}),c.jsx("hr",{style:{marginTop:30}}),c.jsx(h,{variant:"h7",align:"center",gutterBottom:!0,sx:{fontWeight:"bold",mb:4},children:c.jsx("h1",{style:{marginTop:50},children:"Hostings Servers I Used"})}),c.jsx(V,{container:!0,spacing:3,justifyContent:"center",children:Br.map(((e,t)=>c.jsx(V,{item:!0,xs:12,sm:6,md:4,children:c.jsx(ee.div,{variants:zr,whileHover:{scale:1.1,rotate:2},children:c.jsx(R,{sx:{textAlign:"center",padding:"20px",borderRadius:"16px",boxShadow:"0 8px 16px rgba(0,0,0,0.05)","&:hover":{transform:"scale(1.05)",transition:"2s"}},children:c.jsxs(de,{children:[c.jsx("div",{style:{marginBottom:"10px"},children:e.icon}),c.jsx(h,{variant:"h6",sx:{fontWeight:"bold"},children:e.name})]})})})},t)))})]}),qr=[{id:1,name:"Sarah Johnson",role:"Product Manager at TechCorp",feedback:"Jeremiah is a fantastic developer! He delivered our web app ahead of schedule with clean, scalable code.",rating:5,avatar:"assets/reviews/sarah.jpg"},{id:2,name:"Michael Kwame",role:"Senior Engineer at DevWorks",feedback:"His problem-solving skills are excellent. I’d happily work with him again on any project.",rating:4,avatar:"assets/reviews/michael.jpg"},{id:3,name:"Emily Carter",role:"Freelance Designer",feedback:"Jeremiah collaborates very well with designers and makes sure the UX feels intuitive.",rating:5,avatar:"assets/reviews/emily.jpg"}],Ur=()=>c.jsxs(d,{sx:{p:{xs:0,sm:4}},className:"menuBlog-bg",children:[c.jsx(h,{variant:"h4",gutterBottom:!0,align:"center",fontWeight:"bold",sx:{mb:4},children:"💬 Reviews"}),c.jsx(N,{direction:"row",spacing:1,flexWrap:"wrap",justifyContent:"center",children:qr.map(((e,t)=>c.jsx(ee.div,{initial:{opacity:0,y:50,scale:.9},whileInView:{opacity:1,y:0,scale:1},viewport:{once:!0},transition:{duration:.6,delay:.2*t},children:c.jsxs(R,{className:"stats-card",sx:{width:315,borderRadius:3,boxShadow:5,mb:3,textAlign:"center",p:2},children:[c.jsx(et,{src:e.avatar,alt:e.name,sx:{width:70,height:70,mx:"auto",mb:2,border:"2px solid #1976d2"}}),c.jsxs(de,{children:[c.jsx(h,{variant:"h6",fontWeight:"bold",children:e.name}),c.jsx(h,{variant:"caption",color:"text.secondary",gutterBottom:!0,children:e.role}),c.jsx(tt,{value:e.rating,readOnly:!0,precision:.5,sx:{mb:1}}),c.jsxs(h,{variant:"body1",sx:{fontStyle:"italic",color:"lightgray !important"},children:['"',e.feedback,'"']})]})]})},e.id)))})]}),Mr=[{name:"VS Code",icon:c.jsx(st,{size:40,color:"#007ACC"}),category:"Development"},{name:"GitHub",icon:c.jsx(at,{size:40}),category:"Collaboration"},{name:"Postman",icon:c.jsx(rt,{size:40,color:"#FF6C37"}),category:"Development"},{name:"Figma",icon:c.jsx(it,{size:40,color:"#F24E1E"}),category:"Design"},{name:"Docker",icon:c.jsx(nt,{size:40,color:"#2496ED"}),category:"Deployment"},{name:"Render",icon:c.jsx(ot,{size:40,color:"black"}),category:"Deployment"},{name:"Photopea",icon:c.jsx(lt,{size:40,color:"#c83aecff"}),category:"Development"},{name:"Photoshop",icon:c.jsx(ct,{size:40,color:"#0569acff"}),category:"Development"},{name:"Firebase",icon:c.jsx(dt,{size:40,color:"#FFCA28"}),category:"Deployment"},{name:"Redis",icon:c.jsx(ht,{size:40,color:"#D82C20"}),category:"Deployment"},{name:"Google Cloud",icon:c.jsx(ut,{size:40,color:"#f36817ff"}),category:"Deployment"},{name:"Mongodb",icon:c.jsx(pe,{size:40,color:"#10d61aff"}),category:"Deployment"}],_r=()=>c.jsxs(d,{sx:{p:{xs:0,sm:4}},children:[c.jsx(h,{variant:"h4",align:"center",fontWeight:"bold",gutterBottom:!0,sx:{mb:5},children:"🛠 Tools I Work With"}),c.jsx(V,{container:!0,spacing:3,justifyContent:"center",children:Mr.map(((e,t)=>c.jsx(V,{item:!0,xs:12,sm:6,md:4,lg:3,children:c.jsx(ee.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1*t},whileHover:{scale:1.05,rotate:2},children:c.jsx(R,{sx:{textAlign:"center",p:2,borderRadius:3,boxShadow:4},className:"stats-card",children:c.jsxs(de,{children:[c.jsx(d,{sx:{mb:2},children:e.icon}),c.jsx(h,{variant:"h6",children:e.name}),c.jsx(h,{variant:"body2",color:"text.secondary",children:e.category})]})})})},e.name)))})]}),Hr=[{title:"React - The Complete Guide",platform:"React.dev",instructor:"Maximilian Schwarzmüller",image:"https://img.icons8.com/?size=100&id=wPohyHO_qO1a&format=png&color=000000",tags:["React","Hooks","Redux"],year:2024},{title:"Node.js and Express Bootcamp",platform:"Youtube",instructor:"CS Dojo",image:"https://img.icons8.com/?size=100&id=108784&format=png&color=000000",tags:["Node.js","Express","MongoDB"],year:2023},{title:"Modern Web Development with MUI",platform:"StackFlow",instructor:"Cory House",image:"https://img.icons8.com/?size=100&id=9vlfB9hjA1lX&format=png&color=000000",tags:["MUI","UI/UX","Responsive Design"],year:2025},{title:"Modern Javascript from the Beginning",platform:"Sololearn",instructor:"Steve Griffith",image:"https://img.icons8.com/?size=100&id=PXTY4q2Sq2lG&format=png&color=000000",tags:["JavaScript","ES6+","DOM"],year:2025},{title:"Modern Web Development with CSS",platform:"Sololearn",instructor:"Steve Griffith",image:"https://img.icons8.com/?size=100&id=7gdY5qNXaKC0&format=png&color=000000",tags:["UI/UX","Responsive Design"],year:2025},{title:"Modern Web Development with MUI",platform:"Pluralsight",instructor:"Cory House",image:"https://img.icons8.com/?size=100&id=9vlfB9hjA1lX&format=png&color=000000",tags:["MUI","UI/UX","Responsive Design"],year:2025}],$r=()=>c.jsxs(d,{sx:{p:{xs:0,sm:4}},children:[c.jsx(h,{variant:"h3",align:"center",gutterBottom:!0,sx:{fontWeight:"bold",color:"primary.main",mb:4},children:"Courses"}),c.jsx(V,{container:!0,spacing:4,children:Hr.map(((e,t)=>c.jsx(V,{item:!0,xs:12,sm:6,md:4,children:c.jsx(ee.div,{whileHover:{scale:1.05},transition:{duration:.3},children:c.jsxs(R,{elevation:4,sx:{borderRadius:3,overflow:"hidden",height:"100%"},children:[c.jsx($e,{component:"img",height:"160",image:e.image,alt:e.title}),c.jsxs(de,{children:[c.jsx(h,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"bold"},children:e.title}),c.jsxs(h,{variant:"body2",color:"text.secondary",children:[e.platform," · ",e.year]}),c.jsxs(h,{variant:"subtitle2",sx:{mt:1},children:["Instructor: ",e.instructor]}),c.jsx(j,{sx:{my:2}}),c.jsx(d,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:e.tags.map(((e,t)=>c.jsx(He,{label:e,size:"small"},t)))})]})]})})},t)))})]}),Jr=[{title:"Ace Your Web Developer Interview",channel:"Code with Bubb",videoUrl:"https://youtu.be/cTatCDnvGBY?si=rV3auCFlUJtpF9G3",tags:["Interviews","Career Growth"]},{title:"How to Build a Strong Developer Portfolio",channel:"Fireship",videoUrl:"https://youtu.be/MdKv_zC90ZQ?si=hvoF3RiD-RVpUK_H",tags:["Portfolio","Projects"]},{title:"Top 5 Resume Mistakes to Avoid",channel:"CS Dojo",videoUrl:"https://www.youtube.com/embed/HVsySz-h9r4",tags:["Resume","Job Hunt"]},{title:"Landing Your First Dev Job with No Experience",channel:"Clever Programmer",videoUrl:"https://www.youtube.com/embed/2zdj6_G2ep4",tags:["Entry-Level","Advice"]}],Vr=[...new Set(Jr.flatMap((e=>e.tags)))],Gr=()=>{const[e,t]=l.useState(""),[s,a]=l.useState(""),r=Jr.filter((t=>{const a=t.title.toLowerCase().includes(e.toLowerCase())||t.channel.toLowerCase().includes(e.toLowerCase()),r=!s||t.tags.includes(s);return a&&r}));return c.jsxs(d,{sx:{p:{xs:0,sm:4}},children:[c.jsx(h,{variant:"h3",align:"center",gutterBottom:!0,sx:{fontWeight:"bold",color:"primary.main",mb:3},children:"Get Job Faster"}),c.jsx(h,{className:"getjob-subtitle",align:"center",variant:"subtitle1",color:"text.secondary",sx:{mb:4},children:"Curated resources to help you land your next developer role — interview prep, portfolio tips, resume hacks, and more."}),c.jsxs(N,{direction:{xs:"column",sm:"row"},spacing:2,sx:{mb:5,justifyContent:"center",alignItems:"center"},children:[c.jsx(T,{className:"getjob-subtitle",label:"Search by title or channel",variant:"outlined",value:e,onChange:e=>t(e.target.value),sx:{width:{xs:"100%",sm:"350px"}}}),c.jsx(N,{direction:"row",spacing:1,flexWrap:"wrap",children:Vr.map((e=>c.jsx(He,{className:"getjob-subtitle",label:e,clickable:!0,color:s===e?"primary":"default",onClick:()=>a(s===e?"":e)},e)))})]}),c.jsx(V,{container:!0,spacing:4,children:r.length>0?r.map(((e,t)=>c.jsx(V,{item:!0,xs:12,md:6,children:c.jsx(ee.div,{whileHover:{scale:1.03},children:c.jsxs(R,{elevation:4,sx:{borderRadius:3,overflow:"hidden"},children:[c.jsx($e,{component:"iframe",src:e.videoUrl,title:e.title,height:"250",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),c.jsxs(de,{children:[c.jsx(h,{variant:"h6",sx:{fontWeight:"bold"},children:e.title}),c.jsx(h,{variant:"body2",color:"text.secondary",children:e.channel}),c.jsx(j,{sx:{my:2}}),c.jsx(d,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:e.tags.map(((e,t)=>c.jsx(He,{label:e,size:"small"},t)))})]})]})})},t))):c.jsx(h,{variant:"h6",align:"center",color:"text.secondary",sx:{width:"100%",mt:5},children:"No resources found. Try a different search or tag."})})]})},Yr=[{name:"E-commerce UI Kit",type:"Design",preview:"cart.png",description:"Figma design assets for the E-commerce store project.",downloadUrl:"downloads/ui-kit.fig",tags:["UI/UX","Design"]},{name:"Booking Logo Pack",type:"Branding",preview:"push_notification_icon.png",description:"Logo pack (PNG, SVG, AI) for Transport Booking app.",downloadUrl:"downloads/pharmacy-logo.zip",tags:["Branding","Logos"]},{name:"Booking API Docs",type:"Documentation",preview:"api-doc.png",description:"API documentation for the transport booking backend.",downloadUrl:"downloads/api-docs.pdf",tags:["Docs","Backend"]}],Kr=[...new Set(Yr.flatMap((e=>e.tags)))],Xr=()=>{const[e,t]=l.useState(""),[s,a]=l.useState(""),r=Yr.filter((t=>{const a=t.name.toLowerCase().includes(e.toLowerCase()),r=!s||t.tags.includes(s);return a&&r}));return c.jsxs(d,{sx:{p:{xs:0,sm:4}},className:"menuBlog-bg",children:[c.jsx(h,{variant:"h3",align:"center",gutterBottom:!0,sx:{fontWeight:"bold",color:"primary.main",mb:3},children:"Project Assets 📦"}),c.jsx(h,{align:"center",variant:"subtitle1",color:"gray",sx:{mb:4},children:"Browse and download assets linked to my projects — designs, docs, logos, and more."}),c.jsxs(N,{direction:{xs:"column",sm:"row"},spacing:2,sx:{mb:5,justifyContent:"center",alignItems:"center"},children:[c.jsx(T,{className:"project-assets-input",label:"Search assets",variant:"outlined",value:e,onChange:e=>t(e.target.value),sx:{width:{xs:"90%",sm:"300px"}},inputProps:{style:{borderRadius:30,outlineColor:"gray"}}}),c.jsx(N,{direction:"row",spacing:1,flexWrap:"wrap",children:Kr.map((e=>c.jsx(He,{className:"project-assets-chip",label:e,clickable:!0,color:s===e?"primary":"default",onClick:()=>a(s===e?"":e)},e)))})]}),c.jsx(V,{container:!0,spacing:4,children:r.length>0?r.map(((e,t)=>c.jsx(V,{item:!0,xs:12,md:4,children:c.jsx(ee.div,{whileHover:{scale:1.03},children:c.jsxs(R,{className:"stats-card",elevation:4,sx:{borderRadius:3,overflow:"hidden",height:"100%"},children:[c.jsx($e,{component:"img",src:e.preview,alt:e.name,height:"180",sx:{objectFit:"cover"}}),c.jsxs(de,{children:[c.jsx(h,{variant:"h6",sx:{fontWeight:"bold"},children:e.name}),c.jsx(h,{variant:"caption",color:"text.secondary",children:e.type}),c.jsx(j,{sx:{my:2}}),c.jsx(h,{variant:"caption",color:"text.secondary",sx:{mb:2},children:e.description}),c.jsxs(d,{sx:{display:"flex",gap:1},children:[c.jsx(u,{variant:"contained",startIcon:c.jsx(mt,{}),href:e.downloadUrl,children:"Download"}),c.jsx(u,{variant:"outlined",startIcon:c.jsx(xt,{}),href:e.downloadUrl,target:"_blank",children:"Preview"})]})]})]})})},t))):c.jsx(h,{variant:"h6",align:"center",color:"text.secondary",sx:{width:"100%",mt:5},children:"No assets found. Try a different search or tag."})})]})},Qr=()=>c.jsx(pt,{children:c.jsxs(gt,{element:c.jsx(Ir,{}),children:[c.jsx(gt,{index:!0,element:c.jsx(Fr,{})}),c.jsx(gt,{path:"projects",element:c.jsx(Dr,{})}),c.jsx(gt,{path:"certificates",element:c.jsx(Er,{})}),c.jsx(gt,{path:"code",element:c.jsx("h2",{children:"Code Snippets Coming Soon..."})}),c.jsx(gt,{path:"technologies",element:c.jsx(Or,{})}),c.jsx(gt,{path:"tools",element:c.jsx(_r,{})}),c.jsx(gt,{path:"tutorials",element:c.jsx("h2",{children:"Tutorials Coming Soon..."})}),c.jsx(gt,{path:"reviews",element:c.jsx(Ur,{})}),c.jsx(gt,{path:"courses",element:c.jsx($r,{})}),c.jsx(gt,{path:"getJob",element:c.jsx(Gr,{})}),c.jsx(gt,{path:"project-assets",element:c.jsx(Xr,{})})]})}),Zr=()=>c.jsxs("div",{children:[c.jsxs(y,{children:[c.jsx("title",{children:"Contact Us - Jeremiah Deku"}),c.jsx("meta",{name:"description",content:"Get in touch with Jeremiah Deku for inquiries, collaborations, or support. Reach out via email, phone, or social media."}),c.jsx("link",{rel:"canonical",href:"https://jerrydek.com/contact"})]}),c.jsx(jr,{})]}),ei=["/api/user/logout","/api/user/refresh-token","/api/user/login"],ti=e=>"INVALID_SESSION"===e||"JWT_INVALID"===e||"REFRESH_INVALID"===e,si=r.create({baseURL:"http://localhost:3000",withCredentials:!0,headers:{"Content-Type":"application/json"}});let ai=!1,ri=[];function ii(e){ri.forEach((t=>t(e))),ri=[]}let ni=navigator.onLine,oi=!1;window.addEventListener("online",(()=>{ni=!0,oi=!1})),window.addEventListener("offline",(()=>{ni=!1})),si.interceptors.request.use((e=>(e.metadata={startTime:Date.now()},ni||e.skipOfflineCheck?e:Promise.reject(new Error("No internet connection")))),(e=>Promise.reject(e))),si.interceptors.response.use((e=>{const t=Date.now(),s=t-(e.config.metadata?.startTime||t);return s>3e3&&console.warn(`Slow API response: ${e.config.url} took ${s}ms`),e}),(async e=>{const t=e.config||{},s=e.response,a=s?.status,r=s?.data?.code,i=t?.url||"";if(!s){const s=t._networkRetries||0;if(s<3&&!t.skipRetry){t._networkRetries=s+1;const e=Math.min(1e3*Math.pow(2,s),5e3);return await(n=e,new Promise((e=>setTimeout(e,n)))),si(t)}return oi||(oi=!0,setTimeout((()=>{oi=!1}),5e3)),Promise.reject(e)}var n;if(((e="")=>ei.some((t=>e.endsWith(t))))(i))return Promise.reject(e);if(((e,t)=>401===e&&(!t||"ACCESS_TOKEN_EXPIRED"===t||"ACCESS_TOKEN_INVALID"===t||"UNAUTHENTICATED"===t))(a,r)&&!t._retry){if(t._retry=!0,ai)return new Promise(((s,a)=>{var r;r=r=>{r?s(si(t)):a({...e,refreshFailed:!0})},ri.push(r)}));ai=!0;try{return await si.post("/api/user/refresh-token",{},{withCredentials:!0}),ii(!0),ai=!1,si(t)}catch(o){ii(!1),ai=!1;const t=o?.response?.status,s=o?.response?.data?.code,a=(401===t||403===t)&&ti(s);return Promise.reject({...e,refreshFailed:a})}}return ti(r)?Promise.reject({...e,refreshFailed:!0}):Promise.reject(e)}));const li="unknown",ci="authenticated",di="unauthenticated",hi={user:null,lastGoodUser:null,userId:localStorage.getItem("userId")||null,userRoles:[],status:"idle",error:null,isAuthenticated:!!localStorage.getItem("userId"),authStatus:localStorage.getItem("userId")?ci:li,needsReauth:!1,lastFetchTime:null,isOnline:navigator.onLine},ui=n("user/fetchUserInfo",(async(e,t)=>{try{const{data:e}=await si.get("/api/user/me",{withCredentials:!0});return e}catch(s){const e=s?.response?.status;return s.response?401===e||403===e?t.rejectWithValue({message:"Authentication failed",type:"AUTH_ERROR",maintainAuth:!1,refreshFailed:!0===s.refreshFailed}):t.rejectWithValue({message:s.response?.data?.message||s.message,type:"SERVER_ERROR",maintainAuth:!0}):t.rejectWithValue({message:s.message||"Network error",type:"NETWORK_ERROR",maintainAuth:!0})}})),mi=n("user/logoutUser",(async(e,t)=>{try{await si.post("/api/user/logout",{},{withCredentials:!0})}catch(s){console.warn("Logout request failed, but clearing local state anyway:",s?.message)}finally{localStorage.removeItem("userId")}return!0})),xi=n("user/recoverSession",(async(e,t)=>{if(!localStorage.getItem("userId"))return t.rejectWithValue({message:"No stored session"});try{const{data:e}=await si.get("/api/user/me",{withCredentials:!0});return e}catch(s){const e=s?.response?.status;return 401===e||403===e?t.rejectWithValue({message:"Unauthorized",code:e,refreshFailed:!0===s.refreshFailed}):t.rejectWithValue({message:s.response?.data?.message||s.message,code:e,refreshFailed:!1})}})),pi=o({name:"user",initialState:hi,reducers:{hardLogout:e=>{e.user=null,e.lastGoodUser=null,e.userId=null,e.userRoles=[],e.status="idle",e.error=null,e.isAuthenticated=!1,e.authStatus=di,e.needsReauth=!1,e.lastFetchTime=null,localStorage.removeItem("userId")},clearUser:e=>{e.user=null,e.userId=null,e.userRoles=[],e.isAuthenticated=!1,e.authStatus=di,e.needsReauth=!1,localStorage.removeItem("userId")},softAuthError:(e,t)=>{e.needsReauth=!0,e.error=t.payload?.message||"Authentication error",e.authStatus=ci},setOnlineStatus:(e,t)=>{e.isOnline=t.payload},restoreUserState:e=>{const t=localStorage.getItem("userId");if(t){e.userId=t,e.isAuthenticated=!0,e.authStatus=ci;try{const t=JSON.parse(localStorage.getItem("persist:root"));if(t?.user){const s=JSON.parse(t.user);Array.isArray(s.roles)&&(e.userRoles=s.roles.map((e=>e.toLowerCase())))}}catch(s){console.warn("Failed to hydrate user roles from storage:",s)}0===e.userRoles.length&&e.lastGoodUser?.roles&&(e.userRoles=e.lastGoodUser.roles.map((e=>e.toLowerCase())))}},clearError:e=>{e.error=null}},extraReducers:e=>{e.addCase(ui.pending,(e=>{e.status="loading",e.error=null})).addCase(ui.fulfilled,((e,{payload:t})=>{const s=t.user??t;e.user=s,e.lastGoodUser=s,e.userId=s.id||s._id||null,e.userRoles=s.roles||[],e.status="succeeded",e.isAuthenticated=Boolean(e.userId),e.authStatus=e.isAuthenticated?ci:li,e.needsReauth=!1,e.lastFetchTime=Date.now(),e.userId&&localStorage.setItem("userId",e.userId)})).addCase(ui.rejected,((e,t)=>{const s=t.payload||{};e.status="failed",e.error=s.message||"Failed to fetch user info",e.lastFetchTime=Date.now();const{type:a,maintainAuth:r,refreshFailed:i}=s;"AUTH_ERROR"===a&&i?(e.user=null,e.lastGoodUser=null,e.userId=null,e.userRoles=[],e.isAuthenticated=!1,e.authStatus=di,e.needsReauth=!0,localStorage.removeItem("userId")):(e.needsReauth=!1,e.authStatus=e.isAuthenticated?ci:e.authStatus)})).addCase(xi.pending,(e=>{e.authStatus=e.isAuthenticated?ci:li,e.status="loading"})).addCase(xi.fulfilled,((e,{payload:t})=>{const s=t.user??t;e.user=s,e.lastGoodUser=s,e.userId=s.id||s._id||null,e.userRoles=s.roles||[],e.status="succeeded",e.error=null,e.isAuthenticated=Boolean(e.userId),e.authStatus=e.isAuthenticated?ci:li,e.needsReauth=!1,e.lastFetchTime=Date.now()})).addCase(xi.rejected,((e,t)=>{const{type:s,refreshFailed:a,code:r}=t.payload||{};e.status="failed",e.error=t.payload?.message,"AUTH_ERROR"===s&&a?(e.user=null,e.lastGoodUser=null,e.userId=null,e.userRoles=[],e.isAuthenticated=!1,e.authStatus=di,e.needsReauth=!0,localStorage.removeItem("userId")):(e.authStatus=e.isAuthenticated?ci:e.authStatus,e.needsReauth=!1)})).addCase(mi.fulfilled,(e=>{e.user=null,e.lastGoodUser=null,e.userId=null,e.userRoles=[],e.status="idle",e.error=null,e.isAuthenticated=!1,e.authStatus=di,e.lastFetchTime=null,e.needsReauth=!1}))}}),{hardLogout:gi,clearUser:ji,softAuthError:fi,setOnlineStatus:yi,restoreUserState:bi,clearError:vi}=pi.actions,wi=e=>e.user.user||e.user.lastGoodUser,Si=e=>e.user.userId,ki=e=>e.user.userRoles,Ci=e=>e.user.status,Ri=e=>e.user.error,Ai=e=>e.user.isAuthenticated,Ii=e=>e.user.isOnline,Ni=e=>e.user.authStatus,Ti=e=>{const t=e.user.lastFetchTime,s=Date.now();return!t||s-t>9e5},Di=pi.reducer,Pi=o({name:"cart",initialState:{cartItems:[]},reducers:{setCartItems:(e,t)=>{e.cartItems=t.payload},addToCart:(e,t)=>{e.cartItems.push({...t.payload,requestedSeats:1})},updateRequestedSeats:(e,t)=>{const{rideId:s,seats:a}=t.payload,r=e.cartItems.find((e=>e._id===s));r&&(r.requestedSeats=a)},removeFromCart:(e,t)=>{e.cartItems=e.cartItems.filter((e=>e._id!==t.payload))},clearCart:e=>{e.cartItems=[]}}}),{setCartItems:Ei,addToCart:Fi,updateRequestedSeats:Wi,removeFromCart:Bi,clearCart:Li}=Pi.actions,zi=e=>e.cart.cartItems,Oi=Pi.reducer,qi=()=>{const e=w(Ai),t=w(zi),[s,a]=l.useState([]),[r,i]=l.useState(!1),[n,o]=l.useState({firstName:"",lastName:"",email:"",street:"",city:"",state:"",zipCode:"",country:"",phone:""});l.useEffect((()=>{t.length?a(t):a(JSON.parse(localStorage.getItem("selectedRides"))||[])}),[t]);const d=e=>{const{name:t,value:s}=e.target;o((e=>({...e,[t]:s})))},m=s.reduce(((e,t)=>e+Number(t.price)*Number(t.requestedSeats||1)),0),x=m?2:0,p=m+x,g=s[0]?.currency||"USD";return c.jsxs(c.Fragment,{children:[c.jsx(y,{children:c.jsx("title",{children:"Place Booking - TOLI‑TOLI"})}),c.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),!e)return void z.error("You must be logged in to place your booking");if(!s.length)return void z.error("Your cart is empty");const a=s.map((e=>({_id:e._id,passengers:e.requestedSeats||1})));try{i(!0);const e=await si.post("/api/booking/place",{address:n,rides:a,amount:p,currency:g,email:n.email},{withCredentials:!0});e.data.success&&e.data.authorization_url?window.location.replace(e.data.authorization_url):z.error(e.data.message||"Error placing booking")}catch(r){console.error(r.response?.data||r),z.error(r.response?.data?.message||"Booking failed")}finally{i(!1)}},className:"placeOrder",children:[c.jsxs("div",{className:"placeOrder-left",children:[c.jsx("p",{className:"title",children:"Booking Information"}),c.jsxs("div",{className:"multi-fields",children:[c.jsx("input",{type:"text",name:"firstName",onChange:d,value:n.firstName,placeholder:"First Name",required:!0}),c.jsx("input",{type:"text",name:"lastName",onChange:d,value:n.lastName,placeholder:"Last Name",required:!0})]}),c.jsx("input",{type:"email",name:"email",onChange:d,value:n.email,placeholder:"Email Address",required:!0}),c.jsx("input",{type:"text",name:"street",onChange:d,value:n.street,placeholder:"Street Name",required:!0}),c.jsxs("div",{className:"multi-fields",children:[c.jsx("input",{type:"text",name:"city",onChange:d,value:n.city,placeholder:"City",required:!0}),c.jsx("input",{type:"text",name:"state",onChange:d,value:n.state,placeholder:"State",required:!0})]}),c.jsxs("div",{className:"multi-fields",children:[c.jsx("input",{type:"text",name:"zipCode",onChange:d,value:n.zipCode,placeholder:"Zip Code",required:!0}),c.jsx("input",{type:"text",name:"country",onChange:d,value:n.country,placeholder:"Country",required:!0})]}),c.jsx("input",{type:"tel",name:"phone",onChange:d,value:n.phone,placeholder:"Phone +233...",required:!0})]}),c.jsx("div",{className:"placeOrder-right",children:c.jsxs("div",{className:"cart-total",children:[c.jsx("h2",{children:"Cart Totals"}),c.jsxs("div",{className:"cart-total-details",children:[c.jsx("p",{children:"SubTotal"}),c.jsxs("p",{children:[g," ",m.toFixed(2)]})]}),c.jsx("hr",{}),c.jsxs("div",{className:"cart-total-details",children:[c.jsx("p",{children:"Service Fee"}),c.jsxs("p",{children:[g," ",x.toFixed(2)]})]}),c.jsx("hr",{}),c.jsxs("div",{className:"cart-total-details",children:[c.jsx("p",{children:"Total"}),c.jsxs("p",{children:[g," ",p.toFixed(2)]})]}),c.jsx(u,{type:"submit",disabled:0===s.length||r,variant:"contained",color:"primary",fullWidth:!0,children:r?c.jsxs(h,{children:["Placing Booking...",c.jsx(C,{size:20,title:"Placing Booking..."})]}):"PROCEED TO PAYMENT"})]})})]})]})},Ui=()=>{const[e]=G(),t=e.get("success"),s=e.get("bookingId"),a=v();return l.useEffect((()=>{(async()=>{try{(await si.post("/api/booking/verify",{success:t,bookingId:s},{withCredentials:!0})).data.success?a("/myBookings"):a("/")}catch(e){a("/"),console.error("Payment verification failed:",e)}})()}),[]),c.jsxs(c.Fragment,{children:[c.jsx(y,{children:c.jsx("title",{children:"Verifying ..."})}),c.jsx("div",{className:"verify",children:c.jsx("div",{className:"spinner"})})]})},Mi=()=>c.jsxs("div",{className:"newsFeed",children:[c.jsx("h1",{children:"Our News Feed"}),c.jsxs("p",{children:["Brightening your celebrations with stunning balloon and floral designs. Explore our creations and make every moment special.",c.jsx("div",{className:"image-container",children:c.jsx("img",{src:"setting.png",title:"Our current update news \r\nwill be uploaded here 👈.\r\nStay tune for more upcoming\r\n           UPDATE  ⚠",alt:""})})]})]});function _i({dotColor:e="#007bff",dotSize:t=12,dotSpacing:s=8,animationDuration:a=1,ariaLabel:r="Loading"}){const i={backgroundColor:e,width:`${t}px`,height:`${t}px`,margin:`0 ${s/2}px`};return c.jsxs("div",{className:"loading-dots",role:"status","aria-label":r,children:[c.jsx("span",{className:"dot",style:i}),c.jsx("span",{className:"dot",style:i}),c.jsx("span",{className:"dot",style:i}),c.jsx("style",{children:`\n          /* Override animation duration via inline CSS variable */\n          .loading-dots .dot {\n            animation-duration: ${a}s;\n          }\n        `})]})}const Hi=()=>c.jsxs("div",{className:"loadingPage",children:[c.jsx("img",{src:"/JD-logo.png",alt:"Logo"}),c.jsx("div",{className:"loading-text",children:c.jsx(_i,{dotColor:"#1d4ed8",dotSize:14,dotSpacing:10,animationDuration:1.2,ariaLabel:"Content is loading"})}),c.jsx("div",{className:"footer-details",children:c.jsxs("p",{children:[" © Inc. J-Deku ",c.jsx("br",{}),c.jsxs(te,{to:"https://github.com/j-deku/jerryDek.github.io",target:"_blank",children:[c.jsx("img",{src:"/to_do_icon2.png",alt:""})," "]})]})})]}),$i=()=>{const e=w(wi);return c.jsx("div",{className:"profile-details",children:c.jsxs("table",{cellPadding:5,cellSpacing:10,border:1,children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Name"}),c.jsx("th",{children:"Email"}),c.jsx("th",{children:"Avatar"}),c.jsx("th",{children:"Role(s)"})]})}),c.jsxs("tbody",{children:[c.jsxs("tr",{children:[c.jsx("td",{children:e?.name}),c.jsx("td",{children:e?.email}),e?.avatar?c.jsx("td",{children:c.jsx("img",{src:e.avatar,alt:"avatar",style:{width:50,borderRadius:"50%"}})}):c.jsx("td",{children:"No Avatar"})]}),c.jsx("tr",{children:e.roles})]})]})})},Ji=()=>c.jsxs("div",{className:"policy",children:[c.jsxs("u",{children:[c.jsx("strong",{children:"Privacy Policy & Cookie Acceptance"}),c.jsx("br",{}),c.jsx("br",{})]}),c.jsxs("p",{children:["At TOLI-TOLI, your privacy is our top priority. We value the trust you place in us to handle your personal information responsibly, whether you're browsing for transport booking, or making an inquiry. We use cookies to enhance your experience and ensure our website runs smoothly. Cookies help us remember your preferences and provide personalized content to make your visit as seamless as possible. Rest assured, any data collected is used only to improve your browsing experience, offer tailored suggestions, and help us serve you better. By continuing to explore our site, you consent to the use of cookies and agree to our privacy policy, ensuring your data is secure and treated with utmost care. For more details, feel free to review our full privacy policy ",c.jsx(te,{to:"/newsFeed",children:"NEWS FEED"})," or manage your cookie preferences anytime. ",c.jsx(jt,{color:"deepskyblue",cursor:"pointer",title:"Privacy Policy Info"})]})]}),Vi=()=>c.jsxs("div",{className:"faq",children:[c.jsx(y,{children:c.jsx("title",{children:"FAQ - Jeremiah Deku"})}),c.jsx("h1",{id:"first",children:"Frequently Asked Question (FAQ)"}),c.jsxs("div",{className:"inform",children:[c.jsx("div",{className:"question active",children:"What are project you've built so far?"}),c.jsx("div",{className:"answer",children:"I have worked on so many projects. If you want more details, kindly check on the blog section "}),c.jsx("div",{className:"question",children:"Which technologies do you specialize in?"}),c.jsx("div",{className:"answer",children:"I specialize in React, Node.js, and MongoDB for building full-stack web applications."}),c.jsx("div",{className:"question",children:"Can you help me with my project?"}),c.jsx("div",{className:"answer",children:"Yes, I offer freelance services and can assist with your project. Please contact me for more details."}),c.jsx("div",{className:"question",children:"How can I contact you for collaboration or inquiries?"}),c.jsxs("div",{className:"answer",children:["You can reach me via email at ",c.jsx("a",{href:"mailto:jdeku573@gmail.com",style:{color:"blue",textDecoration:"underline"},children:"jdeku573@gmail.com"})]}),c.jsxs("p",{children:[c.jsx("div",{className:"text",children:c.jsxs("form",{action:"mailto:jdeku573@gamil.com",method:"post",children:[c.jsx("b",{children:c.jsx("p",{children:"Tell us your reason or feedback"})}),c.jsx("textarea",{name:"text",id:"text",cols:"50",rows:"10",placeholder:"Write your reason or feedback here..."}),c.jsx("br",{}),c.jsx("br",{}),c.jsx("input",{type:"submit",value:"Submit"}),c.jsx("input",{type:"reset",value:"Clear"})]})}),"For more information, kindly reach us on social media plaforms or contact Me on ",c.jsx("a",{href:"tel:+233246062758",style:{color:"orange"},children:"Call Jeremiah"})]})]}),c.jsx("a",{href:"#first",className:"back-to-top",children:c.jsx(ft,{})})]}),Gi=()=>c.jsxs("div",{className:"deliveryInfo",children:[c.jsx("h1",{children:"Delivery Information"}),c.jsxs("div",{className:"info",children:["At ",c.jsx("b",{children:"Balloon & Floral Decoration"}),", we strive to provide exceptional service, ensuring timely and delicate delivery of our beautiful balloons and flowers. Delivery Options Standard Delivery: Orders placed by 4:30pm are delivered within 8am - 4:30pm on business days. Express Delivery: Urgent orders are delivered within 1-3 hours for an additional fee. Scheduled Delivery: Choose a specific delivery time for special occasions. Delivery Areas We proudly serve ",c.jsx("br",{})," ",c.jsxs("i",{children:["Accra, Greater Region",c.jsx("br",{}),"Anloga, Volta Region ",c.jsx("br",{}),"Sekondi, Western Region ",c.jsx("br",{}),"etc."]}),", with plans to expand our delivery areas. Order Tracking Receive timely updates via email, SMS or our mobile app. Track your order from preparation to delivery. Packaging and Handling Balloons: Securely tied and transported in specialized vehicles. Flowers: Carefully arranged, wrapped and hydrated for optimal freshness. Delivery Fees ",c.jsx("br",{}),"Standard: [$2] ",c.jsx("br",{}),"Express: [$10] ",c.jsx("br",{}),"Scheduled: [$15] ",c.jsx("br",{}),"Special Instructions Provide clear instructions for delivery to apartments, offices or gated communities. Specify dedicated delivery recipients. Contact Us For delivery concerns, call ",c.jsx("i",{children:"0246062758"}),", email ",c.jsx("i",{children:"jdeku573@gmail.com"})," or chat with our support team. Business Hours",c.jsx("b",{children:" 9:00 AM - 5:00 PM ET, Monday - Friday "}),"Refund and Cancellation Policy View our refund and cancellation policy  ",c.jsx("a",{href:"",children:c.jsx(te,{to:"jerryDek/privacy-policy",children:"Privacy Policy"})}),". Your satisfaction is our priority."]})]}),Yi=()=>c.jsxs(c.Fragment,{children:[c.jsxs(y,{children:[c.jsx("title",{children:"About Me - Jeremiah Deku"}),c.jsx("meta",{name:"description",content:"Learn more about Jeremiah Deku, a passionate Full-Stack Developer specializing in React, Node.js, and MongoDB. Discover his skills, experience, and career journey."}),c.jsx("link",{rel:"canonical",href:"https://jerrydek.com/about"})]}),c.jsxs(U,{maxWidth:"lg",sx:{py:{xs:8,md:12},display:"flex",flexDirection:"column",alignItems:"center"},children:[c.jsx(h,{variant:"h3",fontWeight:"bold",textAlign:"center",gutterBottom:!0,sx:{color:"#172441ff"},children:"About Me"}),c.jsx(h,{variant:"subtitle1",textAlign:"center",sx:{color:"#64748b",mb:6,maxWidth:"700px"},children:"I’m a passionate Full-Stack Developer who loves building modern web apps with React, Node.js, and MongoDB. I create seamless UI/UX experiences and optimize performance for real-world applications."}),c.jsxs(V,{container:!0,spacing:6,alignItems:"center",children:[c.jsx(V,{item:!0,xs:12,md:5,children:c.jsx(ee.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},whileHover:{scale:1.05,rotate:2},style:{width:"100%",display:"flex",justifyContent:"center"},children:c.jsx(ee.img,{src:"/profile-pic.png",alt:"Profile",style:{width:"280px",height:"280px",borderRadius:"50%",objectFit:"cover",boxShadow:"0 10px 30px rgba(0,0,0,0.15)",border:"6px solid #0ea5e9"},animate:{y:[0,-15,0]},transition:{duration:4,repeat:1/0,repeatType:"loop"}})})}),c.jsx(V,{item:!0,xs:12,md:7,children:c.jsxs(ee.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},transition:{duration:.8},children:[c.jsx(h,{variant:"h4",fontWeight:"bold",sx:{mb:2,color:"#1a2746ff"},children:"Hi, I’m Jeremiah 👋"}),c.jsx(h,{variant:"body1",sx:{color:"#475569",lineHeight:1.8,mb:4},children:"With over 3 years of experience building robust web applications, I specialize in React, Node.js, MongoDB, and modern UI frameworks like Material-UI. My focus is creating fast, secure, and scalable applications that provide excellent user experiences."}),c.jsx(ee.div,{whileHover:{scale:1.05},children:c.jsx(u,{variant:"contained",color:"primary",size:"large",sx:{borderRadius:"50px",textTransform:"none",px:4,py:1.5,fontWeight:"bold",fontSize:"1rem",background:"linear-gradient(90deg, #0ea5e9, #3b82f6)"},children:"Download CV"})})]})})]})]})]}),Ki=()=>{const[e,t]=l.useState(!1),s=new f.Howl({src:["/apple-toast.mp3"],autoPlay:!1,volume:1,loop:!1}),a=S().shape({otp:k().required("OTP is required").length(6,"OTP must be 6 digits")}),r=async()=>{try{const e=await si.post("/api/user/resend-otp",{},{withCredentials:!0});e.data.success?z.success("OTP resent successfully"):z.error(e.data.message)}catch(e){z.error(e.response?.data?.message||"Failed to resend OTP.")}};return c.jsxs(d,{children:[c.jsx("div",{className:"whitePaper"}),c.jsxs("div",{className:"verify-otp",children:[c.jsx("em",{children:c.jsx("p",{className:"text",style:{padding:"40px",color:"gray",fontSize:"16px",marginLeft:"50px",fontFamily:" serif",display:"inline"},children:c.jsxs("p",{children:[c.jsx("i",{children:"One-Time Password"})," ",c.jsx("br",{})," has been sent to your email.",c.jsx(jt,{style:{color:"deepskyblue",display:"inline"}})]})})}),c.jsx("hr",{}),c.jsx("br",{}),c.jsx("br",{}),c.jsx(h,{variant:"h5",sx:{mb:3,textAlign:"center",color:"gray",fontWeight:"bold"},children:"Email Verification"}),c.jsx(I,{initialValues:{otp:""},validationSchema:a,onSubmit:async e=>{t(!0);try{const t=await si.post("/api/user/verify-otp",{otp:e.otp},{withCredentials:!0});t.data.success?(s.play(),window.location.href=t.data.redirect,z.success("OTP verified successfully!"),window.opener&&window.opener.postMessage({verified:!0},"*"),window.close()):z.warning(t.data.message)}catch(a){z.error(a.response?.data?.message||"Failed to verify OTP.")}finally{t(!1)}},children:({values:t,errors:s,touched:a,handleChange:i,handleBlur:n,handleSubmit:o})=>c.jsxs("form",{onSubmit:o,children:[c.jsx(d,{sx:{mb:3},children:c.jsx(T,{name:"otp",label:"OTP",required:!0,autoFocus:!0,placeholder:"000111",type:"tel",pattern:"[0-9]{6}",inputMode:"numeric",autoComplete:"off",fullWidth:!0,value:t.otp,onChange:i,onBlur:n,error:a.otp&&Boolean(s.otp),helperText:a.otp&&s.otp,InputProps:{startAdornment:c.jsx(D,{position:"start",children:c.jsx(K,{style:{color:"gray"}})})}})}),c.jsxs(d,{sx:{textAlign:"center"},children:[c.jsx(u,{type:"submit",variant:"contained",fullWidth:!0,disabled:e,sx:{padding:"10px",marginBottom:"20px"},children:e?c.jsx(C,{size:24}):"Verify OTP"}),c.jsx(u,{onClick:r,variant:"contained",fullWidth:!0,disabled:e,children:e?c.jsx(C,{size:24}):"Resend OTP"})]})]})})]})]})},Xi=()=>{const[e,t]=l.useState(""),[s,a]=l.useState(""),[r,i]=l.useState(!1),n=v();return c.jsxs("div",{className:"overlay",children:[c.jsx(O,{style:{width:40,height:40,float:"left",margin:40,cursor:"pointer"},onClick:()=>n("/")}),c.jsxs("div",{className:"container",children:[c.jsx("h2",{children:"Forgot Password"}),c.jsx("p",{children:"Enter your email to receive a password reset link."}),c.jsxs("form",{onSubmit:async t=>{t.preventDefault(),i(!0);try{const t=await si.post("/api/user/forgot-password",{email:e});a(t.data.message)}catch(s){a("Error: "+(s.response?.data.message||"Something went wrong"))}i(!1)},children:[c.jsx("input",{type:"email",className:"input-field",placeholder:"Enter your admin email",value:e,onChange:e=>t(e.target.value),required:!0}),c.jsx("button",{type:"submit",className:"btn",disabled:r,children:r?"Sending...":"Send Reset Link"})]}),s&&c.jsx("p",{className:"message",style:{fontWeight:"bold",color:"green"},children:s})]})]})},Qi=()=>{const{token:e}=q(),t=v(),[s,a]=l.useState(""),[r,i]=l.useState(""),[n,o]=l.useState(!1);return c.jsxs("div",{className:"overlay",children:[c.jsx(O,{style:{width:40,height:40,float:"left",margin:40,cursor:"pointer"},onClick:()=>t("/")}),c.jsxs("div",{className:"container",children:[c.jsx("h2",{children:"Reset Password"}),c.jsx("p",{children:"Enter a new password for your account."}),c.jsxs("form",{onSubmit:async a=>{a.preventDefault(),o(!0);try{const a=await si.post(`/api/user/reset-password/${e}`,{newPassword:s});i(a.data.message||"Password reset successful."),setTimeout((()=>t("/")),3e3)}catch(r){i("Error: "+(r.response?.data?.message||"Something went wrong"))}o(!1)},children:[c.jsx("input",{type:"password",className:"input-field",placeholder:"New Password",value:s,onChange:e=>a(e.target.value),required:!0,minLength:8,autoComplete:"new-password"}),c.jsx("button",{type:"submit",className:"btn",disabled:n,children:n?"Resetting...":"Reset Password"})]}),r&&c.jsx("p",{className:"message",children:r})]})]})},Zi=()=>c.jsx("div",{className:"overlay",children:c.jsx("form",{children:c.jsxs("div",{className:"form-question",children:[c.jsx("h3",{children:"Answer the following questions to proceed"}),c.jsx("h1",{children:"Are you a driver or a traveller"}),c.jsx("button",{type:"submit",onClick:e=>{e.preventDefault(),localStorage.setItem("dr","Driver"),window.location.href="/driver"},children:"I'm  a Driver"}),c.jsx("button",{type:"submit",onClick:e=>{e.preventDefault(),localStorage.setItem("Tr","traveller"),window.location.href="/"},children:"I'm a traveller"})]})})});function en(){const[e,t]=l.useState(""),s=v(),a=["/jerryDek/","/aboutUs","/newsFeed","/deliveryInfo","/privacy-policy","/fleets","/searchInput","/searchRides","/cart","/profile","/checkout","/myBookings","/track-ride","/admin/dashboard","/admin/users"];return c.jsxs(c.Fragment,{children:[c.jsxs(y,{children:[c.jsx("link",{rel:"icon",type:"image/png",href:"icons/globe.png"}),c.jsx("title",{children:"Error 404(Not Found)!!"})]}),c.jsxs("div",{className:"nf-container",children:[c.jsx("img",{src:"error.png",alt:"robot crash",className:"robot"}),c.jsxs("div",{className:"nf-box",children:[c.jsx(te,{to:"/jerryDek/",className:"nf-logo-link",children:c.jsx("h2",{className:"logo",children:c.jsx("em",{children:"Jeremiah Dek"})})}),c.jsx("h1",{className:"nf-code",children:"404"}),c.jsxs("p",{className:"nf-text",children:["Sorry, we can’t find that page. ",c.jsx("strong",{children:location.pathname})," does not exist or has been moved."]}),c.jsxs("form",{className:"nf-search",onSubmit:t=>{t.preventDefault();const r=e.trim().toLowerCase();if(!r)return;const i=a.find((e=>e.toLowerCase().endsWith(r)));if(i)return s(i);s(`/search?q=${encodeURIComponent(e)}`)},children:[c.jsx(yt,{size:20,className:"nf-icon"}),c.jsx("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Search for what you need","aria-label":"Search site"})]}),c.jsxs("div",{className:"nf-links",children:[c.jsx(te,{to:"/jerryDek/",className:"nf-link",children:"Home"}),c.jsx(te,{to:"/jerryDek/blog",className:"nf-link",children:"Dashboard"})]})]})]})]})}const tn=[{code:"en",label:"English",countryCode:"GB"},{code:"es",label:"Español",countryCode:"ES"},{code:"fr",label:"Français",countryCode:"FR"},{code:"de",label:"Deutsch",countryCode:"DE"},{code:"it",label:"Italiano",countryCode:"IT"},{code:"pt",label:"Português",countryCode:"PT"},{code:"zh",label:"中文",countryCode:"CN"},{code:"ja",label:"日本語",countryCode:"JP"},{code:"ru",label:"Русский",countryCode:"RU"},{code:"ar",label:"العربية",countryCode:"SA"},{code:"hi",label:"हिन्दी",countryCode:"IN"},{code:"ko",label:"한국어",countryCode:"KR"},{code:"nl",label:"Nederlands",countryCode:"NL"},{code:"sv",label:"Svenska",countryCode:"SE"},{code:"tr",label:"Türkçe",countryCode:"TR"}],sn=({open:e,onClose:t})=>{const{i18n:s}=bt();return c.jsxs(Ue,{open:e,onClose:t,children:[c.jsxs(Me,{sx:{m:10,p:1,width:200},children:["Select Language",c.jsx(E,{"aria-label":"close",onClick:t,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},children:c.jsx(Be,{})})]}),c.jsx(be,{sx:{pt:0,display:"grid",gridTemplateColumns:"0.1fr 0.1fr"},children:tn.map((e=>c.jsxs(vt,{button:!0,onClick:()=>{return a=e.code,s.changeLanguage(a),localStorage.setItem("language",a),void t();var a},sx:{m:1},children:[c.jsx(wt,{children:c.jsx(et,{children:c.jsx(St,{countryCode:e.countryCode,svg:!0,style:{width:"1.5em",height:"1.5em"},title:e.label})})}),c.jsx(ke,{primary:e.label})]},e.code)))})]})};kt.element.isRequired,kt.func;const an=()=>{const e=v(),{t:t,i18n:s}=bt(),[a,r]=l.useState(!1),[i,n]=l.useState(!1),[o,m]=l.useState();l.useEffect((()=>{const e=()=>m(window.scrollY>20);return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}),[]);const x=()=>{n(!i)},p=()=>{e("/jerryDek/blog/getJob"),i&&n(!1)},g={en:"US",es:"ES",fr:"FR",de:"DE",it:"IT",pt:"PT",zh:"CN",ja:"JP",ru:"RU",ar:"SA",hi:"IN",ko:"KR",nl:"NL",sv:"SE",tr:"TR"}[s.language]||"US",f=[{label:t("navbar.home"),path:"/"},{label:t("navbar.blog"),path:"/jerryDek/blog"},{label:t("navbar.about"),path:"/jerryDek/aboutUs"},{label:t("navbar.contactUs"),path:"/jerryDek/contactUs"}],y=c.jsxs(d,{onClick:x,sx:{textAlign:"center",width:"100%"},children:[c.jsx(E,{onClick:x,sx:{p:2,float:"right"},children:c.jsx(Be,{})}),c.jsx(te,{to:"/jerryDek/",style:{textDecoration:"none",color:"inherit"},children:c.jsx(h,{variant:"h5",component:"div",className:"logo",sx:{fontWeight:"bold",fontStyle:"italic",fontSize:{xs:16,sm:28}},children:"Jeremiah Deku"})}),c.jsx(j,{}),c.jsxs(be,{children:[f.map((e=>c.jsx(vt,{disablePadding:!0,sx:{pr:5},children:c.jsx(ve,{component:e.path?te:"a",to:e.path,href:e.href,sx:{textAlign:"start"},className:"navlinks",children:c.jsx(ke,{primary:e.label.toUpperCase()})})},e.label))),c.jsx(j,{}),c.jsx(vt,{disablePadding:!0,children:c.jsxs(ve,{onClick:p,children:[c.jsx(Se,{children:c.jsx(Ct,{})}),c.jsx(ke,{primary:t("navbar.search")||"Search"})]})}),c.jsx(vt,{disablePadding:!0,children:c.jsxs(ve,{onClick:()=>r(!0),children:[c.jsx(Se,{children:c.jsx(St,{countryCode:g,svg:!0,style:{width:"1em",height:"1em",borderRadius:"50%"},title:s.language.toUpperCase()})}),c.jsx(ke,{primary:t("navbar.language")||"Language"})]})}),c.jsxs(vt,{sx:{justifyContent:"center"},children:[c.jsx(h,{variant:"body2",sx:{mr:1},children:t("navbar.changeTheme")||"Change Theme:"}),c.jsx(wr,{})]}),c.jsx(j,{})]})]});return c.jsxs(c.Fragment,{children:[c.jsx(Rt,{className:"navbar "+(o?"scroll-active":"scroll-inactive"),id:"navbar",position:"sticky",sx:{bgcolor:"whitesmoke",boxShadow:0,zIndex:10010},children:c.jsxs(Oe,{sx:{justifyContent:"space-between",py:0},children:[c.jsx(d,{sx:{display:"flex",alignItems:"center"},children:c.jsx(te,{to:"/jerryDek/",style:{textDecoration:"none",color:"inherit"},children:c.jsx(h,{variant:"h5",component:"div",className:"logo",sx:{fontWeight:"bold",fontStyle:"italic",mr:{xs:2,sm:8},fontSize:{xs:20,sm:24}},children:"Jeremiah Deku"})})}),c.jsxs(d,{sx:{display:{xs:"none",md:"flex"},ml:-70,alignItems:"center"},children:[c.jsx("div",{style:{height:28,width:1.8,backgroundColor:"#777"}}),f.map((e=>c.jsx(u,{color:"inherit",component:e.path?te:"a",to:e.path,href:e.href,className:"navlinks",sx:{mx:1,textTransform:"none",placeSelf:"start",fontSize:"1rem"},children:e.label},e.label)))]}),c.jsxs(d,{sx:{display:"flex",alignItems:"center",gap:{xs:.5,sm:1}},children:[" ",c.jsx(E,{onClick:p,sx:{display:{xs:"none",md:"block"}},children:c.jsx(Ct,{sx:{fontSize:"1.7rem",mb:-1},className:"navbar-search-icon"})}),c.jsx(d,{sx:{display:{xs:"none",md:"block"}},children:c.jsx(wr,{})}),c.jsx(E,{onClick:()=>r(!0),color:"inherit",sx:{p:0,mb:-.5,display:{xs:"none",md:"block"}},children:c.jsx(At,{code:g,size:32,className:"navbar-globe-icon",title:s.language.toUpperCase()})}),c.jsx(sn,{open:a,onClose:()=>r(!1)}),c.jsx(E,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:x,sx:{ml:{xs:0,sm:1},display:{md:"none"}},children:c.jsx(It,{className:"hamburger",sx:{fontSize:"1.7rem"}})})]})]})}),c.jsx("nav",{children:c.jsx(ze,{variant:"temporary",open:i,onClose:x,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",md:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:300}},className:"navbar-sidebar",children:y})})]})};an.propTypes={setLogin:kt.func.isRequired};const rn=()=>{function e({allowedRoles:e=[],children:t}){const s=w(Ai),a=w(ki);return w(Ni)&&s?e.length>0&&!a.some((t=>e.includes(t)))?"":c.jsx(c.Fragment,{children:t}):""}return c.jsxs("div",{className:"footer",id:"footer",children:[c.jsxs("div",{className:"footer-content",children:[c.jsxs("div",{className:"footer-content-left",children:[c.jsx(te,{to:"/",children:c.jsx("div",{className:"logo",children:c.jsx("em",{children:"JeremiahDek"})})}),c.jsxs("p",{children:[c.jsx("b",{children:"JeremiahDek – All related projects codeByJeremiah."}),c.jsx("br",{}),"Build a hands on projects with JeremiahDeku. Learn and start building professional web app."]}),c.jsxs("div",{className:"footer-social-icons",children:[c.jsx(te,{to:"https://facebook.com",target:"_blank",children:c.jsx(Nt,{icon:Tt,color:"whitesmoke",width:"30"})}),c.jsx(te,{to:"https://facebook.com",target:"_blank",children:c.jsx(Nt,{icon:Dt,color:"whitesmoke",width:"30"})}),c.jsx(te,{to:"https://wa.me/+233544684595/",target:"_blank",children:c.jsx(Nt,{icon:Pt,color:"whitesmoke",width:"30"})}),c.jsx(te,{to:"https://linkedin/jdeku-jdek",target:"_blank",children:c.jsx(Nt,{icon:Et,color:"whitesmoke",width:"30"})}),c.jsx(te,{to:"https://twitter.com/jdeku-jdek",target:"_blank",children:c.jsx(Nt,{icon:Ft,color:"whitesmoke",width:"30"})})]})]}),c.jsx("hr",{className:"stroke"}),c.jsxs("div",{className:"footer-content-center",children:[c.jsx("h2",{children:"COMPANY"}),c.jsxs("ul",{children:[c.jsx("li",{children:c.jsx(te,{to:"/",children:"Home"})}),c.jsx("li",{children:c.jsx(te,{to:"/aboutUs",children:"About Me"})}),c.jsx("li",{children:c.jsx(te,{to:"/privacy-policy",children:"Privacy"})}),c.jsx("li",{children:c.jsx(te,{to:"/message-us",children:"Frequently Asked Questions"})}),c.jsx("li",{children:c.jsx(te,{to:"/partners",children:"Partners or Affiliations"})})]})]}),c.jsx("hr",{className:"stroke"}),c.jsxs("div",{className:"footer-content-right",children:[c.jsx("h2",{children:"GET IN TOUCH"}),c.jsxs("ul",{children:[c.jsx("li",{children:c.jsx("a",{href:"tel:+233-246-062-758",children:"🔗 +233-246-062-758"})}),c.jsx("li",{children:c.jsx("a",{href:"mailto:jdeku573@gmail.com",children:"🔗 jdeku573@gmail.com"})}),c.jsx("li",{children:c.jsx("a",{href:"sms:+233246062758",children:"🔗Chat via SMS"})}),c.jsx("li",{children:c.jsx(e,{allowedRoles:"admin",children:c.jsx(te,{to:"/Oauth2/v1/admin/login",children:"🔗 Admin Panel"})})})]})]})]}),c.jsx("hr",{}),c.jsxs("p",{className:"footer-copyright",children:["© Inc. ",(new Date).getFullYear()," JeremiahDek. All Rights Reserved"]})]})},nn=Bt(Wt({apiKey:"AIzaSyDOMY_PtpH7l8U3c40Zr-eqd0Ev2jVOml0",authDomain:"toli-toli-bbea0.firebaseapp.com",projectId:"toli-toli-bbea0",storageBucket:"toli-toli-bbea0.firebasestorage.app",messagingSenderId:"622608058161",appId:"1:622608058161:web:0e33e56df6a92289e81210",measurementId:"G-WGM5X7HCC2"}));async function on(){const e=await navigator.serviceWorker.ready,t=await Lt(nn,{serviceWorkerRegistration:e,vapidKey:"BDSl_SrpS6IuLO3zl1_lLF5f6jZ2lrUdmHdt3u6LG3iut5NtMyMSREms0xUd5oPctD-GxOt9Lm8d52hF-zbXCqY"});if(!t)throw new Error("No FCM token available");return t!==localStorage.getItem("fcmToken")&&(localStorage.setItem("fcmToken",t),await si.post("/api/user/update-token",{fcmToken:t},{withCredentials:!0}),console.log("🔄 FCM token synced:",t)),t}const ln=({setLogin:e})=>{const t=v(),s=b(),a=l.useRef(!0),[r,i]=l.useState(!1),[n,o]=l.useState(null),m=l.useRef(new f.Howl({src:["sounds/apple-sms.mp3"],volume:1})).current;l.useEffect((()=>(s(vi()),o(null),()=>{a.current=!1})),[s]);const x=S({email:k().email("Invalid email").required("Required"),password:k().min(8,"Min 8 characters").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])/,"Weak password").required("Required")});return c.jsxs(d,{sx:{maxWidth:400,mx:"auto",p:2},children:[c.jsx(h,{variant:"h5",align:"center",color:"gray",mb:3,children:"User Login"}),n&&c.jsx(_,{severity:"error",sx:{mb:2},onClose:()=>o(null),children:n}),!navigator.onLine&&c.jsx(_,{severity:"warning",sx:{mb:2},children:"You are currently offline. Please check your internet connection."}),c.jsx(I,{initialValues:{email:"",password:""},validationSchema:x,onSubmit:async(r,{setSubmitting:i,setFieldError:n})=>{o(null),s(vi());try{const{data:a}=await si.post("/api/user/login",r,{withCredentials:!0});a.userId&&localStorage.setItem("userId",a.userId),m.play(),z.success(a.message||"Login successful!"),e(!1),t("/"),setTimeout((()=>{s(ui()).unwrap().catch((e=>{console.warn("User info fetch failed:",e)}))}),100),setTimeout((()=>{on().catch((e=>{console.warn("FCM token sync failed:",e)}))}),2e3)}catch(l){if(console.error("Login error:",l),400===l.response?.status&&l.response?.data?.field){const{field:e,message:t}=l.response.data;return void n(e,t)}(e=>{let t="Something went wrong. Please try again.";if(!e.response)return t=navigator.onLine?"Network error. Please check your connection and try again.":"You are offline. Please check your internet connection.",o(t),void z.warn(t);const{status:s,data:a}=e.response,r=a?.message||a?.error||"An error occurred";switch(s){case 400:case 401:case 423:case 404:default:t=r;break;case 429:t="Too many login attempts. Please wait and try again.";break;case 500:case 502:case 503:t="Server is temporarily unavailable. Please try again later."}o(t),z.error(t)})(l)}finally{a.current&&i(!1)}},children:({isSubmitting:e,errors:t,touched:s})=>c.jsxs(zt,{noValidate:!0,children:[c.jsx(Ot,{as:T,name:"email",label:"Email",fullWidth:!0,required:!0,margin:"normal",error:s.email&&!!t.email,InputProps:{startAdornment:c.jsx(D,{position:"start",children:c.jsx(P,{})})}}),c.jsx(qt,{name:"email",component:"div",style:{color:"red",fontSize:"0.875rem"}}),c.jsx(Ot,{as:T,name:"password",label:"Password",type:r?"text":"password",fullWidth:!0,required:!0,margin:"normal",error:s.password&&!!t.password,InputProps:{startAdornment:c.jsx(D,{position:"start",children:c.jsx(B,{})}),endAdornment:c.jsx(D,{position:"end",children:c.jsx(E,{onClick:()=>i((e=>!e)),edge:"end","aria-label":"toggle password visibility",children:r?c.jsx(W,{}):c.jsx(F,{})})})}}),c.jsx(qt,{name:"password",component:"div",style:{color:"red",fontSize:"0.875rem"}}),c.jsx(d,{textAlign:"center",my:2,children:c.jsx(u,{type:"submit",variant:"contained",disabled:e||!navigator.onLine,fullWidth:!0,startIcon:e?c.jsx(C,{size:20}):null,children:e?"Logging in...":"Login"})}),c.jsx(h,{align:"center",variant:"body2",children:"OR"}),c.jsx(d,{textAlign:"center",mt:2,children:c.jsx(u,{variant:"outlined",fullWidth:!0,disabled:!navigator.onLine,onClick:()=>window.location.href="http://localhost:3000/api/auth/google",children:"Continue with Google"})}),!navigator.onLine&&c.jsx(h,{variant:"caption",color:"text.secondary",align:"center",display:"block",mt:1,children:"Login is disabled while offline"})]})})]})};ln.propTypes={setLogin:kt.func.isRequired};const cn=({setLogin:e})=>{const[t,s]=l.useState(!1),[a,r]=l.useState(!1),i=()=>{r((e=>!e))},n=S().shape({name:k().min(5,"Enter your full name").required("Name is required"),email:k().email("Invalid email address").required("Email is required"),password:k().min(8,"Password must be at least 8 characters").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,"Password must contain uppercase, lowercase, number, and special character.").required("Password is required")});return c.jsxs("div",{children:[c.jsx(h,{variant:"h5",sx:{mb:3,textAlign:"center",color:"gray"},children:"Register"}),c.jsx(I,{initialValues:{name:"",email:"",password:""},validationSchema:n,onSubmit:async t=>{s(!0);try{const s=await si.post("/api/user/register",t,{withCredentials:!0});s.data.success?(window.open("/verify-otp","_blank"),e(!1)):z.warn(s.data.message)}catch(a){a.response&&400===a.response.status?z.error(a.response.data?.message||"User already exists"):a.response&&401===a.response.status?z.error(a.response.data?.message||"Invalid email format"):a.response&&403===a.response.status?z.warn(a.response.data?.message||"Password must be at least 8 characters long and include uppercase, lowercase, and a special character."):a.response&&500===a.response.status?z.error(a.response.data?.message||"Server down. Please try again later."):"ERR_NETWORK"===a.code?z.warn("Network unstable. Check your internet connection"):z.error(a.message||"An unexpected error occurred.")}finally{s(!1)}},children:({values:e,errors:s,touched:r,handleChange:n,handleBlur:o,handleSubmit:l})=>c.jsxs("form",{onSubmit:l,children:[c.jsx(d,{sx:{mb:3},children:c.jsx(T,{name:"name",label:"Full Name",required:!0,autoFocus:!0,fullWidth:!0,autoComplete:"name",value:e.name,onChange:e=>{const t=e.target.value.replace(/\b\w/g,(e=>e.toUpperCase()));n({target:{name:e.target.name,value:t}})},onBlur:o,placeholder:"Enter your full name",error:r.name&&Boolean(s.name),helperText:r.name&&s.name,inputMode:"text",InputProps:{startAdornment:c.jsx(D,{position:"start",children:c.jsx(Y,{style:{marginRight:"8px"}})})}})}),c.jsx(d,{sx:{mb:3},children:c.jsx(T,{name:"email",label:"Email",type:"email",required:!0,fullWidth:!0,value:e.email,onChange:n,onBlur:o,placeholder:"Enter your email",autoComplete:"email",error:r.email&&Boolean(s.email),helperText:r.email&&s.email,inputMode:"email",InputProps:{startAdornment:c.jsx(D,{position:"start",children:c.jsx(P,{style:{marginRight:"8px"}})})}})}),c.jsx(d,{sx:{mb:3},children:c.jsx(T,{name:"password",label:"Password",type:a?"text":"password",required:!0,fullWidth:!0,value:e.password,onChange:n,onBlur:o,placeholder:"Create a password",autoComplete:"new-password",error:r.password&&Boolean(s.password),inputMode:"password",helperText:r.password&&s.password,InputProps:{startAdornment:c.jsx(D,{position:"start",children:c.jsx(B,{style:{marginRight:"8px"}})}),endAdornment:c.jsx(D,{position:"end",children:c.jsx(E,{onClick:i,tabIndex:-1,children:a?c.jsx(F,{}):c.jsx(W,{})})})}})}),c.jsx(d,{sx:{textAlign:"center"},children:c.jsx(u,{type:"submit",variant:"contained",fullWidth:!0,disabled:t,children:t?c.jsx(C,{size:24}):"Register"})})]})}),c.jsx(d,{sx:{textAlign:"center"},children:c.jsx(h,{variant:"h6",sx:{my:2},children:"OR"})})]})};cn.propTypes={setLogin:kt.func.isRequired};const dn=({setLogin:e})=>{const[t,s]=l.useState(!0),a={color:"#0e2cf2",cursor:"pointer",fontWeight:"bold"};return localStorage.getItem("userId")&&e(!0),c.jsx("div",{className:"login-container",children:c.jsxs(d,{sx:{maxWidth:400,margin:"auto",mt:5,p:6,boxShadow:3,borderRadius:2,color:"gray",background:t?"aliceblue":"white",transition:"all 0.5s",position:"relative"},children:[c.jsx(Ut,{onClick:()=>e(!1),className:"closeButton",style:{position:"absolute",top:16,right:16,cursor:"pointer",fontSize:24,color:"gray",zIndex:1},"aria-label":"Close Login Form"}),t?c.jsx(ln,{setLogin:e}):c.jsx(cn,{setLogin:e}),c.jsx("p",{children:t?c.jsxs(c.Fragment,{children:["Don’t have an account?"," ",c.jsx("span",{onClick:()=>s(!1),style:a,children:"Register"})]}):c.jsxs(c.Fragment,{children:["Already have an account?"," ",c.jsx("span",{onClick:()=>s(!0),style:a,children:"Login"})]})})]})})};function hn({login:e,setLogin:t}){return c.jsxs(c.Fragment,{children:[c.jsx(y,{children:c.jsx("title",{children:"Jeremiah Deku"})}),e&&c.jsx(dn,{setLogin:t}),c.jsx(an,{setLogin:t}),c.jsx("div",{className:"app",children:c.jsx(qe,{})}),c.jsx(rn,{})]})}function un(){const e=x(),t=w(Si),[s,a]=l.useState(!1),[r,i]=l.useState(""),[n,o]=l.useState(null),d=new f.Howl({src:["/sounds/bubble-pop.mp3"]}),h=l.useCallback((async()=>{if(!t)return;if("granted"!==Notification.permission){if("granted"!==await Notification.requestPermission())return i("Please enable notifications in your browser settings."),void a(!0)}const e=await navigator.serviceWorker.ready;await e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:mn("BDSl_SrpS6IuLO3zl1_lLF5f6jZ2lrUdmHdt3u6LG3iut5NtMyMSREms0xUd5oPctD-GxOt9Lm8d52hF-zbXCqY")});const s=await on();o(s)}),[t]);var m;return m=n,l.useEffect((()=>{m&&si.post("/api/user/subscribe-global",{fcmToken:m},{withCredentials:!0}).then((()=>console.log("✅ Subscribed to global‑updates"))).catch((e=>console.error("Global topic subscribe error:",e)))}),[m]),l.useEffect((()=>{h();const e=Mt(nn,(e=>{d.play(),z.info(c.jsxs(c.Fragment,{children:[c.jsx("strong",{children:e.notification?.title}),c.jsx("br",{}),e.notification?.body]}))}));return window.addEventListener("focus",on),()=>{e(),window.removeEventListener("focus",on)}}),[h]),l.useEffect((()=>{t||(async()=>{try{const e=localStorage.getItem("fcmToken");e&&(await _t(nn),await si.post("/api/user/remove-token",{fcmToken:e},{withCredentials:!0}),localStorage.removeItem("fcmToken"),console.log("🔕 Unsubscribed FCM on logout"))}catch(e){}})()}),[t]),c.jsxs(Ue,{open:s,onClose:()=>a(!1),children:[c.jsx(Me,{sx:{bgcolor:e.palette.primary.main,color:"#fff"},children:"Notifications"}),c.jsx(_e,{children:c.jsx(Ht,{children:r})}),c.jsxs($t,{children:[c.jsx(u,{onClick:()=>window.open("https://support.google.com/chrome/answer/3220216","_blank"),sx:{color:e.palette.primary.main},children:"Learn How"}),c.jsx(u,{onClick:()=>a(!1),sx:{color:e.palette.primary.main},children:"Close"})]})]})}function mn(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),s=window.atob(t);return new Uint8Array([...s].map((e=>e.charCodeAt(0))))}dn.propTypes={setLogin:kt.func.isRequired};const xn=()=>{const e=b(),t=v(),s=w(zi),a=s.reduce(((e,t)=>e+Number(t.price)*Number(t.requestedSeats||1)),0),r=a?2:0,i=a+r,n=s[0]?.currency||"USD";return c.jsxs(c.Fragment,{children:[c.jsx(y,{children:c.jsx("title",{children:"Cart – TOLI‑TOLI"})}),c.jsxs("div",{className:"cart",children:[c.jsxs("div",{className:"cart-item",children:[c.jsxs("div",{className:"cart-title",children:[c.jsx("p",{children:"Route"}),c.jsx("p",{children:"Date"}),c.jsx("p",{children:"Qty"}),c.jsx("p",{children:"Price"}),c.jsx("p",{children:"Remove"}),c.jsx("p",{children:c.jsx("img",{onClick:()=>window.print(),src:"/printer (2).png",alt:"print",style:{cursor:"pointer"}})})]}),c.jsx("hr",{}),s.length>0?s.map((t=>c.jsxs(Fe.Fragment,{children:[c.jsxs("div",{className:"cart-title cart-items-item",children:[c.jsxs("p",{children:[t.pickup," → ",t.destination]}),c.jsx("p",{children:t.selectedDate?new Date(t.selectedDate).toLocaleDateString():"--"}),c.jsx("p",{children:t.requestedSeats||1}),c.jsxs("p",{children:[n," ",(Number(t.price)*Number(t.requestedSeats||1)).toFixed(2)]}),c.jsx("p",{children:c.jsx("img",{onClick:()=>{return s=t._id,void e(Bi(s));var s},className:"delete",src:"/trash.png",alt:"remove",style:{cursor:"pointer"}})})]}),c.jsx("hr",{})]},t._id))):c.jsx("p",{children:"No rides selected."})]}),c.jsx("div",{className:"cart-bottom",children:c.jsxs("div",{className:"cart-total",children:[c.jsx("h2",{children:"Cart Totals"}),c.jsxs("div",{className:"cart-total-details",children:[c.jsx("p",{children:"Subtotal"}),c.jsxs("p",{children:[n," ",a.toFixed(2)]})]}),c.jsx("hr",{}),c.jsxs("div",{className:"cart-total-details",children:[c.jsx("p",{children:"Service Fee"}),c.jsxs("p",{children:[n," ",r.toFixed(2)]})]}),c.jsx("hr",{}),c.jsxs("div",{className:"cart-total-details",children:[c.jsx("p",{children:"Total"}),c.jsxs("p",{children:[n," ",i.toFixed(2)]})]}),c.jsx("button",{onClick:()=>t("/checkout"),disabled:0===s.length,children:"PROCEED TO CHECKOUT"})]})})]})]})},pn=({children:e})=>{const t=b(),s=w(Ai),a=w(Ci),r=w(Ti),i=w(Ii),n=w(Ri),o=l.useRef(!1),c=l.useRef(null),d=l.useRef(0),h=l.useCallback(((e=0)=>{if(c.current&&clearTimeout(c.current),e>=3)return void console.log("Max retries reached for session recovery");const s=3e4*Math.pow(2,e);c.current=setTimeout((()=>{navigator.onLine&&localStorage.getItem("userId")&&(console.log(`Retrying session recovery (attempt ${e+1}/3)...`),t(xi()).unwrap().then((()=>{console.log("✅ Session recovered on retry"),d.current=0})).catch((t=>{console.log("❌ Retry failed:",t),d.current=e+1,(!navigator.onLine||t.includes("Network")||t.includes("fetch"))&&h(d.current)})))}),s)}),[t]);return l.useEffect((()=>{const e=()=>{console.log("📶 Connection restored"),t(yi(!0)),t(vi()),d.current=0;localStorage.getItem("userId")&&(r||n)&&(console.log("🔄 Refreshing user info after reconnection"),t(ui()).unwrap().catch((e=>{console.warn("Post-reconnection refresh failed:",e)})))},s=()=>{console.log("📴 Connection lost"),t(yi(!1)),c.current&&(clearTimeout(c.current),c.current=null)};return t(yi(navigator.onLine)),window.addEventListener("online",e),window.addEventListener("offline",s),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",s)}}),[t,r,n]),l.useEffect((()=>{t(bi());const e=localStorage.getItem("userId");if(e&&!o.current&&navigator.onLine){o.current=!0,console.log("🔐 Attempting session recovery...");const e=t(xi()),s=setTimeout((()=>{console.warn("⏱️ Session recovery timeout - treating as network issue")}),15e3);e.unwrap().then((()=>{clearTimeout(s),console.log("✅ Session recovered successfully"),d.current=0})).catch((e=>{clearTimeout(s),console.log("❌ Session recovery failed:",e);!navigator.onLine||e.includes("Network")||e.includes("fetch")||e.includes("timeout")||"object"==typeof e&&"NETWORK_ERROR"===e.type?(console.log("🔄 Scheduling retry for network-related error"),h(0)):console.log("🚫 Not retrying - likely auth error:",e)}))}else e&&!navigator.onLine&&console.log("📴 Offline - will retry session recovery when online")}),[t,h]),l.useEffect((()=>{if(!s||!i||"loading"===a)return;const e=setInterval((()=>{r&&(console.log("🔄 Refreshing user info (periodic check)"),t(ui()).unwrap().then((()=>{console.log("✅ Periodic refresh successful")})).catch((e=>{console.warn("⚠️ Periodic refresh failed:",e)})))}),3e5);return()=>clearInterval(e)}),[t,s,i,r,a]),l.useEffect((()=>{const e=()=>{!document.hidden&&s&&i&&r&&(console.log("👁️ Page visible - checking if refresh needed"),t(ui()).unwrap().catch((e=>{console.warn("Visibility-triggered refresh failed:",e)})))};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}}),[t,s,i,r]),l.useEffect((()=>()=>{c.current&&(clearTimeout(c.current),c.current=null)}),[]),l.useEffect((()=>{console.log("🔍 Auth State:",{isAuthenticated:s,userStatus:a,shouldRefresh:r,isOnline:i,hasError:!!n,hasUserId:!!localStorage.getItem("userId")})}),[s,a,r,i,n]),e},gn=Vt({reducer:Gt({key:"root",storage:Yt,whitelist:["user","cart","driverNotifications"]},Jt({user:Di,cart:Oi,admin:_a})),middleware:e=>e({serializableCheck:!1})}),jn=()=>c.jsxs("div",{style:{padding:"20px",marginTop:10,textAlign:"center"},children:[c.jsx("h1",{style:{color:"violet"},children:"Partner Network & Affiliate"}),c.jsx(gr,{})]});function fn(){const e=w(wi),[t,s]=l.useState(!1),a=w(Ii),r=b(),[i,n]=l.useState((()=>!sessionStorage.getItem("assetsLoaded")));return l.useEffect((()=>{i&&(async()=>{try{localStorage.getItem("assetsLoaded")||(console.log("🎨 Loading application assets..."),await vr(),localStorage.setItem("assetsLoaded","true"),console.log("✅ Assets loaded successfully")),sessionStorage.setItem("assetsLoaded","true")}catch(e){console.warn("⚠️ Asset loading failed:",e)}finally{n(!1)}})()}),[i]),l.useEffect((()=>{const e=setInterval((()=>{Ti(gn.getState())&&r(xi())}),6e5);return()=>clearInterval(e)}),[r]),l.useEffect((()=>{r(bi())}),[r]),i?c.jsx(Hi,{}):c.jsx(Kt,{dateAdapter:Xt,children:c.jsxs(pn,{children:[e&&c.jsx(un,{}),!a&&c.jsx("div",{style:{position:"relative",top:"0",left:"0",backgroundColor:"orange",width:"100%",padding:5},children:c.jsx(Qt,{children:"Not online. Please check your internet connection"})}),c.jsx("div",{className:"app",children:c.jsxs(pt,{children:[c.jsxs(gt,{element:c.jsx(hn,{login:t,setLogin:s}),children:[c.jsx(gt,{path:"/",element:c.jsx(yr,{})}),c.jsx(gt,{path:"blog/*",element:c.jsx(Qr,{})}),c.jsx(gt,{path:"contactUs",element:c.jsx(Zr,{})}),c.jsx(gt,{path:"newsFeed",element:c.jsx(Mi,{})}),c.jsx(gt,{path:"privacy-policy",element:c.jsx(Ji,{})}),c.jsx(gt,{path:"deliveryInfo",element:c.jsx(Gi,{})}),c.jsx(gt,{path:"partners",element:c.jsx(jn,{})}),c.jsx(gt,{path:"aboutUs",element:c.jsx(Yi,{})}),c.jsx(gt,{path:"message-us",element:c.jsx(Vi,{})}),c.jsx(gt,{path:"cart",element:c.jsx(xn,{})}),c.jsx(gt,{path:"verify",element:c.jsx(Ui,{})}),c.jsx(gt,{path:"profile",element:c.jsx($i,{})}),c.jsx(gt,{path:"checkout",element:c.jsx(qi,{})}),c.jsx(gt,{path:"verify-otp",element:c.jsx(Ki,{setLogin:s})}),c.jsx(gt,{path:"forgot-password",element:c.jsx(Xi,{})}),c.jsx(gt,{path:"reset-password",element:c.jsx(Qi,{})}),c.jsx(gt,{path:"driveNuser",element:c.jsx(Zi,{})})]}),c.jsx(gt,{path:"*",element:c.jsx(en,{})})]})})]})})}function yn({allowedRoles:e=[],children:t}){const s=w(Ua),a=w(qa),r=w(Ma),i=Q(),n="/Oauth2/v1/admin";return r?s?e.length>0&&!a.some((t=>e.includes(t)))?c.jsx(Z,{to:`${n}/unauthorized`,replace:!0}):c.jsx(c.Fragment,{children:t}):c.jsx(Z,{to:`${n}/login?redirect=${encodeURIComponent(i.pathname)}`,replace:!0}):c.jsx(d,{sx:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#fff"},children:c.jsx(C,{size:60})})}const bn=()=>{const[e,t]=l.useState({pickup:"",destination:"",price:"",description:"",selectedDate:"",selectedTime:"",passengers:1,image:null,type:""}),s=e=>{const{name:s,value:a}=e.target;t((e=>({...e,[s]:a})))};return c.jsxs(d,{sx:{maxWidth:700,mx:"auto",mt:4,p:3,bgcolor:"#fff",borderRadius:2,boxShadow:2},children:[c.jsx(h,{variant:"h5",gutterBottom:!0,fontWeight:600,children:"Add New Ride"}),c.jsx("form",{onSubmit:async s=>{if(s.preventDefault(),!(()=>{const{pickup:t,destination:s,price:a,description:r,selectedDate:i,selectedTime:n,type:o,image:l,passengers:c}=e;return t&&s&&a&&r&&i&&n&&o&&l?!(a<=0||c<=0)||(z.error("Price and passengers must be greater than zero"),!1):(z.error("All fields are required"),!1)})())return;const a=new FormData;Object.keys(e).forEach((t=>a.append(t,e[t])));try{const e=await r.post("/api/admin/add",a,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0});e.data.success?(z.success("Ride added successfully"),t({pickup:"",destination:"",price:"",description:"",selectedDate:"",selectedTime:"",passengers:1,image:null,type:""})):z.error(e.data.message)}catch(i){z.error("Failed to add ride"),console.error("Error adding ride:",i.response?.data||i.message)}},encType:"multipart/form-data",children:c.jsxs(V,{container:!0,spacing:2,children:[c.jsx(V,{item:!0,xs:12,sm:6,children:c.jsx(T,{label:"Pickup Location",name:"pickup",value:e.pickup,onChange:s,fullWidth:!0,required:!0})}),c.jsx(V,{item:!0,xs:12,sm:6,children:c.jsx(T,{label:"Destination",name:"destination",value:e.destination,onChange:s,fullWidth:!0,required:!0})}),c.jsx(V,{item:!0,xs:12,sm:6,children:c.jsx(T,{label:"Price",type:"number",name:"price",value:e.price,onChange:s,inputProps:{min:1},fullWidth:!0,required:!0})}),c.jsx(V,{item:!0,xs:12,sm:6,children:c.jsx(T,{label:"Passengers",type:"number",name:"passengers",value:e.passengers,onChange:s,inputProps:{min:1,max:60},fullWidth:!0,required:!0})}),c.jsx(V,{item:!0,xs:12,children:c.jsx(T,{label:"Ride Description",name:"description",value:e.description,onChange:s,multiline:!0,rows:4,fullWidth:!0,required:!0})}),c.jsx(V,{item:!0,xs:12,sm:6,children:c.jsxs(Zt,{fullWidth:!0,required:!0,children:[c.jsx(es,{id:"ride-type-label",children:"Ride Type"}),c.jsxs(ts,{labelId:"ride-type-label",name:"type",value:e.type,label:"Ride Type",onChange:s,children:[c.jsx(ss,{value:"",children:"Select Ride Type"}),c.jsx(ss,{value:"bus",children:"Bus"}),c.jsx(ss,{value:"car",children:"Van"}),c.jsx(ss,{value:"motorcycle",children:"Motor"})]})]})}),c.jsx(V,{item:!0,xs:6,sm:3,children:c.jsx(T,{label:"Date",name:"selectedDate",type:"date",value:e.selectedDate,onChange:s,fullWidth:!0,InputLabelProps:{shrink:!0},required:!0})}),c.jsx(V,{item:!0,xs:6,sm:3,children:c.jsx(T,{label:"Time",name:"selectedTime",type:"time",value:e.selectedTime,onChange:s,fullWidth:!0,InputLabelProps:{shrink:!0},required:!0})}),c.jsxs(V,{item:!0,xs:12,children:[c.jsxs(u,{variant:"outlined",component:"label",fullWidth:!0,children:["Upload Ride Image",c.jsx("input",{type:"file",name:"image",accept:"image/*",hidden:!0,onChange:e=>{t((t=>({...t,image:e.target.files[0]})))}})]}),e.image&&c.jsxs(h,{mt:1,children:["Selected: ",e.image.name]})]}),c.jsx(V,{item:!0,xs:12,children:c.jsx(u,{variant:"contained",color:"primary",type:"submit",fullWidth:!0,sx:{mt:2},children:"Add Ride"})})]})})]})},vn=()=>{const[e,t]=l.useState([]),s=async()=>{try{const e=await Sa.get("/api/admin/list",{withCredentials:!0});e.data.success?t(e.data.data):z.error(e.data.message)}catch(e){return null}};return l.useEffect((()=>{s()}),[]),c.jsxs("div",{className:"list add flex-col",children:[c.jsx("h1",{children:"All Ride Lists"}),0===e.length?c.jsx("div",{style:{width:"100%",marginTop:"50px"},children:c.jsx(_,{severity:"info",className:"no-rides-alert",children:"No rides found. Please add some rides."})}):c.jsxs("div",{className:"list-table",children:[c.jsxs("div",{className:"list-table-format title",children:[c.jsx("b",{children:"Driver"}),c.jsx("b",{children:"Ride"}),c.jsx("b",{children:"Pickup"}),c.jsx("b",{children:"Destination"}),c.jsx("b",{children:"Time"}),c.jsx("b",{children:"Price ($)"}),c.jsx("b",{children:"Date"}),c.jsx("b",{children:"Passengers"}),c.jsx("b",{children:"Action"})]}),e.map(((e,t)=>c.jsxs("div",{className:"list-table-format",children:[c.jsx("img",{src:e.imageUrl||"https://www.pngall.com/wp-content/uploads/5/Profile-PNG-File.png",alt:"Ride",className:"ride-image"}),c.jsx("p",{children:e.type}),c.jsx("p",{children:e.pickup}),c.jsx("p",{children:e.destination}),c.jsx("p",{children:e.selectedTime}),c.jsx("p",{children:e.price}),c.jsx("p",{children:new Date(e.selectedDate).toLocaleDateString()}),c.jsx("p",{children:e.passengers}),c.jsx("p",{onClick:()=>(async e=>{try{const t=await Sa.post("/api/admin/remove",{id:e},{withCredentials:!0});t.data.success?(z.success(t.data.message),s()):z.error("Failed to remove ride")}catch(t){z.error("Error removing ride",t)}})(e._id),className:"cursor",children:c.jsx("img",{src:"trash.png",alt:"delete"})})]},t)))]})]})},wn=()=>{const[e,t]=l.useState([]),[s,a]=l.useState(!1),[r,i]=l.useState(""),[n,o]=l.useState(!1),d=e=>{switch(e){case"approved":return"status-approved";case"partially approved":return"status-partially";case"completed":return"status-completed";case"pending approval":return"status-pending";case"declined":return"status-cancelled";case"refunds":return"status-refunds";case"re-schedule":return"status-reschedule";default:return""}};return l.useEffect((()=>{(async()=>{o(!0);try{const e=await Sa.get("/api/booking/list",{withCredentials:!0});e.data.success?t(e.data.data):i(e.data.message)}catch(e){return i("Error fetching bookings",e),e}finally{o(!1)}})()}),[]),c.jsxs("div",{className:"order add",children:[c.jsx("h3",{children:"Booking Page"}),n?c.jsxs(N,{children:[c.jsx(X,{variant:"rectangular",width:"100%",height:150,sx:{mt:5}}),c.jsx(X,{variant:"rectangular",width:"100%",height:150,sx:{mt:5}}),c.jsx(X,{variant:"rectangular",width:"100%",height:150,sx:{mt:5}}),c.jsx(X,{variant:"rectangular",width:"100%",height:150,sx:{mt:5}})]}):c.jsx("div",{className:"order-list",children:r||0===e.length?c.jsx(_,{severity:"info",sx:{m:5,width:500,p:2,fontSize:16},children:r}):c.jsx(c.Fragment,{children:e.map(((e,r)=>c.jsxs("div",{className:"order-item",children:[c.jsx("img",{src:"parcel.png",alt:"Order Icon"}),c.jsxs("div",{children:[c.jsx("p",{className:"order-item-design",children:e.rides.map(((t,s)=>s===e.rides.length-1?t.pickup+" > "+t.destination:t.pickup+" > "+t.destination+", "))}),c.jsx("p",{className:"order-item-name",children:e.address.firstName+" "+e.address.lastName}),c.jsxs("div",{className:"order-item-address",children:[c.jsx("p",{children:e.address.street+","}),c.jsx("p",{children:e.address.city+", "+e.address.state+", "+e.address.country+", "+e.address.zipCode})]}),c.jsx("p",{className:"order-item-phone",children:e.address.phone})]}),c.jsxs("p",{children:["Rides: ",e.rides.length]}),c.jsxs("p",{children:[e.currency," ",e.amount,".00"]}),c.jsxs("div",{children:[c.jsx("p",{className:`status-badge ${d(e.status)}`,children:e.status}),c.jsxs("select",{onChange:s=>(async(e,s)=>{const r=e.target.value;a(!0);try{const e=await Sa.post("/api/booking/status",{bookingId:s,status:r,withCredentials:!0});e.data.success?(t((e=>e.map((e=>e._id===s?{...e,status:r}:e)))),z.success("Status updated successfully")):i(e.data.message)}catch(n){return z.error("Failed to update order status"),n}finally{a(!1)}})(s,e._id),value:e.status,disabled:s,children:[c.jsx("option",{value:"approved",children:"Approved"}),c.jsx("option",{value:"pending approval",children:"pending approval"}),c.jsx("option",{value:"partially approved",children:"partially approved"}),c.jsx("option",{value:"completed",children:"Completed"}),c.jsx("option",{value:"declined",children:"Declined"}),c.jsx("option",{value:"refunds",children:"Refunds"}),c.jsx("option",{value:"re-schedule",children:"Re-schedule"})]})]})]},r)))})})]})},Sn=["Car","Van","Bus","Motorbike","Truck"],kn=S({name:k().required("Required"),email:k().email("Invalid email").required("Required"),password:k().min(8,"Min 8 characters").required("Required"),phone:k().required("Required"),licenseNumber:k().required("Required"),vehicleType:k().required("Required"),model:k().required("Required"),registrationNumber:k().required("Required"),capacity:as().min(1,"Min 1").required("Required")}),Cn=()=>{const[e,t]=l.useState(null),[s,a]=l.useState(!1);return c.jsxs(d,{p:3,maxWidth:700,mx:"auto",children:[c.jsx(h,{variant:"h4",mb:2,children:"Add New Driver"}),c.jsx(I,{initialValues:{name:"",email:"",password:"",phone:"",licenseNumber:"",vehicleType:"",model:"",registrationNumber:"",capacity:"",avatar:null},validationSchema:kn,onSubmit:async(e,{resetForm:s})=>{const a=new FormData;Object.entries(e).forEach((([e,t])=>{"avatar"!==e&&a.append(e,t)})),e.avatar&&a.append("avatar",e.avatar);try{const e=await Sa.post("/api/admin/add-driver",a,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}});z.success(e.data.message||"Driver added"),s(),t(null)}catch(r){z.error(r.response?.data?.message||"Add failed"),console.error(r)}},children:({values:r,errors:i,touched:n,setFieldValue:o,isSubmitting:l})=>c.jsx(zt,{children:c.jsxs(V,{container:!0,spacing:2,children:[[{name:"name",label:"Name"},{name:"email",label:"Email",type:"email"},{name:"phone",label:"Phone"},{name:"licenseNumber",label:"License Number"}].map((({name:e,label:t,type:s})=>c.jsx(V,{item:!0,xs:12,sm:6,children:c.jsx(Ot,{name:e,as:T,type:s||"text",label:t,fullWidth:!0,error:n[e]&&Boolean(i[e]),helperText:n[e]&&i[e]})},e))),c.jsx(V,{item:!0,xs:12,sm:6,children:c.jsx(Ot,{name:"password",as:T,type:s?"text":"password",label:"Password",fullWidth:!0,error:n.password&&Boolean(i.password),helperText:n.password&&i.password,InputProps:{endAdornment:c.jsx(D,{position:"end",children:c.jsx(E,{onClick:()=>a(!s),edge:"end",children:s?c.jsx(rs,{}):c.jsx(is,{})})})}})}),c.jsx(V,{item:!0,xs:12,sm:6,children:c.jsx(Ot,{name:"vehicleType",as:T,select:!0,label:"Vehicle Type",fullWidth:!0,error:n.vehicleType&&Boolean(i.vehicleType),helperText:n.vehicleType&&i.vehicleType,children:Sn.map((e=>c.jsx(ss,{value:e,children:e},e)))})}),[{name:"model",label:"Model"},{name:"registrationNumber",label:"Reg. Number"},{name:"capacity",label:"Capacity",type:"number"}].map((({name:e,label:t,type:s})=>c.jsx(V,{item:!0,xs:12,sm:6,children:c.jsx(Ot,{name:e,as:T,type:s||"text",label:t,fullWidth:!0,error:n[e]&&Boolean(i[e]),helperText:n[e]&&i[e]})},e))),c.jsx(V,{item:!0,xs:12,children:c.jsxs(u,{variant:"outlined",component:"label",startIcon:r.avatar?c.jsx(et,{src:e}):null,children:[r.avatar?"Change Avatar":"Upload Avatar",c.jsx("input",{type:"file",hidden:!0,accept:"image/*",onChange:e=>{const s=e.currentTarget.files[0];o("avatar",s),t(URL.createObjectURL(s))}})]})}),c.jsx(V,{item:!0,xs:12,children:c.jsx(u,{type:"submit",variant:"contained",fullWidth:!0,disabled:l,startIcon:l&&c.jsx(C,{size:20}),children:l?"Adding...":"Add Driver"})})]})})})]})},Rn=()=>{const[e,t]=l.useState([]),[s,a]=l.useState(!0),r=async()=>{a(!0);try{const e=await Sa.get("/api/admin/drivers",{withCredentials:!0});Array.isArray(e.data.drivers)?t(e.data.drivers):(t([]),z.error(e.data.message||"Unexpected response format"))}catch(e){t([]),console.error("Error fetching drivers:",e.response?.data||e.message)}finally{a(!1)}};l.useEffect((()=>{r()}),[]);return c.jsxs("div",{className:"list-drivers",children:[c.jsx("h2",{children:"Drivers List"}),s?c.jsx(d,{children:c.jsx(ns,{style:{width:600},active:!0})}):0===e.length?c.jsx(_,{severity:"info",children:"No drivers found."}):c.jsxs("table",{className:"drivers-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"#"}),c.jsx("th",{children:"Avatar"}),c.jsx("th",{children:"Name"}),c.jsx("th",{children:"Email"}),c.jsx("th",{children:"Phone"}),c.jsx("th",{children:"License"}),c.jsx("th",{children:"Vehicle Type"}),c.jsx("th",{children:"Model"}),c.jsx("th",{children:"Reg. No."}),c.jsx("th",{children:"Capacity"}),c.jsx("th",{children:"Action"})]})}),c.jsx("tbody",{children:e.map(((e,t)=>{const s=e.profile||{};return c.jsxs("tr",{children:[c.jsx("td",{children:t+1}),c.jsx("td",{children:e.avatar?c.jsx("img",{src:e.avatar,alt:`${e.name}'s Avatar`,className:"driver-avatar"}):"N/A"}),c.jsx("td",{children:e.name||"N/A"}),c.jsx("td",{children:e.email||"N/A"}),c.jsx("td",{children:s.phone||"N/A"}),c.jsx("td",{children:s.licenseNumber||"N/A"}),c.jsx("td",{children:s.vehicle?.vehicleType||"N/A"}),c.jsx("td",{children:s.vehicle?.model||"N/A"}),c.jsx("td",{children:s.vehicle?.registrationNumber||"N/A"}),c.jsx("td",{children:s.vehicle?.capacity??"N/A"}),c.jsxs("td",{children:[c.jsx(te,{to:`/admin/update-driver/${e._id}`,className:"edit-btn",children:"Edit"}),s.approved||"active"===s.status?c.jsx("span",{className:"approved-label",children:"Approved"}):c.jsx(u,{variant:"contained",color:"success",onClick:()=>(async e=>{try{const t=await Sa.put(`/api/admin/drivers/approve/${e}`,{},{withCredentials:!0});z.success(t.data.message||"Driver approved successfully"),r()}catch(t){console.error("Error approving driver:",t.response?.data||t.message),z.error(t.response?.data?.message||"Failed to approve driver")}})(e._id),size:"small",sx:{mt:1},children:"Approve"})]})]},e._id||t)}))})]})]})},An=()=>{const[e,t]=l.useState([]),[s,a]=l.useState([]),[r,i]=l.useState({}),n=async()=>{try{const e=await Sa.get("/api/admin/rides",{withCredentials:!0});if(!e.data.rides)return null;t(e.data.rides)}catch(e){return null}};l.useEffect((()=>{n(),(async()=>{try{const e=await Sa.get("/api/admin/drivers",{withCredentials:!0});if(!e.data.drivers)return null;a(e.data.drivers)}catch(e){return null}})()}),[]);return c.jsx("div",{className:"assign-ride-container",children:0===e.length?c.jsx("div",{style:{width:"100%",marginTop:"50px"},children:c.jsx(_,{severity:"info",className:"no-rides-alert",children:"No rides or drivers found. Please add some rides and drivers."})}):c.jsxs("div",{children:[c.jsx("h2",{children:"Assign Rides to Drivers"}),c.jsxs("table",{className:"assign-ride-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Ride ID"}),c.jsx("th",{children:"Pickup"}),c.jsx("th",{children:"Destination"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Driver"}),c.jsx("th",{children:"Action"})]})}),c.jsx("tbody",{children:e.map((e=>c.jsxs("tr",{children:[c.jsx("td",{children:e._id}),c.jsx("td",{children:e.pickup}),c.jsx("td",{children:e.destination}),c.jsx("td",{children:e.status}),c.jsx("td",{children:e.driver?c.jsx("span",{children:e.driver.name||"Assigned"}):c.jsxs("select",{value:r[e._id]||"",onChange:t=>((e,t)=>{const s=t.target.value;i((t=>({...t,[e]:s})))})(e._id,t),children:[c.jsx("option",{value:"",children:"Select driver"}),s.map((e=>c.jsxs("option",{value:e._id,children:[e.name," (",e.email,")"]},e._id)))]})}),c.jsxs("td",{children:[!e.driver&&c.jsx("button",{onClick:()=>(async e=>{const t=r[e];if(t)try{const s=await Sa.post("/api/admin/assign-ride",{rideId:e,driverId:t},{withCredentials:!0});s.data.success?(z.success("Ride assigned successfully"),n()):z.error(s.data.message||"Failed to assign ride")}catch(s){return null}else z.error("Please select a driver for this ride")})(e._id),children:"Assign"}),e.driver&&c.jsx("span",{children:"Assigned"})]})]},e._id)))})]})]})})},In=()=>{const{id:e}=q(),t=v(),[s,a]=l.useState({pickup:"",destination:"",price:"",description:"",selectedDate:"",selectedTime:"",passengers:"",type:"",driver:""}),[r,i]=l.useState(null),[n,o]=l.useState(!0);l.useEffect((()=>{(async()=>{try{const t=await Sa.get(`/api/admin/rides/${e}`,{withCredentials:!0});if(t.data.ride){const e=t.data.ride;a({pickup:e.pickup,destination:e.destination,price:e.price,description:e.description,selectedDate:e.selectedDate?e.selectedDate.split("T")[0]:"",selectedTime:e.selectedTime,passengers:e.passengers,type:e.type,driver:e.driver?e.driver._id:""})}else z.error("Ride not found")}catch(t){z.error("Failed to fetch ride details"),console.error(t)}finally{o(!1)}})()}),[e]);const d=e=>{const{name:t,value:s}=e.target;a((e=>({...e,[t]:s})))};return n?c.jsx("p",{children:"Loading ride details..."}):c.jsxs("div",{className:"update-ride",children:[c.jsx("h2",{children:"Update Ride Details"}),c.jsxs("form",{onSubmit:async a=>{a.preventDefault();const i=new FormData;Object.keys(s).forEach((e=>{i.append(e,s[e])})),r&&i.append("image",r);try{const s=await Sa.put(`/api/admin/rides/${e}`,i,{withCredentials:!0});s.data.success?(z.success(s.data.message),t("/admin/list")):z.error(s.data.message)}catch(n){z.error("Failed to update ride"),console.error(n.response?.data||n.message)}},className:"update-ride-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Pickup Location"}),c.jsx("input",{type:"text",name:"pickup",value:s.pickup,onChange:d,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Destination"}),c.jsx("input",{type:"text",name:"destination",value:s.destination,onChange:d,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Price"}),c.jsx("input",{type:"number",name:"price",value:s.price,onChange:d,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Description"}),c.jsx("textarea",{name:"description",value:s.description,onChange:d,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Selected Date"}),c.jsx("input",{type:"date",name:"selectedDate",value:s.selectedDate,onChange:d,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Selected Time"}),c.jsx("input",{type:"time",name:"selectedTime",value:s.selectedTime,onChange:d,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Passengers"}),c.jsx("input",{type:"number",name:"passengers",value:s.passengers,onChange:d,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Ride Type"}),c.jsx("input",{type:"text",name:"type",value:s.type,onChange:d,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Upload New Image (optional)"}),c.jsx("input",{type:"file",name:"image",onChange:e=>{i(e.target.files[0])},accept:"image/*"})]}),c.jsx("button",{type:"submit",children:"Update Ride"})]})]})},Nn=["Car","Van","Bus","Motorbike","Truck"],Tn=()=>{const{id:e}=q(),t=v(),[s,a]=l.useState({name:"",email:"",phone:"",licenseNumber:"",vehicleType:"",model:"",registrationNumber:"",capacity:""}),[r,i]=l.useState(null),[n,o]=l.useState(!0),[m,x]=l.useState(!1);l.useEffect((()=>{(async()=>{try{const t=await Sa.get(`/api/admin/drivers/${e}`,{withCredentials:!0}),{driver:s}=t.data,r=s.profile||{};a({name:s.name||"",email:s.email||"",phone:r.phone||"",licenseNumber:r.licenseNumber||"",vehicleType:r.vehicle?.vehicleType||"",model:r.vehicle?.model||"",registrationNumber:r.vehicle?.registrationNumber||"",capacity:r.vehicle?.capacity?.toString()||""})}catch(t){z.error("Failed to fetch driver details"),console.error(t)}finally{o(!1)}})()}),[e]);const p=e=>{const{name:t,value:s}=e.target;a((e=>({...e,[t]:s})))};return n?c.jsx(C,{size:48}):c.jsxs(d,{className:"update-driver",component:"form",onSubmit:async a=>{a.preventDefault(),x(!0);const i=new FormData;Object.entries(s).forEach((([e,t])=>{i.append(e,t)})),r&&i.append("avatar",r);try{const s=await Sa.put(`/api/admin/drivers/${e}`,i,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}});s.data.success?(z.success(s.data.message),t("/admin/list-drivers")):z.error(s.data.message)}catch(n){z.error("Failed to update driver"),console.error(n.response?.data||n.message)}finally{x(!1)}},sx:{maxWidth:"max-content",mx:"auto",p:2},children:[c.jsx(h,{variant:"h5",gutterBottom:!0,children:"Update Driver Details"}),c.jsx(T,{fullWidth:!0,margin:"normal",label:"Name",name:"name",value:s.name,onChange:p,required:!0}),c.jsx(T,{fullWidth:!0,margin:"normal",label:"Email",name:"email",type:"email",value:s.email,onChange:p,required:!0}),c.jsx(T,{fullWidth:!0,margin:"normal",label:"Phone",name:"phone",value:s.phone,onChange:p,required:!0}),c.jsx(T,{fullWidth:!0,margin:"normal",label:"License Number",name:"licenseNumber",value:s.licenseNumber,onChange:p,required:!0}),c.jsx(T,{fullWidth:!0,select:!0,margin:"normal",label:"Vehicle Type",name:"vehicleType",value:s.vehicleType,onChange:p,required:!0,children:Nn.map((e=>c.jsx(ss,{value:e,children:e},e)))}),c.jsx(T,{fullWidth:!0,margin:"normal",label:"Model",name:"model",value:s.model,onChange:p,required:!0}),c.jsx(T,{fullWidth:!0,margin:"normal",label:"Registration Number",name:"registrationNumber",value:s.registrationNumber,onChange:p,required:!0}),c.jsx(T,{fullWidth:!0,margin:"normal",label:"Capacity",name:"capacity",type:"number",value:s.capacity,onChange:p,required:!0}),c.jsxs(u,{variant:"outlined",component:"label",sx:{mt:2},children:["Upload Avatar",c.jsx("input",{type:"file",hidden:!0,onChange:e=>{i(e.target.files[0])},accept:"image/*"})]}),c.jsx(d,{sx:{mt:4},children:c.jsx(u,{type:"submit",variant:"contained",disabled:m,startIcon:m&&c.jsx(C,{size:20}),children:m?"Updating...":"Update Driver"})})]})};function Dn(){const[e,t]=l.useState(""),[s,a]=l.useState(!0),[r,i]=l.useState(!1),[n,o]=l.useState("");l.useEffect((()=>{Sa.get("/api/admin/commission").then((({data:e})=>{t((100*e.rate).toFixed(1))})).catch((()=>{o("Failed to load commission rate.")})).finally((()=>a(!1)))}),[]);return s?c.jsx(C,{size:50,style:{textAlign:"center",marginTop:150,marginLeft:180,justifyContent:"center"}}):c.jsxs(d,{height:350,sx:{maxWidth:400,placeSelf:"center",mx:"auto",mt:5,p:3,boxShadow:2,borderRadius:2},children:[c.jsx(h,{variant:"h6",gutterBottom:!0,children:"Platform Commission Rate"}),n&&c.jsx(_,{severity:"error",children:n}),c.jsx(T,{label:"Commission (%)",type:"number",inputProps:{min:0,max:100,step:.1},value:e,onChange:e=>t(e.target.value),fullWidth:!0,sx:{my:2}}),c.jsx(u,{variant:"contained",onClick:()=>{const t=parseFloat(e)/100;isNaN(t)||t<0||t>1?o("Enter a valid percentage between 0 and 100."):(i(!0),o(""),Sa.post("/api/admin/commission",{rate:t}).then((()=>{alert("Commission rate updated")})).catch((()=>{o("Update failed.")})).finally((()=>i(!1))))},disabled:r,fullWidth:!0,children:r?c.jsx(C,{size:20}):"Update Rate"})]})}const Pn={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{type:"spring",stiffness:300,damping:25,staggerChildren:.06}},exit:{opacity:0,scale:.95}};function En({anchorEl:e,open:t,onClose:s,children:a}){return c.jsx(os,{open:t,anchorEl:e,placement:"bottom-end",transition:!0,disablePortal:!0,style:{zIndex:1300,position:"absolute",right:0},children:({TransitionProps:e})=>c.jsx(ls,{children:t&&c.jsx(ee.div,{variants:Pn,initial:"hidden",animate:"visible",exit:"exit",...e,children:c.jsx(cs,{onClickAway:s,children:c.jsx(H,{elevation:6,sx:{borderRadius:2,overflow:"hidden",minWidth:180,mt:1},children:c.jsx(ds,{component:ee.ul,sx:{p:0},children:a})})})},"menu")})})}const Fn=ee(ss,{forwardMotionProps:!0});function Wn({onMenuClick:e,isMenuOpen:t}){const[s,a]=l.useState(null),[r,i]=l.useState(null),n=w(Ua),o=b(),u=v(),m="/auth0/admin";l.useEffect((()=>{Sa.get("/api/admin/me",{withCredentials:!0}).then((e=>i(e.data.avatar))).catch(console.error)}),[]);const x=()=>a(null);l.useEffect((()=>{n||u("/login")}),[n,u]);return c.jsx(Rt,{position:"fixed",sx:{zIndex:e=>e.zIndex.drawer+1,bgcolor:"rgb(9, 51, 65)"},children:c.jsxs(Oe,{children:[c.jsx(E,{color:"inherit",edge:"start",onClick:e,sx:{mr:1,display:{lg:"none"}},"aria-label":"open drawer",children:c.jsxs(ee.div,{initial:!1,animate:t?"open":"closed",variants:{open:{rotate:45},closed:{rotate:0}},transition:{duration:.3},style:{width:24,height:24,position:"relative"},children:[c.jsx(ee.span,{style:{position:"absolute",top:6,left:0,width:"100%",height:2,background:"#fff",borderRadius:2},variants:{open:{rotate:90,top:11},closed:{rotate:0,top:6}},transition:{duration:.3}}),c.jsx(ee.span,{style:{position:"absolute",top:11,left:0,width:"100%",height:2,background:"#fff",borderRadius:2},variants:{open:{opacity:0},closed:{opacity:1}},transition:{duration:.3}}),c.jsx(ee.span,{style:{position:"absolute",top:16,left:0,width:"100%",height:2,background:"#fff",borderRadius:2},variants:{open:{rotate:-90,top:11},closed:{rotate:0,top:16}},transition:{duration:.3}})]})}),c.jsx(d,{sx:{display:"flex",alignItems:"center",mr:2},children:c.jsx(te,{to:`${m}/dashboard`,children:c.jsx("img",{src:"JD-logo.png",alt:"Logo",height:50})})}),c.jsx(d,{sx:{flexGrow:1}}),c.jsxs(h,{variant:"h6",sx:{mr:3,display:{xs:"none",sm:"block"}},children:["Welcome, ",localStorage.getItem("adminEmail")]}),c.jsx(E,{onClick:e=>a(e.currentTarget),size:"large",edge:"end",color:"inherit",children:r?c.jsx(et,{src:r}):c.jsx(et,{})}),c.jsxs(En,{anchorEl:s,open:Boolean(s),onClose:x,children:[c.jsxs(Fn,{onClick:x,component:te,to:`${m}/settings`,children:[c.jsx(Se,{children:c.jsx(hs,{})}),"Settings"]}),c.jsxs(Fn,{component:te,to:"mailto:jdeku573@gmail.com",children:[c.jsx(Se,{children:c.jsx(us,{})}),"Email: ",localStorage.getItem("adminEmail")]}),c.jsx(j,{}),c.jsxs(Fn,{onClick:async()=>{await o(Ea())},children:[c.jsx(Se,{children:c.jsx(ms,{})}),"Logout"]})]})]})})}async function Bn(e){const t=e.map((e=>new Promise((t=>{if(/\.(mp3|mp4|wav|ogg)$/i.test(e)){const s=new Audio;s.oncanplaythrough=t,s.onerror=t,s.src=e}else{const s=new Image;s.onload=t,s.onerror=t,s.src=e}}))));await Promise.all(t)}async function Ln(){await async function(){let e=[];try{const t=await fetch("manifest.json").then((e=>e.json()));e=Object.values(t).flatMap((e=>[e.file,...e.css||[],...e.assets||[]])).filter((e=>/\.(png|jpe?g|svg|webp|gif|ico|mp3|mp4)$/i.test(e))).map((e=>e.startsWith("/jerryDek/")?e:`/${e}`))}catch(t){console.warn("Failed to load manifest.json, falling back to glob eager",t)}if(!e.length){const t=Object.assign({});e=Object.values(t).map((e=>e.default))}await Bn(e),console.log("Assets loaded")}(),await async function(){const e=Object.assign({}),t=Object.values(e).map((e=>e.default));sessionStorage.getItem("AdminPublicAssetsLoaded")||(console.log("Public asstes loaded"),await Bn(t),sessionStorage.setItem("AdminPublicAssetsLoaded","true"))}(),console.log("✅ All assets preloaded")}Fn.defaultProps={variants:{hidden:{opacity:0,y:-6},visible:{opacity:1,y:0},exit:{opacity:0,y:-6}}};const zn="/auth0/admin",On=[{to:`${zn}/dashboard`,text:"Dashboard",icon:c.jsx(Ce,{})}],qn=[{to:`${zn}/add`,text:"Add Ride",icon:c.jsx(xs,{})},{to:`${zn}/list`,text:"List Rides",icon:c.jsx(ps,{})},{to:`${zn}/book`,text:"Booked Rides",icon:c.jsx(gs,{})},{to:`${zn}/add-driver`,text:"Add Drivers",icon:c.jsx(Ie,{})},{to:`${zn}/list-drivers`,text:"List Drivers",icon:c.jsx(ps,{})},{to:`${zn}/assign-rides`,text:"Assign Rides",icon:c.jsx(js,{})},{to:`${zn}/finance`,text:"Finance",icon:c.jsx(fs,{})}],Un=[{to:`${zn}/push-test`,text:"Test Push",icon:c.jsx(ys,{})},{to:`${zn}/push-global`,text:"Global Push",icon:c.jsx(bs,{})},{to:`${zn}/push-history`,text:"Push History",icon:c.jsx(vs,{})},{to:`${zn}/bull`,text:"Job History",icon:c.jsx(ws,{})}],Mn=[{to:`${zn}/settings`,text:"Profile Settings",icon:c.jsx(Ss,{})},{to:"",text:"Change Theme",icon:c.jsx(wr,{className:"themeButton"})}];function _n(){const[e,t]=l.useState(!0);return l.useEffect((()=>{e&&(async()=>{localStorage.getItem("adminAssetsLoaded")||(await Ln(),localStorage.setItem("adminAssetsLoaded","true")),sessionStorage.setItem("adminAssetsLoaded","true"),t(!1)})()}),[e]),e?c.jsxs(d,{children:[c.jsx(d,{sx:{p:2},children:Array.from({length:On.length}).map(((e,t)=>c.jsxs("div",{sx:{display:"flex"},children:[c.jsx(X,{variant:"circular",height:45,width:30,sx:{mb:1,mr:1}},t),c.jsx(X,{variant:"rectangular",height:48,sx:{mb:1}},t)]})))}),c.jsx(d,{sx:{p:2,mt:2},children:Array.from({length:qn.length}).map(((e,t)=>c.jsxs("div",{sx:{display:"flex"},children:[c.jsx(X,{variant:"circular",height:45,width:30,sx:{mb:1,mr:1}},t),c.jsx(X,{variant:"rectangular",height:48,sx:{mb:1}},t)]})))}),c.jsx(d,{sx:{p:2,mt:5},children:Array.from({length:Un.length}).map(((e,t)=>c.jsxs("div",{sx:{display:"flex"},children:[c.jsx(X,{variant:"circular",height:45,width:30,sx:{mb:1,mr:1}},t),c.jsx(X,{variant:"rectangular",height:48,sx:{mb:1}},t)]})))}),c.jsx(d,{sx:{p:2,mt:5},children:Array.from({length:Mn.length}).map(((e,t)=>c.jsxs("div",{sx:{display:"flex"},children:[c.jsx(X,{variant:"circular",height:45,width:30,sx:{mb:1,mr:1}},t),c.jsx(X,{variant:"rectangular",height:48,sx:{mb:1}},t)]})))})]}):c.jsxs(d,{sx:{width:260,bgcolor:"background.paper",pt:2},children:[c.jsx(be,{children:On.map((({to:e,text:t,icon:s})=>c.jsx(c.Fragment,{children:c.jsx(R,{elevation:3,children:c.jsxs(ve,{component:we,to:e,sx:{px:3,py:1.5},activeClassName:"Mui-selected",children:[c.jsx(Se,{children:s}),c.jsx(ke,{primary:t})]},e)})})))}),c.jsx(j,{sx:{fontSize:12}}),c.jsx(be,{children:qn.map((({to:e,text:t,icon:s})=>c.jsx(c.Fragment,{children:c.jsxs(ve,{component:we,to:e,sx:{px:3,py:1.5},activeClassName:"Mui-selected",children:[c.jsx(Se,{children:s}),c.jsx(ke,{primary:t})]},e)})))}),c.jsx(j,{}),c.jsxs(be,{children:[c.jsx(R,{children:c.jsx(R,{elevation:10,children:c.jsx(A,{sx:{ml:5},title:"Notifications"})})}),Un.map((({to:e,text:t,icon:s})=>c.jsx(c.Fragment,{children:c.jsxs(ve,{component:we,to:e,sx:{px:3,py:1.5},activeClassName:"Mui-selected",children:[c.jsx(Se,{children:s}),c.jsx(ke,{primary:t})]},e)})))]}),c.jsx(j,{}),c.jsxs(be,{children:[c.jsx(R,{children:c.jsx(R,{elevation:10,children:c.jsx(A,{sx:{ml:5},title:"Settings"})})}),Mn.map((({to:e,text:t,icon:s})=>c.jsxs(c.Fragment,{children:[c.jsxs(ve,{component:we,to:e,sx:{px:3,py:1.5},activeClassName:"Mui-selected",children:[c.jsx(Se,{children:s}),c.jsx(ke,{primary:t})]},e),c.jsx(j,{})]})))]})]})}function Hn({open:e,onClose:t}){const s=x();return c.jsx(ls,{children:e&&c.jsxs(c.Fragment,{children:[c.jsx(ee.div,{onClick:t,style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.4)",zIndex:s.zIndex.drawer+1},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}}),c.jsxs(ee.aside,{role:"dialog",style:{position:"fixed",top:0,left:0,height:"100vh",width:260,zIndex:s.zIndex.drawer+2,background:s.palette.background.paper,boxShadow:s.shadows[6],overflowY:"auto"},initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",stiffness:260,damping:30},children:[c.jsx(Oe,{}),c.jsx(_n,{})]})]})})}function $n({children:e}){const t=x(),s=Ee(t.breakpoints.up("lg")),[a,r]=Fe.useState((()=>"true"===localStorage.getItem("drawerOpen"))),i=()=>{const e=!a;r(e),localStorage.setItem("drawerOpen",e)},n=Q();return l.useEffect((()=>{s||(r(!1),localStorage.setItem("drawerOpen","false"))}),[n,s]),c.jsxs(c.Fragment,{children:[c.jsx(y,{children:c.jsx("title",{children:"Jeremiah K. Deku"})}),c.jsxs(d,{sx:{display:"flex"},children:[c.jsx(We,{}),c.jsx(Wn,{onMenuClick:i,isMenuOpen:a}),!s&&c.jsx(Hn,{open:a,onClose:()=>i()}),s&&c.jsxs(ze,{variant:"permanent",sx:{display:{xs:"none",lg:"block"},"& .MuiDrawer-paper":{width:260}},open:!0,children:[c.jsx(Oe,{}),c.jsx(_n,{})]}),c.jsxs(d,{component:"main",sx:{flexGrow:1,p:3,ml:{lg:"260px"}},children:[c.jsx(Oe,{}),e]})]})]})}kt.node.isRequired;const Jn=()=>{const e=x(),[t,s]=l.useState({totalRides:0,totalBookings:0,totalUsers:0,totalRevenue:0,totalDrivers:0}),[a,r]=l.useState([]),[i,n]=l.useState([]),[o,u]=l.useState([]);l.useEffect((()=>{Sa.get("/api/admin/stats",{withCredentials:!0}).then((e=>{e.data.success&&e.data.stats?s(e.data.stats):console.error("API did not return success:",e.data)})).catch((e=>console.error("Error fetching stats:",e)))}),[]),l.useEffect((()=>{Sa.get("/api/admin/monthly-revenue",{withCredentials:!0}).then((e=>{if(e.data.success&&e.data.data){const t=e.data.data.map((e=>({month:new Date(0,e.month-1).toLocaleString("default",{month:"short"}),revenue:e.revenue})));r(t)}else console.error("API did not return success for monthly revenue:",e.data)})).catch((e=>console.error("Error fetching monthly revenue:",e)))}),[]),l.useEffect((()=>{Sa.get("/api/admin/booking-status",{withCredentials:!0}).then((e=>{e.data.success&&e.data.data?n(e.data.data):console.error("API did not return success for booking status:",e.data)})).catch((e=>console.error("Error fetching booking status:",e)))}),[]),l.useEffect((()=>{Sa.get("/api/admin/monthly-bookings",{withCredentials:!0}).then((e=>{if(e.data.success&&e.data.data){const t=e.data.data.map((e=>({month:new Date(0,e.month-1).toLocaleString("default",{month:"short"}),bookings:e.bookings})));u(t)}else console.error("API did not return success for monthly bookings:",e.data)})).catch((e=>console.error("Error fetching monthly bookings:",e)))}),[]);const m=[e.palette.primary.main,e.palette.success.main,e.palette.error.main,e.palette.warning.main];return c.jsxs(d,{sx:{p:3},children:[c.jsx(h,{variant:"h4",sx:{mb:3},children:"Dashboard"}),c.jsxs(V,{container:!0,spacing:3,children:[c.jsx(V,{item:!0,xs:12,sm:6,md:3,children:c.jsx(R,{sx:{backgroundColor:e.palette.primary.light,color:e.palette.primary.contrastText},children:c.jsxs(de,{children:[c.jsxs(h,{variant:"h6",gutterBottom:!0,children:[c.jsx(ks,{size:30,style:{marginRight:5,marginBottom:-10}}),"Total Rides"]}),c.jsx(h,{variant:"h4",children:t.totalRides})]})})}),c.jsx(V,{item:!0,xs:12,sm:6,md:3,children:c.jsx(R,{sx:{backgroundColor:e.palette.primary.dark,color:e.palette.primary.contrastText},children:c.jsxs(de,{children:[c.jsxs(h,{variant:"h6",gutterBottom:!0,children:[c.jsx(Cs,{size:30,style:{marginRight:5,marginBottom:-10}}),"Total Drivers"]}),c.jsx(h,{variant:"h4",children:t.totalDrivers||0})]})})}),c.jsx(V,{item:!0,xs:12,sm:6,md:3,children:c.jsx(R,{sx:{backgroundColor:e.palette.secondary.light,color:e.palette.secondary.contrastText},children:c.jsxs(de,{children:[c.jsxs(h,{variant:"h6",gutterBottom:!0,children:[c.jsx(se,{size:30,style:{marginRight:5,marginBottom:-10}}),"Total Bookings"]}),c.jsx(h,{variant:"h4",children:t.totalBookings})]})})}),c.jsx(V,{item:!0,xs:12,sm:6,md:3,children:c.jsx(R,{sx:{backgroundColor:e.palette.info.light,color:e.palette.info.contrastText},children:c.jsxs(de,{children:[c.jsxs(h,{variant:"h6",gutterBottom:!0,children:[c.jsx(Rs,{size:30,style:{marginRight:5,marginBottom:-10}}),"Total Users"]}),c.jsx(h,{variant:"h4",children:t.totalUsers})]})})}),c.jsx(V,{item:!0,xs:12,sm:6,md:3,children:c.jsx(R,{sx:{backgroundColor:e.palette.success.light,color:e.palette.success.contrastText},children:c.jsxs(de,{children:[c.jsxs(h,{variant:"h6",gutterBottom:!0,children:[c.jsx(As,{size:30,style:{marginRight:5,marginBottom:-10}}),"Revenue"]}),c.jsxs(h,{variant:"h4",children:["$","number"==typeof t.totalRevenue?t.totalRevenue.toFixed(2):"0.00"]})]})})})]}),c.jsxs(d,{sx:{mt:4},children:[c.jsx(h,{variant:"h5",sx:{mb:2},children:"Monthly Revenue (Line Chart)"}),c.jsx(Is,{width:"100%",height:300,children:c.jsxs(Ns,{data:a,margin:{top:5,right:30,left:20,bottom:5},children:[c.jsx(Ts,{strokeDasharray:"3 3"}),c.jsx(Ds,{dataKey:"month"}),c.jsx(Ps,{}),c.jsx(Es,{}),c.jsx(Fs,{}),c.jsx(Ws,{type:"monotone",dataKey:"revenue",stroke:e.palette.success.main,activeDot:{r:8}})]})})]}),c.jsxs(d,{sx:{mt:4},children:[c.jsx(h,{variant:"h5",sx:{mb:2},children:"Booking Status Distribution (Pie Chart)"}),c.jsx(Is,{width:"100%",height:300,children:c.jsxs(Bs,{children:[c.jsx(Ls,{data:i,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,fill:e.palette.primary.main,label:!0,children:i.map(((e,t)=>c.jsx(zs,{fill:m[t%m.length]},`cell-${t}`)))}),c.jsx(Es,{}),c.jsx(Fs,{})]})})]}),c.jsxs(d,{sx:{mt:4},children:[c.jsx(h,{variant:"h5",sx:{mb:2},children:"Monthly Bookings (Bar Chart)"}),c.jsx(Is,{width:"100%",height:300,children:c.jsxs(Os,{data:o,margin:{top:5,right:30,left:20,bottom:5},children:[c.jsx(Ts,{strokeDasharray:"3 3"}),c.jsx(Ds,{dataKey:"month"}),c.jsx(Ps,{}),c.jsx(Es,{}),c.jsx(Fs,{}),c.jsx(qs,{dataKey:"bookings",fill:e.palette.secondary.main})]})})]}),c.jsxs(d,{sx:{mt:4},children:[c.jsx(h,{variant:"h5",sx:{mb:2},children:"Recent Activity"}),c.jsx(h,{variant:"body1",color:"text.secondary",children:"(Recent activity logs and system updates will be displayed here.)"})]})]})},Vn=[{value:"admin",label:"Admin"},{value:"super-admin",label:"Super Admin"},{value:"admin-manager",label:"Admin Manager"}];function Gn({afterInvite:e}){const[t,s]=l.useState(!1),[a,r]=l.useState(""),[i,n]=l.useState("admin"),[o,d]=l.useState(!1),[m,x]=l.useState(""),[p,g]=l.useState(""),j=()=>s(!1);return c.jsxs(c.Fragment,{children:[c.jsx($,{title:"Invite New Admin",children:c.jsx(u,{variant:"contained",color:"primary",startIcon:c.jsx(Us,{}),onClick:()=>{s(!0),r(""),n("admin"),x(""),g("")},children:"Invite Admin"})}),c.jsxs(Ue,{open:t,onClose:j,maxWidth:"xs",fullWidth:!0,children:[c.jsx(Me,{children:"Invite New Admin"}),c.jsxs("form",{onSubmit:async t=>{t.preventDefault(),x(""),g(""),d(!0);try{const t=await Sa.post("/api/admin/invite",{email:a,roles:[i]});t.data.success?(g("Invitation sent! The user will receive an email with setup instructions."),e&&e()):x(t.data.message||"Failed to send invite.")}catch(s){x(s.response?.data?.message||"Network/server error.")}finally{d(!1)}},children:[c.jsxs(_e,{children:[c.jsx(h,{sx:{mb:2},children:"Enter the email address and role for the new admin. They will receive a secure invite link."}),m&&c.jsx(_,{severity:"error",sx:{mb:2},children:m}),p&&c.jsx(_,{severity:"success",sx:{mb:2},children:p}),c.jsx(T,{label:"Email",type:"email",value:a,onChange:e=>r(e.target.value),required:!0,fullWidth:!0,sx:{mb:2}}),c.jsx(T,{label:"Role",select:!0,value:i,onChange:e=>n(e.target.value),required:!0,fullWidth:!0,sx:{mb:2},children:Vn.map((e=>c.jsx(ss,{value:e.value,children:e.label},e.value)))})]}),c.jsxs($t,{children:[c.jsx(u,{onClick:j,color:"inherit",disabled:o,children:"Cancel"}),c.jsx(u,{type:"submit",variant:"contained",color:"primary",disabled:o||!a,startIcon:o?c.jsx(C,{size:20}):c.jsx(Us,{}),children:o?"Sending...":"Send Invite"})]})]})]})]})}const Yn=S().shape({current:k().required("Current password is required"),newPassword:k().min(8,"Password must be at least 8 characters").matches(/(?=.*[0-9])/,"Must contain a number").matches(/(?=.*[A-Z])/,"Must contain an uppercase letter").matches(/(?=.*[!@#$%^&*])/,"Must contain a special character").required("New password is required"),confirmPassword:k().oneOf([Ms("newPassword"),null],"Passwords must match").required("Please confirm your new password")}),Kn=()=>{const[e,t]=l.useState([]),[s,a]=l.useState(!1),[r,i]=l.useState(!1),[n,o]=l.useState(null),m=b(),[x,p]=l.useState({name:"",email:"",avatar:""}),[g,f]=l.useState(null),[v,w]=l.useState(!1),[S,k]=l.useState({current:!1,newPassword:!1,confirmPassword:!1}),[N,D]=l.useState(!1),[P,F]=l.useState({open:!1,message:"",severity:"success"});l.useEffect((()=>{B(),L()}),[]);const W=(e,t="success")=>F({open:!0,message:e,severity:t}),B=async()=>{a(!0);try{const{data:e}=await Sa.get("/api/admin/pending-invites",{withCredentials:!0});e.success&&t(e.invites)}catch{W("Failed to load invites","error")}finally{a(!1)}},L=async()=>{try{const{data:e}=await Sa.get("/api/admin/me",{withCredentials:!0});p(e)}catch{W("Failed to load profile","error")}},z=()=>{o(null),i(!1)};return c.jsxs(c.Fragment,{children:[c.jsx(y,{children:c.jsx("title",{children:"Settings - Jerry-Admin"})}),c.jsxs(d,{p:4,className:"settings-root",children:[c.jsxs(h,{variant:"h4",gutterBottom:!0,sx:{bgcolor:"rgb(9, 51, 65)",color:"white",p:2,borderRadius:2},children:[c.jsxs(E,{sx:{cursor:"pointer",fontSize:16,color:"#ccc"},onClick:()=>window.history.back(),children:[c.jsx(_s,{style:{marginRight:8}}),"Back"]}),"|",c.jsx(Hs,{style:{marginRight:8,marginLeft:8}})," Settings"]}),c.jsxs(V,{container:!0,spacing:4,children:[c.jsx(V,{item:!0,xs:12,md:6,children:c.jsxs(R,{elevation:3,children:[c.jsx(A,{avatar:c.jsx(Rs,{}),title:"Team Management"}),c.jsx(j,{}),c.jsxs(de,{children:[c.jsx(Gn,{afterInvite:()=>B()}),c.jsx(d,{mt:2,children:s?c.jsx(C,{}):e.length?c.jsx(be,{dense:!0,children:e.map((e=>c.jsxs(vt,{secondaryAction:c.jsx(E,{onClick:()=>(o(e),void i(!0)),children:c.jsx(Ut,{})}),children:[c.jsx(wt,{children:c.jsx(et,{children:e.email[0]})}),c.jsx(ke,{primary:e.email,secondary:e.role}),c.jsx(He,{label:"Pending",color:"warning"})]},e.id)))}):c.jsx(_,{severity:"info",children:"No pending invites"})})]})]})}),c.jsx(V,{item:!0,xs:12,md:6,children:c.jsxs(R,{elevation:3,children:[c.jsx(A,{avatar:c.jsx(Y,{}),title:"Profile Photo"}),c.jsx(j,{}),c.jsxs(de,{sx:{textAlign:"center"},children:[c.jsx(et,{src:x.avatar,sx:{width:80,height:80,mx:"auto"}}),c.jsxs(d,{mt:1,children:[c.jsxs(u,{component:"label",children:["Choose Photo",c.jsx("input",{type:"file",hidden:!0,onChange:e=>{const t=e.target.files?.[0];t&&(f(t),p((e=>({...e,avatar:URL.createObjectURL(t)}))))},accept:"image/*"})]}),g&&c.jsx(u,{sx:{ml:1},disabled:v,onClick:async()=>{if(!g)return;w(!0);const e=new FormData;e.append("avatar",g);try{const{data:t}=await Sa.post("/api/admin/profile/avatar",e,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0});t.success&&(p((e=>({...e,avatar:t.user.avatar}))),f(null),W("Avatar updated ✅"))}catch{W("Avatar upload failed ❌","error")}finally{w(!1)}},children:v?"Uploading...":"Upload"})]})]})]})}),c.jsx(V,{item:!0,xs:12,md:6,children:c.jsxs(R,{elevation:3,children:[c.jsx(A,{avatar:c.jsx(K,{}),title:"Change Password"}),c.jsx(j,{}),c.jsx(de,{sx:{display:"flex",flexDirection:"column",gap:2},children:c.jsx(I,{initialValues:{current:"",newPassword:"",confirmPassword:""},validationSchema:Yn,onSubmit:async(e,{resetForm:t})=>{D(!0);try{const{data:s}=await Sa.post("/api/admin/profile/password",{current:e.current,newPassword:e.newPassword,confirmPassword:e.confirmPassword},{withCredentials:!0});s.success&&(W("Password changed"),t(),await m(Ea()),m(La()),Ks(gn).purge(),window.location.href="/Oauth2/v1/admin/login")}catch(s){W(s.response?.data?.message||"Password change failed","error")}finally{D(!1)}},children:({values:e,errors:t,touched:s,handleChange:a,handleBlur:r,isValid:i,dirty:n})=>c.jsxs(zt,{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[["current","newPassword","confirmPassword"].map((i=>c.jsxs(d,{sx:{position:"relative"},children:[c.jsx(T,{fullWidth:!0,name:i,label:"current"===i?"Current Password":"newPassword"===i?"New Password":"confirmPassword"===i?"Confirm Password":"",type:S[i]?"text":"password",value:e[i],onChange:a,onBlur:r,error:s[i]&&Boolean(t[i]),helperText:s[i]&&t[i],autoComplete:"current"===i?"current-password":"newPassword"===i||"confirmPassword"===i?"new-password":void 0}),c.jsx(E,{onClick:()=>(e=>{k((t=>({...t,[e]:!t[e]})))})(i),sx:{position:"absolute",top:"50%",right:8,transform:"translateY(-50%)"},edge:"end",tabIndex:-1,children:S[i]?c.jsx(rs,{}):c.jsx(is,{})})]},i))),c.jsx(u,{type:"submit",variant:"contained",disabled:N||!i||!n,children:N?c.jsx(C,{size:24}):"Update Password"})]})})})]})}),c.jsx(V,{item:!0,xs:12,md:6,children:c.jsxs(R,{elevation:3,children:[c.jsx(A,{avatar:c.jsx($s,{}),title:"Notifications"}),c.jsx(j,{}),c.jsxs(de,{children:[c.jsx(Js,{children:["Email","SMS","Push","Sounds"].map((e=>c.jsx(Vs,{control:c.jsx(Gs,{defaultChecked:!0}),label:e},e)))}),c.jsx(j,{sx:{my:2}}),c.jsx(h,{variant:"subtitle2",children:"Do Not Disturb"}),c.jsxs(d,{sx:{display:"flex",gap:2,alignItems:"center",mt:1},children:[c.jsx(T,{label:"Start",type:"time"}),c.jsx(T,{label:"End",type:"time"})]})]})]})})]}),c.jsxs(Ue,{open:r,onClose:z,children:[c.jsx(Me,{children:"Cancel Invite"}),c.jsx(_e,{children:c.jsxs(h,{children:["Cancel invite for ",c.jsx("strong",{children:n?.email}),"?"]})}),c.jsxs($t,{children:[c.jsx(u,{onClick:z,children:"No"}),c.jsx(u,{color:"error",variant:"contained",onClick:async()=>{try{await Sa.delete(`/api/admin/invite/${n.id}`,{withCredentials:!0}),t((e=>e.filter((e=>e.id!==n.id)))),W("Invite cancelled")}catch{W("Failed to cancel invite","error")}finally{z()}},children:"Yes"})]})]}),c.jsx(Ys,{open:P.open,message:P.message,autoHideDuration:5e3,onClose:()=>F((e=>({...e,open:!1}))),anchorOrigin:{vertical:"bottom",horizontal:"center"}})]})]})},Xn=()=>{const[e,t]=l.useState({userId:"",fcmToken:"",title:"Hello from Admin",body:"This is a test push notification 🚀",data:{url:"/",type:"test"}}),s=e=>{const{name:s,value:a}=e.target;t((e=>({...e,[s]:a})))};return c.jsxs("div",{style:{padding:20},children:[c.jsx("h3",{children:"🔔 Test Push Notification"}),c.jsx("label",{children:"User ID:"}),c.jsx("input",{name:"userId",value:e.userId,onChange:s,placeholder:"Optional (or use FCM token)",style:{width:"100%",marginBottom:8}}),c.jsx("label",{children:"FCM Token:"}),c.jsx("input",{name:"fcmToken",value:e.fcmToken,onChange:s,placeholder:"Optional (or use User ID)",style:{width:"100%",marginBottom:8}}),c.jsx("label",{children:"Title:"}),c.jsx("input",{name:"title",value:e.title,onChange:s,style:{width:"100%",marginBottom:8}}),c.jsx("label",{children:"Body:"}),c.jsx("input",{name:"body",value:e.body,onChange:s,style:{width:"100%",marginBottom:8}}),c.jsx("button",{onClick:async()=>{try{const{data:t}=await Sa.post("/api/test-push",e,{withCredentials:!0});z.success("✅ Push sent successfully!"),console.log("FCM Response:",t)}catch(t){z.error("❌ Push failed: "+(t.response?.data?.message||t.message)),console.error("Test Push Error:",t)}},style:{marginTop:10},children:"Send Push"})]})};Xs.extend(Qs),Xs.extend(Zs);const Qn={title:"",body:"",imageUrl:"",url:"",sendAt:null},Zn=()=>{const[e,t]=l.useState(Qn),[s,a]=l.useState(!1),[r,i]=l.useState(!1),[n,o]=l.useState({}),m=l.useCallback((e=>{const{name:s,value:a}=e.target;t((e=>({...e,[s]:a}))),o((e=>({...e,[s]:""})))}),[]),x=l.useCallback((e=>{t((t=>({...t,sendAt:e}))),o((e=>({...e,sendAt:""})))}),[]),p=l.useCallback((()=>{const t={};return e.title.trim()||(t.title="Title is required."),e.body.trim()||(t.body="Body is required."),e.sendAt&&Xs(e.sendAt).isBefore(Xs())&&(t.sendAt="Scheduled time must be in the future."),e.url&&!/^(ftp|http|https):\/\/[^ "]+$/.test(e.url)&&(t.url="Invalid URL format."),e.imageUrl&&!/^(ftp|http|https):\/\/[^ "]+$/.test(e.imageUrl)&&(t.imageUrl="Invalid Image URL format."),o(t),0===Object.keys(t).length}),[e]),g=l.useCallback((async()=>{if(p()){i(!0);try{const s={...e,sendAt:e.sendAt?Xs(e.sendAt).utc().toISOString():null},r=await Sa.post("/api/admin/global-update",s,{withCredentials:!0});z.success(r.data.message||"Notification sent/scheduled successfully! 🎉"),t(Qn),a(!1),o({})}catch(s){console.error("Failed to send global update:",s);const e=s.response?.data?.message||"Failed to send notification. Please try again.";z.error(e)}finally{i(!1)}}else z.error("Please correct the highlighted errors.")}),[e,p]),j=l.useMemo((()=>{if(!s)return null;const t=e.sendAt?Xs(e.sendAt).format("YYYY-MM-DD HH:mm"):"Immediately";return c.jsxs(d,{mt:4,children:[c.jsx(h,{variant:"h6",gutterBottom:!0,children:"Notification Preview 📱"}),c.jsxs(R,{sx:{bgcolor:"#f4f6f8",p:2,borderRadius:2,boxShadow:1},children:[c.jsx(h,{variant:"subtitle1",fontWeight:600,gutterBottom:!0,children:e.title||"Untitled Notification"}),c.jsx(h,{variant:"body2",color:"text.secondary",paragraph:!0,children:e.body||"No content provided."}),e.imageUrl&&c.jsx(d,{mt:1,mb:2,children:c.jsx("img",{src:e.imageUrl,alt:"Preview",style:{maxWidth:"100%",height:"auto",borderRadius:8,objectFit:"cover"},onError:e=>{e.target.onerror=null,e.target.src="https://via.placeholder.com/150?text=Image+Load+Error"}})}),e.url&&c.jsxs(h,{mt:1,variant:"body2",color:"primary",sx:{wordBreak:"break-all"},children:["➤ ",c.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:e.url})]}),c.jsxs(h,{variant:"caption",color:"text.secondary",display:"block",mt:1,children:["Scheduled: ",t]})]})]})}),[s,e]);return c.jsx(d,{maxWidth:"md",mx:"auto",p:3,children:c.jsxs(R,{elevation:4,children:[c.jsx(A,{title:"Global Push Notification Management"}),c.jsxs(de,{children:[c.jsxs(N,{spacing:3,children:[c.jsx(T,{label:"Notification Title",name:"title",value:e.title,onChange:m,fullWidth:!0,required:!0,error:!!n.title,helperText:n.title}),c.jsx(T,{label:"Notification Body",name:"body",value:e.body,onChange:m,fullWidth:!0,multiline:!0,rows:4,required:!0,error:!!n.body,helperText:n.body}),c.jsx(T,{label:"Image URL (optional)",name:"imageUrl",value:e.imageUrl,onChange:m,fullWidth:!0,type:"url",error:!!n.imageUrl,helperText:n.imageUrl}),c.jsx(T,{label:"Redirect URL (optional)",name:"url",value:e.url,onChange:m,fullWidth:!0,type:"url",error:!!n.url,helperText:n.url}),c.jsx(Kt,{dateAdapter:ea,children:c.jsx(ta,{label:"Schedule Date & Time (optional)",value:e.sendAt,onChange:x,slotProps:{textField:{fullWidth:!0,error:!!n.sendAt,helperText:n.sendAt}},minDateTime:Xs(),timezone:"UTC"})}),c.jsxs(N,{direction:"row",spacing:2,justifyContent:"flex-end",children:[c.jsx(u,{variant:"outlined",onClick:()=>a((e=>!e)),disabled:r,children:s?"Hide Preview":"Show Preview"}),c.jsx(u,{variant:"contained",color:"primary",onClick:g,disabled:r,startIcon:r&&c.jsx(C,{size:20,color:"inherit"}),children:r?"Sending...":"Send Notification"})]})]}),j]})]})})};function eo(){const[e,t]=l.useState({notifications:[],page:1,pages:1}),s=async e=>{const s=await Sa.get("/api/notifications",{params:{page:e}});t(s.data)};return l.useEffect((()=>{s(1)}),[]),c.jsxs(N,{spacing:2,p:2,children:[c.jsx(be,{children:e.notifications.map((e=>c.jsx(vt,{divider:!0,children:c.jsx(ke,{primary:e.message,secondary:new Date(e.createdAt).toLocaleString()})},e._id)))}),c.jsx(sa,{count:e.pages,page:e.page,onChange:(e,t)=>s(t)})]})}const to=()=>{const[e,t]=l.useState(!1),[s,a]=l.useState(!1);return c.jsxs(d,{sx:{p:4,backgroundColor:"#f5f5f5",minHeight:"100vh"},children:[c.jsx(h,{variant:"h4",gutterBottom:!0,fontWeight:"bold",children:"📦 Job Queue Dashboard"}),c.jsx(h,{variant:"subtitle1",color:"text.secondary",gutterBottom:!0,children:"Monitor and manage your job queues via BullMQ."}),!e&&!s&&c.jsxs(d,{sx:{height:"75vh",display:"flex",alignItems:"center",justifyContent:"center"},children:[c.jsx(C,{}),c.jsx(h,{sx:{ml:2},color:"text.secondary",children:"Loading BullBoard..."})]}),s&&c.jsx(_,{severity:"error",icon:c.jsx(aa,{}),sx:{mt:4,height:"75vh",display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsxs(d,{children:[c.jsx(h,{variant:"h6",children:"Failed to load BullBoard interface."}),c.jsx(h,{variant:"body2",color:"text.secondary",children:"Ensure your backend is running and CORS is correctly configured."})]})}),c.jsx(H,{elevation:3,sx:{mt:3,display:e?"block":"none",height:"80vh",overflow:"hidden",borderRadius:2},children:c.jsx("iframe",{src:"http://localhost:5000/api/admin/queues",title:"BullBoard",style:{width:"100%",height:"100%",border:"none"},onLoad:()=>t(!0),onError:()=>a(!0)})})]})};function so(){return c.jsx("div",{children:c.jsxs(pt,{children:[c.jsx(gt,{path:"dashboard",element:c.jsx(yn,{allowedRoles:["admin","super-admin","admin-manager"],children:c.jsx($n,{children:c.jsx(Jn,{})})})}),c.jsx(gt,{path:"add",element:c.jsx(yn,{allowedRoles:["super-admin","admin-manager"],children:c.jsx($n,{children:c.jsx(bn,{})})})}),c.jsx(gt,{path:"list",element:c.jsx(yn,{allowedRoles:["admin","super-admin","admin-manager"],children:c.jsx($n,{children:c.jsx(vn,{})})})}),c.jsx(gt,{path:"book",element:c.jsx(yn,{allowedRoles:["admin","super-admin","admin-manager"],children:c.jsx($n,{children:c.jsx(wn,{})})})}),c.jsx(gt,{path:"add-driver",element:c.jsx(yn,{allowedRoles:["super-admin","admin-manager"],children:c.jsx($n,{children:c.jsx(Cn,{})})})}),c.jsx(gt,{path:"list-drivers",element:c.jsx(yn,{allowedRoles:["admin","super-admin","admin-manager"],children:c.jsx($n,{children:c.jsx(Rn,{})})})}),c.jsx(gt,{path:"assign-rides",element:c.jsx(yn,{allowedRoles:["super-admin","admin-manager"],children:c.jsx($n,{children:c.jsx(An,{})})})}),c.jsx(gt,{path:"update-ride/:id",element:c.jsx(yn,{allowedRoles:["super-admin","admin-manager"],children:c.jsx($n,{children:c.jsx(In,{})})})}),c.jsx(gt,{path:"update-driver/:id",element:c.jsx(yn,{allowedRoles:["super-admin","admin-manager"],children:c.jsx($n,{children:c.jsx(Tn,{})})})}),c.jsx(gt,{path:"finance",element:c.jsx(yn,{allowedRoles:["super-admin","admin-manager"],children:c.jsx($n,{children:c.jsx(Dn,{})})})}),c.jsx(gt,{path:"settings",element:c.jsx(yn,{allowedRoles:["admin-manager","super-admin"],children:c.jsx(Kn,{})})}),c.jsx(gt,{path:"push-test",allowedRoles:["super-admin"],element:c.jsx(yn,{allowedRoles:["super-admin"],children:c.jsx(Xn,{})})}),c.jsx(gt,{path:"push-global",allowedRoles:["super-admin"],element:c.jsx(yn,{allowedRoles:["super-admin","admin-manager"],children:c.jsx(Zn,{})})}),c.jsx(gt,{path:"push-history",allowedRoles:["super-admin","admin-manager"],element:c.jsx(yn,{allowedRoles:["super-admin"],children:c.jsx(eo,{})})}),c.jsx(gt,{path:"bull",allowedRoles:["super-admin","admin-manager"],element:c.jsx(yn,{allowedRoles:["super-admin","admin-manager"],children:c.jsx(to,{})})}),c.jsx(gt,{path:"*",element:c.jsx(en,{})})]})})}const ao=()=>{const[e,t]=l.useState((()=>{try{const e=sessionStorage.getItem("adminAccess");return e?JSON.parse(e):{checked:!1,allowed:!1}}catch{return{checked:!1,allowed:!1}}}));return l.useEffect((()=>{e.checked||(async()=>{const e=sessionStorage.getItem("adminAccess");if(e)try{const{checked:t,allowed:s}=JSON.parse(e);if(t&&!s)return!1}catch{}try{const e=await fetch("/api/admin/check-ip",{credentials:"include"}),t=e.headers.get("content-type")||"";if(!e.ok||!t.includes("application/json"))return sessionStorage.setItem("adminAccess",JSON.stringify({checked:!0,allowed:!1})),!1;const s=await e.json();return sessionStorage.setItem("adminAccess",JSON.stringify({checked:!0,allowed:s.allowed})),s.allowed}catch(t){return console.error("IP check failed:",t),sessionStorage.setItem("adminAccess",JSON.stringify({checked:!0,allowed:!1})),!1}})().then((e=>{t({checked:!0,allowed:e})}))}),[e.checked]),{...e}},ro=()=>c.jsxs(d,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"#f4f7f9",color:"#333",p:2},children:[c.jsx(d,{sx:{width:"50%",mb:2},children:c.jsx(m,{})}),c.jsx(h,{variant:"h6",sx:{fontWeight:"500"},children:"Verifying your access..."})]}),io=({children:e})=>{const{checked:t,allowed:s}=ao();return t?s?e:c.jsx(en,{}):c.jsx(ro,{})};function no(){const e="/Oauth2/v1/admin";l.useEffect((()=>{"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",(e=>{if("PLAY_SOUND"===e.data?.type){new Audio("sounds/apple-toast.mp3").play().catch((e=>console.warn("Audio playback blocked:",e)))}}))}),[]);const t=()=>c.jsx(tr,{children:c.jsx(so,{})});return c.jsx(Kt,{dateAdapter:Xt,children:c.jsxs(pt,{children:[c.jsx(gt,{path:"/jerryDek/*",element:c.jsx(fn,{})}),c.jsx(gt,{path:`${e}/login`,element:c.jsx(io,{children:c.jsx(sr,{children:c.jsx(Ga,{})})})}),c.jsx(gt,{path:`${e}/forgot-password`,element:c.jsx(io,{children:c.jsx(sr,{children:c.jsx(Ya,{})})})}),c.jsx(gt,{path:`${e}/reset-password/:token`,element:c.jsx(io,{children:c.jsx(sr,{children:c.jsx(Ka,{})})})}),c.jsx(gt,{path:`${e}/accept-invite`,element:c.jsx(io,{children:c.jsx(sr,{children:c.jsx(Qa,{})})})}),c.jsx(gt,{path:`${e}/setup-2fa`,element:c.jsx(io,{children:c.jsx(sr,{children:c.jsx(Xa,{})})})}),c.jsx(gt,{path:`${e}/verify-backup-code`,element:c.jsx(io,{children:c.jsx(sr,{children:c.jsx(Za,{})})})}),c.jsx(gt,{path:`${e}/unauthorized`,element:c.jsx(io,{children:c.jsx(sr,{children:c.jsx(er,{})})})}),c.jsx(gt,{path:"/auth0/admin/*",element:c.jsx(io,{children:c.jsx(t,{})})}),c.jsx(gt,{path:"*",element:c.jsx(Z,{to:"/jerryDek/",replace:!0})})]})})}class oo extends Fe.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.setState({errorInfo:t}),console.error("ErrorBoundary caught:",e,t)}render(){return this.state.hasError?c.jsxs("div",{style:{padding:20},children:[c.jsx("h2",{children:"Something went wrong:"}),c.jsx("pre",{style:{whiteSpace:"pre-wrap",color:"red"},children:this.state.error?.toString()}),this.state.errorInfo?.componentStack&&c.jsx("details",{style:{whiteSpace:"pre-wrap",marginTop:10},children:this.state.errorInfo.componentStack})]}):this.props.children}}function lo(){const{pathname:e}=Q();return l.useEffect((()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})}),[e]),null}const co=new ra("offlineQueueDB");co.version(1).stores({requests:"++id, method, url, nextRetryAt, attempts"});const ho=new Set,uo=(e,t)=>ho.forEach((s=>s(e,t))),mo=e=>new Promise((t=>setTimeout(t,e)));const xo=new class{constructor(){this.processing=!1,window.addEventListener("online",(()=>{this.processAll().catch((e=>console.error("processAll error",e)))}))}async size(){return co.requests.count()}async enqueue(e){const t=(e=>{const{url:t,method:s="get",data:a,params:r,headers:i,withCredentials:n=!0,timeout:o}=e;return{url:t,method:s,data:a,params:r,headers:i,withCredentials:n,timeout:o}})(e),s=Date.now(),a={...t,attempts:0,createdAt:s,nextRetryAt:s},r=await co.requests.add(a);return uo("queued",{id:r}),r}async processAll(e){if(!this.processing){this.processing=!0;try{for(;;){const a=Date.now(),r=await co.requests.where("nextRetryAt").belowOrEqual(a).first();if(!r)break;try{await e({url:r.url,method:r.method,data:r.data,params:r.params,headers:r.headers,withCredentials:r.withCredentials,timeout:r.timeout}),await co.requests.delete(r.id),uo("flushed_one",{id:r.id})}catch(s){const e=r.attempts+1;if(e>=5)await co.requests.delete(r.id),uo("dropped",{id:r.id,error:s});else{const s=Date.now()+(t=e,Math.min(2e3*2**t,6e4)+Math.floor(300*Math.random()));await co.requests.update(r.id,{attempts:e,nextRetryAt:s}),uo("retry_scheduled",{id:r.id,attempts:e,nextRetryAt:s})}}await mo(0)}}finally{this.processing=!1}var t}}},po=r.create({baseURL:"http://localhost:3000",withCredentials:!0});function go(){const[e,t]=l.useState(0);l.useEffect((()=>{let e=!0;const s=async()=>{const s=await xo.size();e&&t(s)};s();const a=(r=async()=>{await s()},ho.add(r),()=>ho.delete(r));var r;return navigator.onLine&&xo.processAll(po),()=>{e=!1,a()}}),[]);return{queuedCount:e,retryNow:()=>xo.processAll(po)}}po.interceptors.response.use((e=>e),(async e=>{const t=e.config||{};return(e=>!navigator.onLine||"ERR_NETWORK"===e.code||!!e.message?.includes("Network Error"))(e)?(await xo.enqueue(t),Promise.resolve({queued:!0,offline:!0})):Promise.reject(e)}));const jo=()=>{const[e,t]=l.useState(navigator.onLine),[s,a]=l.useState(!1),[r,i]=l.useState(""),[n,o]=l.useState("info"),[u,m]=l.useState(null),{queuedCount:x,retryNow:p}=go(),g=l.useRef(new f.Howl({src:["sounds/bubble-pop.mp3"],volume:2})).current,j=l.useCallback(((e,t)=>{i(e),o(t),a(!0),window.setTimeout((()=>a(!1)),2500)}),[]),y=l.useCallback((async()=>{try{await fetch("https://www.google.com/favicon.ico",{method:"HEAD",mode:"no-cors",cache:"no-store"}),navigator.onLine||v()}catch{v()}}),[]),b=l.useCallback((()=>{t(!0);const e=null!=u?((Date.now()-u)/1e3).toFixed(1):0;j(e>0?`Back online after ${e}s${x>0?` • retrying ${x} queued request(s)…`:""}`:"You are back online","success"),g.play(),m(null),p()}),[u,x,p,j]),v=l.useCallback((()=>{t(!1),m(Date.now()),j("You are currently offline","warning")}),[j]);l.useEffect((()=>(window.addEventListener("online",b),window.addEventListener("offline",v),y(),()=>{window.removeEventListener("online",b),window.removeEventListener("offline",v)})),[b,v,y]);const w=()=>window.location.reload(),S=()=>{e?(p(),j("Retrying queued requests…","info")):j("Retry will auto-run when you're back online","warning")};return c.jsx(Ys,{open:s,anchorOrigin:{vertical:"bottom",horizontal:"left"},TransitionComponent:e=>c.jsx(ca,{...e,direction:"up"}),sx:{"& .MuiSnackbarContent-root":{minWidth:320,maxWidth:420}},children:c.jsx(_,{severity:n,sx:{width:"100%",backgroundColor:"#1a237e",color:"#ffffff",borderRadius:"8px",boxShadow:"0px 4px 12px rgba(0, 0, 0, 0.15)","& .MuiAlert-icon":{color:e?"#4caf50":"#ff9800"},"& .MuiAlert-message":{padding:0,display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"}},icon:e?c.jsx(oa,{sx:{fontSize:40}}):c.jsx(la,{sx:{fontSize:40}}),action:c.jsxs(d,{sx:{display:"flex",alignItems:"center",gap:1},children:[x>0&&c.jsx(He,{label:`${x} pending`,onClick:S,size:"small",variant:"outlined",sx:{color:"#bbdefb",borderColor:"#bbdefb","&:hover":{backgroundColor:"rgba(255,255,255,0.08)"}}}),c.jsx(E,{size:"small",onClick:S,sx:{color:"#ffffff","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},title:"Retry all queued requests now",children:c.jsx(ia,{fontSize:"small"})}),!e&&c.jsx(E,{size:"small",onClick:w,sx:{color:"#ffffff","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},title:"Reload page",children:c.jsx(na,{fontSize:"small"})}),c.jsx(E,{size:"small",onClick:()=>a(!1),sx:{color:"#ffffff","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:c.jsx(Be,{fontSize:"small"})})]}),children:c.jsxs(d,{sx:{display:"flex",alignItems:"center",flex:1},children:[c.jsx(h,{variant:"body2",sx:{fontWeight:500,fontSize:"14px",color:"#ffffff"},children:r}),!e&&c.jsx(h,{variant:"body2",sx:{ml:2,color:"#bbdefb",fontSize:"13px",cursor:"pointer","&:hover":{textDecoration:"underline"}},onClick:w,children:"Refresh"})]})})})},fo=da({key:"css",nonce:window.__CSP_NONCE__}),yo=Ks(gn);"serviceWorker"in navigator&&navigator.serviceWorker.register("firebase-messaging-sw.js",{scope:"/jerryDek/"}).then((e=>console.log("✅ Service worker registered with scope:",e.scope))).catch((e=>console.error("❌ Service worker registration failed:",e))),ha.createRoot(document.getElementById("root")).render(c.jsx(ua,{store:gn,children:c.jsx(ma,{loading:null,persistor:yo,children:c.jsxs(xa,{children:[c.jsx(lo,{}),c.jsx(jo,{}),c.jsx(We,{}),c.jsx(pa,{children:c.jsx(ga,{theme:ba,children:c.jsx(oo,{children:c.jsxs(ja,{timeout:288e5,onIdle:()=>{console.log("User idle – logging out"),gn.dispatch(mi()).unwrap().catch((()=>{})).finally((()=>{window.location.href="/jerryDek/"}))},debounce:500,events:["mousemove","keydown","wheel","touchstart"],children:[c.jsx(fa,{position:"top-right"}),c.jsx(ya,{value:fo,children:c.jsx(no,{})})]})})})})]})})}));
